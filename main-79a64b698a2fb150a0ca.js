!function(e){function t(t){for(var n,s,l=t[0],u=t[1],o=t[2],m=0,p=[];m<l.length;m++)s=l[m],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);p.length;)p.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,l=1;l<a.length;l++){var u=a[l];0!==i[u]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={0:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var c=u;r.push([481,1]),a()}({475:function(e,t,a){var n=a(476);"string"==typeof n&&(n=[[e.i,n,""]]);var i={insert:"head",singleton:!1};a(181)(n,i);n.locals&&(e.exports=n.locals)},476:function(e,t,a){(e.exports=a(180)(!1)).push([e.i,"html,\nbody,\n#map {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n#map {\n  z-index: 10;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n\n#loading-animation {\n  z-index: 25;\n  position: absolute;\n  top: 15px;\n  right: 20px;\n}\n\n.map-button {\n  z-index: 15;\n  position: absolute;\n}\n\n#map-button-zoom-in {\n  top: 20px;\n  left: 20px;\n}\n\n#map-button-zoom-out {\n  top: 60px;\n  left: 20px;\n}\n\n#map-button-position {\n  top: 100px;\n  left: 20px;\n}\n\n#map-button-search {\n  top: 140px;\n  left: 20px;\n}\n\n#map-button-info {\n  top: 180px;\n  left: 20px;\n}\n\n#map-button-settings {\n  top: 220px;\n  left: 20px;\n}\n\n.page {\n  z-index: 20;\n  position: absolute;\n  top: 0px;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n\n.pageHeader {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.pageHeaderText {\n  font-size: 20px;\n  font-weight: 500;\n}\n\n.pageContent {\n  height: 90%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.page-right-visible {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: 0px;\n}\n\n.page-right-closing {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: -100%;\n}\n\n.page-right-hidden {\n  right: -100%;\n  width: 0px;\n}\n\n@media (min-width: 768px) {\n  .page {\n  }\n  .page-right-hidden {\n  }\n}\n\n@media (min-width: 992px) {\n  .page {\n    width: 400px;\n  }\n  .page-right-closing {\n    right: -400px;\n  }\n}\n\n.sub-layer-select-checkbox-container {\n  margin-left: 20px;\n}\n\n.feature-collapse-panel-heading h6 {\n  font-size: 14px;\n  line-height: 1.3;\n  margin-top: 5px;\n  font-weight: 400;\n}\n\n.feature-icon {\n  margin-right: 5px;\n}\n",""])},481:function(e,t,a){"use strict";a.r(t);a(244),a(464),a(465);var n,i,r,s,l=a(183),u=a(231),o=a(157),c=a(229),m=a(10),p=a(39),h=a(228),k=a(88),d=a(232),g=a(100);!function(e){e.Maastokartta="maastokartta",e.Taustakartta="taustakartta",e.Ortokuva="ortokuva"}(i||(i={})),function(e){e["Muinaisjäännökset_piste"]="Muinaisjäännökset_piste",e["Muinaisjäännökset_alue"]="Muinaisjäännökset_alue",e.Suojellut_rakennukset_piste="Suojellut_rakennukset_piste",e.Suojellut_rakennukset_alue="Suojellut_rakennukset_alue",e.RKY_alue="RKY_alue",e.RKY_piste="RKY_piste",e.RKY_viiva="RKY_viiva",e["Maailmanperintö_piste"]="Maailmanperintö_piste",e["Maailmanperintö_alue"]="Maailmanperintö_alue"}(r||(r={})),function(e){e.Fornminnen="Fornminnen"}(s||(s={}));var f,y,v=((n={})[r.Muinaisjäännökset_piste]=0,n[r.Muinaisjäännökset_alue]=1,n[r.Suojellut_rakennukset_piste]=2,n[r.Suojellut_rakennukset_alue]=3,n[r.RKY_alue]=4,n[r.RKY_piste]=5,n[r.RKY_viiva]=6,n[r.Maailmanperintö_piste]=7,n[r.Maailmanperintö_alue]=8,n);!function(e){e["eiMääritelty"]="ei määritelty",e.alustenHylyt="alusten hylyt",e.asuinpaikat="asuinpaikat",e.hautapaikat="hautapaikat",e.kirkkorakenteet="kirkkorakenteet",e.kivirakenteet="kivirakenteet",e["kulkuväylät"]="kulkuväylät",e.kulttiJaTarinapaikat="kultti- ja tarinapaikat",e.luonnonmuodostumat="luonnonmuodostumat",e["löytöpaikat"]="löytöpaikat",e.maarakenteet="maarakenteet",e["muinaisjäännösryhmät"]="muinaisjäännösryhmät",e.puolustusvarustukset="puolustusvarustukset",e.puurakenteet="puurakenteet",e.raakaAineenHankintapaikat="raaka-aineen hankintapaikat",e.taideMuistomerkit="taide, muistomerkit",e.tapahtumapaikat="tapahtumapaikat",e.teollisuuskohteet="teollisuuskohteet",e["työJaValmistuspaikat"]="työ- ja valmistuspaikat"}(f||(f={})),function(e){e.moniperiodinen="moniperiodinen",e.esihistoriallinen="esihistoriallinen",e.kivikautinen="kivikautinen",e.varhaismetallikautinen="varhaismetallikautinen",e.pronssikautinen="pronssikautinen",e.rautakautinen="rautakautinen",e.keskiaikainen="keskiaikainen",e.historiallinen="historiallinen",e.moderni="moderni",e.ajoittamaton="ajoittamaton",e["eiMääritelty"]="ei määritelty"}(y||(y={}));var E,b={moniperiodinen:"",esihistoriallinen:"8600 eaa. - 1200 jaa.",kivikautinen:"8600 – 1500 eaa.",varhaismetallikautinen:"1500 eaa. - 200 jaa.",pronssikautinen:"1700 – 500 eaa.",rautakautinen:"500 eaa. - 1200 jaa.",keskiaikainen:"1200 - 1570 jaa.",historiallinen:"1200 jaa. -",moderni:"1800 jaa -",ajoittamaton:"","ei määritelty":""},j=function(e,t,a){var n=this;this.loadMMLWmtsCapabilitiesAndAddLayers=function(e){fetch("https://avoin-karttakuva.maanmittauslaitos.fi/avoin/wmts/1.0.0/WMTSCapabilities.xml").then((function(e){return e.text()})).then((function(t){return n.addWmtsLayers(t,e)}))},this.addWmtsLayers=function(e,t){var a=(new d.a).read(e);n.maastokarttaLayerSource=new g.a(Object(g.b)(a,{layer:i.Maastokartta})),n.taustakarttaLayerSource=new g.a(Object(g.b)(a,{layer:i.Taustakartta})),n.ortokuvaLayerSource=new g.a(Object(g.b)(a,{layer:i.Ortokuva}));var r=t.selectedMaanmittauslaitosLayer;n.mmlMaastokarttaLayer=new k.a({source:n.maastokarttaLayerSource,visible:r===i.Maastokartta}),n.mmlTaustakarttaLayer=new k.a({source:n.taustakarttaLayerSource,visible:r===i.Taustakartta}),n.mmlOrtokuvaLayer=new k.a({source:n.ortokuvaLayerSource,visible:r===i.Ortokuva}),n.updateLoadingAnimationOnLayerSourceTileLoad(n.maastokarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.taustakarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.ortokuvaLayerSource),n.onLayersCreatedCallbackFn(n.mmlMaastokarttaLayer,n.mmlTaustakarttaLayer,n.mmlOrtokuvaLayer)},this.updateLoadingAnimationOnLayerSourceTileLoad=function(e){e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){if(n.mmlMaastokarttaLayer&&n.mmlTaustakarttaLayer&&n.mmlOrtokuvaLayer){var t=e.selectedMaanmittauslaitosLayer;n.mmlMaastokarttaLayer.setVisible(t===i.Maastokartta),n.mmlTaustakarttaLayer.setVisible(t===i.Taustakartta),n.mmlOrtokuvaLayer.setVisible(t===i.Ortokuva)}},this.showLoadingAnimationFn=t,this.onLayersCreatedCallbackFn=a,this.loadMMLWmtsCapabilitiesAndAddLayers(e)},w=a(153),L=a(1),M=function(e,t){var a=this;this.addLayer=function(){a.source=a.createSource(),a.layer=new k.a({source:a.source,extent:[65741.9087,6606901.2261,180921.4173,6747168.5691]}),a.layer.setOpacity(.7),a.onLayerCreatedCallbackFn(a.layer)},this.createSource=function(){var e=new w.a({urls:["https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/export"],params:{layers:"show:1"}});return e.on("tileloadstart",(function(e){a.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){a.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){a.showLoadingAnimationFn(!1)})),e},this.identifyFeaturesAt=function(e,t,n){if(!a.layer||!Object(L.f)(a.layer.getExtent(),e))return Promise.resolve({results:[]});var i=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:n.join(","),layers:"visible:1",f:"json",returnGeometry:"true"}),r=new URL("https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/identify");return r.search=String(i),fetch(String(r)).then((function(e){return e.json()}))},this.findFeatures=function(e){var t=new URLSearchParams({searchText:e,contains:"true",searchFields:"Namn , Beskrivning, Topografi",layers:"1",f:"json",returnGeometry:"true",returnZ:"false"}),a=new URL("https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/find");return a.search=String(t),fetch(String(a)).then((function(e){return e.json()}))},this.showLoadingAnimationFn=e,this.onLayerCreatedCallbackFn=t,this.addLayer()},_=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new k.a({source:n.source}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.createSource=function(){var e=new w.a({urls:["https://d3u1wj9fwedfoy.cloudfront.net"],params:{layers:n.getSourceLayerSelectionSettings(),layerDefs:n.getSourceLayerDefinitionFilterParams()}});return e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),e},this.updateMuinaismuistotLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.getSourceLayerSelectionSettings=function(){var e=Object.values(r);if(e.length!==n.settings.selectedMuseovirastoLayers.length){var t=n.toLayerIds(n.settings.selectedMuseovirastoLayers);return t.length>0?"show:"+t.join(","):"hide:"+n.toLayerIds(e).join(",")}},this.getSourceLayerDefinitionFilterParams=function(){var e=[],t=n.settings.selectedMuinaisjaannosTypes;if(t.length>0&&t.length!=Object.values(f).length){var a=t.sort().map((function(e){return"tyyppi LIKE '%"+e+"%'"})).join(" OR ");e.push("("+a+")")}var i=n.settings.selectedMuinaisjaannosDatings;if(i.length>0&&i.length!=Object.values(y).length){var s=i.sort().map((function(e){return"ajoitus LIKE '%"+e+"%'"})).join(" OR ");e.push("("+s+")")}if(e.length>0)return v[r.Muinaisjäännökset_piste]+":"+e.join(" AND ")},this.toLayerIds=function(e){return e.map((function(e){return v[e]})).sort()},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateMuinaismuistotLayerSource()},this.selectedMuinaisjaannosTypesChanged=function(e){n.settings=e,n.updateMuinaismuistotLayerSource()},this.selectedMuinaisjaannosDatingsChanged=function(e){n.settings=e,n.updateMuinaismuistotLayerSource()},this.identifyFeaturesAt=function(e,t,a){var i=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+n.toLayerIds(n.settings.selectedMuseovirastoLayers).join(","),f:"json",returnGeometry:"true"}),r=new URL("https://d3t293l8mhxosa.cloudfront.net");return r.search=String(i),fetch(String(r)).then((function(e){return e.json()}))},this.findFeatures=function(e){var t=n.settings.selectedMuseovirastoLayers;t.includes(r.Muinaisjäännökset_alue)&&(t=t.filter((function(e){return e!==r.Muinaisjäännökset_alue})));var a=new URLSearchParams({searchText:e,contains:"true",searchFields:"Kohdenimi, Nimi, KOHDENIMI",layers:n.toLayerIds(t).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),i=new URL("https://d3239kmqvyt2db.cloudfront.net");return i.search=String(a),fetch(String(i)).then((function(e){return e.json()}))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()},S=a(227),C=a(233),N=a(111),T=a(99),x=a(131),A=a(112),F=a(234),P=a(182),K=a(98),O=function(e){var t=this;this.addCurrentPositionMarker=function(e){if(t.currentPositionFeature)t.currentPositionFeature.setGeometry(new K.a(e));else{var a=new N.a({color:"rgba(0, 0, 255, 1.0)"}),n=new T.a({color:"rgba(255, 255, 255, 1.0)",width:3});t.currentPositionFeature=new P.a({geometry:new K.a(e)}),t.currentPositionFeature.setStyle(new A.b({image:new x.a({fill:a,stroke:n,radius:7}),fill:a,stroke:n})),t.source.addFeature(t.currentPositionFeature)}},this.addSelectedLocationFeatureMarker=function(e){t.selectedLocationFeature?t.selectedLocationFeature.setGeometry(new K.a(e)):(t.selectedLocationFeature=new P.a({geometry:new K.a(e)}),t.selectedLocationFeature.setStyle(new A.b({image:new F.a({src:"images/map-pin.png"})})),t.source.addFeature(t.selectedLocationFeature))},this.onLayerCreatedCallbackFn=e,this.source=new C.a({}),this.layer=new S.a({source:this.source}),this.onLayerCreatedCallbackFn(this.layer)},R=function(e,t){var a=this;this.loadFeaturesOnClickedCoordinate=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.ahvenanmaaTileLayer.identifyFeaturesAt(e.coordinate,a.map.getSize(),a.map.getView().calculateExtent(a.map.getSize())),n=a.museovirastoTileLayer.identifyFeaturesAt(e.coordinate,a.map.getSize(),a.map.getView().calculateExtent(a.map.getSize()));Promise.all([t,n]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results);a.eventListeners.featuresSelected(i)}))},this.initGeolocation=function(){a.geolocation=new h.a({projection:a.view.getProjection(),tracking:!0}),a.geolocation.once("change:position",a.geolocationChanged)},this.geolocationChanged=function(){a.centerToCurrentPositions()},this.zoom=function(e){a.view.animate({zoom:a.view.getZoom()+e,duration:250})},this.selectedFeatureLayersChanged=function(e){a.museovirastoTileLayer.selectedFeatureLayersChanged(e)},this.selectedMuinaisjaannosTypesChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosTypesChanged(e)},this.selectedMuinaisjaannosDatingsChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosDatingsChanged(e)},this.searchFeatures=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.ahvenanmaaTileLayer.findFeatures(e),n=a.museovirastoTileLayer.findFeatures(e);Promise.all([t,n]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results);a.eventListeners.featureSearchReady(i)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){a.maanmittauslaitosTileLayer.selectedMaanmittauslaitosLayerChanged(e)},this.setMapLocation=function(e){a.view.setCenter(e)},this.centerToCurrentPositions=function(){if(a.geolocation&&a.geolocation.getPosition()){var e=a.geolocation.getPosition();a.view.setCenter(e),a.positionAndSelectedLocation.addCurrentPositionMarker(e)}else a.initGeolocation()},this.showSelectedLocationMarker=function(e){a.positionAndSelectedLocation.addSelectedLocationFeatureMarker(e)},this.zoomIn=function(){a.zoom(1)},this.zoomOut=function(){a.zoom(-1)},this.eventListeners=t,l.a.defs("EPSG:3067","+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Object(c.a)(l.a),Object(m.g)("EPSG:3067").setExtent([50199.4814,6582464.0358,761274.6247,7799839.8902]),this.view=new o.a({center:[385249.63630000036,6672695.7579],projection:"EPSG:3067",zoom:8}),this.map=new u.a({target:"map",view:this.view,controls:new p.a}),this.maanmittauslaitosTileLayer=new j(e,t.showLoadingAnimation,(function(e,t,n){a.map.getLayers().insertAt(0,e),a.map.getLayers().insertAt(1,t),a.map.getLayers().insertAt(2,n)})),this.ahvenanmaaTileLayer=new M(t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(3,e)})),this.museovirastoTileLayer=new _(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(4,e)})),this.positionAndSelectedLocation=new O((function(e){a.map.getLayers().insertAt(5,e)})),this.map.on("click",this.loadFeaturesOnClickedCoordinate)},D=(a(468),a(475),a(0)),I=a(230),Y=function(e){var t=e.visible;return D.createElement("div",{id:"loading-animation",className:t?"":"hidden"},D.createElement("img",{src:"images/loading.gif"}))},z=function(e){var t=e.onClick;return D.createElement("div",{id:"map-button-zoom-in",className:"map-button"},D.createElement("button",{type:"button",className:"btn btn-primary",title:"Lähennä",onClick:t},D.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"})))},U=function(e){var t=e.onClick;return D.createElement("div",{id:"map-button-zoom-out",className:"map-button"},D.createElement("button",{type:"button",className:"btn btn-primary",title:"Loitonna",onClick:t},D.createElement("span",{className:"glyphicon glyphicon-minus","aria-hidden":"true"})))},H=function(e){var t=e.onClick;return D.createElement("div",{id:"map-button-position",className:"map-button"},D.createElement("button",{type:"button",className:"btn btn-primary",title:"Keskitä kartta nykyiseen sijaintiisi",onClick:t},D.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})))},V=function(e){var t=e.onClick;return D.createElement("div",{id:"map-button-info",className:"map-button"},D.createElement("button",{type:"button",className:"btn btn-primary",title:"Ohjeita sivuston käyttöön",onClick:t},D.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})))},G=a(43),B=function(e){return"kiinteä muinaisjäännös"===ee(e.attributes.laji)},J=function(e){return"muu kulttuuriperintökohde"===ee(e.attributes.laji)},W=function(e){switch(e.layerName){case r.Muinaisjäännökset_piste:case r.Muinaisjäännökset_alue:case r.RKY_alue:case r.RKY_piste:case r.RKY_viiva:case r.Suojellut_rakennukset_piste:case r.Suojellut_rakennukset_alue:return ee(e.attributes.kohdenimi);case r.Maailmanperintö_piste:case r.Maailmanperintö_alue:return ee(e.attributes.Nimi);case s.Fornminnen:return ee(e.attributes.Namn)||ee(e.attributes["Fornlämnings ID"])}},Z=function(e){switch(e.layerName){case r.Muinaisjäännökset_piste:if(B(e))return"Kiinteä muinaisjäännös";if(J(e))return"Muu kulttuuriperintökohde";break;case r.Muinaisjäännökset_alue:if(B(e))return"Kiinteä muinaisjäännös (alue)";if(J(e))return"Muu kulttuuriperintökohde (alue)";break;case r.RKY_alue:case r.RKY_piste:case r.RKY_viiva:return"Rakennettu kulttuuriympäristö";case r.Maailmanperintö_piste:case r.Maailmanperintö_alue:return"Maailmanperintökohde";case r.Suojellut_rakennukset_piste:case r.Suojellut_rakennukset_alue:return"Rakennusperintökohde";case s.Fornminnen:return"Ahvenanmaan muinaisjäännösrekisterin kohde";default:return}},q=function(e){switch(e.layerName){case r.Muinaisjäännökset_piste:if(B(e))return"images/muinaisjaannos_kohde.png";if(J(e))return"images/muu_kulttuuriperintokohde_kohde.png";break;case r.Muinaisjäännökset_alue:if(B(e))return"images/muinaisjaannos_alue.png";if(J(e))return"images/muu-kulttuuriperintokohde-alue.png";break;case r.RKY_alue:return"images/rky_alue.png";case r.RKY_viiva:return"images/rky_viiva.png";case r.RKY_piste:return"images/rky_piste.png";case r.Maailmanperintö_alue:return"images/maailmanperinto_alue.png";case r.Maailmanperintö_piste:return"images/maailmanperinto_piste.png";case r.Suojellut_rakennukset_alue:return"images/rakennusperintorekisteri_alue.png";case r.Suojellut_rakennukset_piste:return"images/rakennusperintorekisteri_rakennus.png";case s.Fornminnen:return"images/ahvenanmaa_muinaisjaannos.png";default:return}},Q=function(e){switch(e.layerName){case r.Muinaisjäännökset_piste:case r.Muinaisjäännökset_alue:case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:case r.Maailmanperintö_alue:case r.Maailmanperintö_piste:case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:case s.Fornminnen:return e.attributes.OBJECTID}},X=function(e){switch(e.layerName){case r.Muinaisjäännökset_piste:case r.Muinaisjäännökset_alue:case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:return"https://"+e.attributes.url;case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:return e.attributes.url;case r.Maailmanperintö_alue:case r.Maailmanperintö_piste:return function(e){var t=e.attributes.URL;if(t.startsWith("http://www.nba.fi/fi/ajankohtaista/kansainvalinen_toiminta/maailmanperintokohteet_suomessa")){var a=t.indexOf("#"),n="";-1!==a&&(n=t.substring(a)),t="https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa"+n}return t}(e);case s.Fornminnen:return function(e){switch(e.attributes["Fornlämnings ID"].substring(0,2)){case"Br":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/BR%c3%84ND%c3%96.pdf";case"Ec":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/ECKER%c3%96.pdf";case"Fö":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/F%c3%96GL%c3%96.pdf";case"Fi":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/FINSTR%c3%96M.pdf";case"Ge":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/GETA.pdf";case"Ha":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/HAMMARLAND.pdf";case"Jo":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/JOMALA.pdf";case"Kö":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/K%c3%96KAR.pdf";case"Ku":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/KUMLINGE.pdf";case"Le":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/LEMLAND.pdf";case"Lu":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/LUMPARLAND.pdf";case"Ma":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/MARIEHAMN.pdf";case"Sa":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SALTVIK.pdf";case"So":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SOTTUNGA.pdf";case"Su":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SUND.pdf";case"Vå":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/V%c3%85RD%c3%96.pdf"}}(e)}},$=function(e){switch(e.geometryType){case"esriGeometryPolygon":return[(t=e.geometry.rings[0][0])[0],t[1]];case"esriGeometryPoint":return[e.geometry.x,e.geometry.y];case"esriGeometryPolyline":var t;return[(t=e.geometry.paths[0][0])[0],t[1]]}},ee=function(e){if(null==e)return"";if("null"===(e=e.trim()).toLowerCase())return"";for(;","===e.substr(e.length-1,1);)e=e.substring(0,e.length-1).trim();return e},te=function(e){return"#x="+e[0]+";y="+e[1]},ae=function(){var e=window.location.hash.replace("#","").replace("x=","").replace("y=","").split(";");if(2!==e.length)return null;var t=parseFloat(e[0]),a=parseFloat(e[1]);return isNaN(t)||isNaN(a)?null:[t,a]},ne=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.children,r=$(n),s=r&&te(r),l=function(e){e.preventDefault(),a()};return D.createElement("div",{className:"panel panel-default"},D.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},D.createElement("h4",{className:"panel-title"},D.createElement("a",{role:"button",href:"",onClick:l},W(n)),D.createElement("a",{className:"pull-right",href:s},D.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}))),D.createElement("h6",{className:"panel-title"},D.createElement("a",{role:"button",href:"",onClick:l},D.createElement("img",{className:"feature-icon",src:q(n)}),D.createElement("span",null,Z(n))))),D.createElement("div",{className:"panel-collapse collapse "+(t?"in":""),role:"tabpanel"},D.createElement("div",{className:"panel-body"},i)))},ie=function(e){var t=e.label,a=e.value,n=e.children,i=ee(a);return n||i?D.createElement("div",{className:"form-group"},D.createElement("label",null,t),n||D.createElement("p",null,i)):null},re=function(e){var t,a=e.feature,n=(t=a.attributes.ajoitus,b[t]);return n?D.createElement("span",{className:"label label-default"},n):null},se=function(e){var t=e.feature,a=X(t),n=function(e){switch(e.layerName){case r.Muinaisjäännökset_piste:case r.Muinaisjäännökset_alue:return"Muinaisjäännösrekisteristä";case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:return"rky.fi rekisteristä";case r.Maailmanperintö_alue:case r.Maailmanperintö_piste:return"Museoviraston sivuilta";case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:return"rakennusperintörekisteristä";case s.Fornminnen:return"Ahvenamaan muinaisjäännösrekisteri"}}(t);return a?D.createElement("p",null,"Lisää tietoa kohteesta Museoviraston"," ",D.createElement("a",{href:a,target:"_blank"},n),"."):null},le=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return D.createElement(ne,{isOpen:t,onToggleOpen:a,feature:n},D.createElement("form",null,D.createElement(ie,{label:"Kohdenimi",value:n.attributes.kohdenimi}),D.createElement(ie,{label:"Kunta",value:n.attributes.kunta}),D.createElement(ie,{label:"Ajoitus"},D.createElement("p",null,D.createElement("span",null,ee(n.attributes.ajoitus)),D.createElement(re,{feature:n}))),D.createElement(ie,{label:"Tyyppi",value:n.attributes.tyyppi}),D.createElement(ie,{label:"Alatyyppi",value:n.attributes.alatyyppi}),D.createElement(ie,{label:"Laji",value:n.attributes.laji}),D.createElement(se,{feature:n})))},ue=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return D.createElement(ne,{isOpen:t,onToggleOpen:a,feature:n},D.createElement("form",null,D.createElement(ie,{label:"Kohdenimi",value:n.attributes.kohdenimi}),D.createElement(ie,{label:"Kunta",value:n.attributes.kunta}),D.createElement(ie,{label:"Laji",value:n.attributes.laji}),D.createElement(se,{feature:n})))},oe=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return D.createElement(ne,{isOpen:t,onToggleOpen:a,feature:n},D.createElement("form",null,D.createElement(ie,{label:"Kohdenimi",value:n.attributes.kohdenimi}),n.layerName===r.RKY_alue&&D.createElement(ie,{label:"Nimi",value:n.attributes.nimi}),D.createElement(se,{feature:n})))},ce=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return D.createElement(ne,{isOpen:t,onToggleOpen:a,feature:n},D.createElement("form",null,D.createElement(ie,{label:"Kohdenimi",value:n.attributes.Nimi}),D.createElement(se,{feature:n})))},me=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return D.createElement(ne,{isOpen:t,onToggleOpen:a,feature:n},D.createElement("form",null,D.createElement(ie,{label:"Kohdenimi",value:n.attributes.kohdenimi}),n.layerName==r.Suojellut_rakennukset_piste&&D.createElement(ie,{label:"Rakennusnimi",value:n.attributes.rakennusnimi}),D.createElement(ie,{label:"Kunta",value:n.attributes.kunta}),D.createElement(ie,{label:"Suojeluryhmä",value:n.attributes.suojeluryhmä}),D.createElement(se,{feature:n})))},pe=function(e){var t=e.feature,a=X(t);return a?D.createElement("p",null,"Lisää tietoa kohteesta löytyy"," ",D.createElement("a",{href:a,target:"_blank"},"kuntakohtaisesta Pdf-tiedostosta"),", josta voit etsiä kohteen tunnisteella"," ",D.createElement("span",{className:"label label-default"},t.attributes["Fornlämnings ID"]),"."):null},he=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return D.createElement(ne,{isOpen:t,onToggleOpen:a,feature:n},D.createElement("form",null,D.createElement(ie,{label:"Nimi",value:n.attributes.Namn}),D.createElement(ie,{label:"Kunta",value:n.attributes.Kommun}),D.createElement(ie,{label:"Kylä",value:n.attributes.By}),D.createElement(ie,{label:"Kuvaus",value:n.attributes.Beskrivning}),D.createElement(ie,{label:"Sijainti",value:n.attributes.Topografi}),D.createElement(ie,{label:"Tunniste",value:n.attributes["Fornlämnings ID"]}),D.createElement(pe,{feature:n})))};!function(e){e.Visible="Visible",e.Closing="Closing",e.Hidden="Hidden"}(E||(E={}));var ke,de=function(e){var t=e.title,a=e.visibility,n=e.hidePage,i=e.children,r="";switch(a){case E.Visible:r="page-right-visible";break;case E.Closing:r="page-right-closing";break;case E.Hidden:r="page-right-hidden"}return D.createElement("div",{className:"container page "+r},a!==E.Hidden&&D.createElement("div",{className:"row pageHeader"},D.createElement("div",{className:"col-xs-3"},D.createElement("button",{className:"btn btn-primary btn-sm",onClick:n},D.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}),"Sulje")),D.createElement("div",{className:"col-xs-9"},D.createElement("span",{className:"pageHeaderText"},t))),a!==E.Hidden&&D.createElement("div",{className:"pageContent"},i))},ge=function(e){var t=e.visibility,a=e.hidePage,n=e.features,i=D.useState(""),r=i[0],s=i[1],l=function(e){return s(r===e?"":e)};return D.createElement(de,{title:"Valitut kohteet",visibility:t,hidePage:a},D.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"}),n&&n.map((function(e){return function(e,t,a){var n=e.layerName+"-"+Q(e),i={key:n,isOpen:a===n,onToggleOpen:function(){return t(n)}};switch(e.layerName){case"Muinaisjäännökset_piste":return D.createElement(le,G.a({feature:e},i));case"Muinaisjäännökset_alue":return D.createElement(ue,G.a({feature:e},i));case"RKY_alue":case"RKY_viiva":case"RKY_piste":return D.createElement(oe,G.a({feature:e},i));case"Maailmanperintö_alue":case"Maailmanperintö_piste":return D.createElement(ce,G.a({feature:e},i));case"Suojellut_rakennukset_alue":case"Suojellut_rakennukset_piste":return D.createElement(me,G.a({feature:e},i));case"Fornminnen":return D.createElement(he,G.a({feature:e},i))}}(e,l,r)})))},fe=function(e){var t=e.hidePage,a=e.feature,n=W(a),i=Z(a),r=q(a),s=$(a),l=s&&te(s);return D.createElement("a",{href:l,className:"list-group-item search-result-row",onClick:t},D.createElement("h4",{className:"list-group-item-heading"},n),D.createElement("p",{className:"list-group-item-text"},D.createElement("img",{className:"feature-icon",src:r}),D.createElement("span",null,i)))},ye=function(e){var t=e.hidePage,a=e.features;return a?D.createElement(D.Fragment,null,D.createElement("h5",{id:"search-result-header"},D.createElement("span",null,"Hakutulokset"),D.createElement("small",null," (",a.length," kpl)")),D.createElement("div",{className:"list-group"},a.map((function(e){return D.createElement(fe,{key:e.layerName+"-"+Q(e),feature:e,hidePage:t})})))):null},ve=function(){return D.createElement("div",{className:"alert alert-danger",role:"alert"},"Hakusanan pitää olla vähintään kolme merkkiä")},Ee=function(e){var t=e.visibility,a=e.hidePage,n=e.searchFeatures,i=e.searchResultFeatures,r=D.useState(""),s=r[0],l=r[1],u=D.useState(!1),o=u[0],c=u[1];return D.createElement(de,{title:"Hae kohteita",visibility:t,hidePage:a},D.createElement("form",{className:o?"has-error":void 0,onSubmit:function(e){e.stopPropagation(),e.preventDefault(),s.trim().length<3?c(!0):(c(!1),n(s))}},o&&D.createElement(ve,null),D.createElement("div",{className:"input-group"},D.createElement("input",{type:"text",className:"form-control",placeholder:"Kirjoita kohteen nimi tai sen osa",value:s,onChange:function(e){return l(e.target.value)}}),D.createElement("span",{className:"input-group-btn"},D.createElement("button",{className:"btn btn-default",type:"submit"},"Hae")))),D.createElement(ye,{features:i,hidePage:a}))},be=function(e){var t=e.title,a=e.children;return D.createElement("div",{className:"panel panel-default"},D.createElement("div",{className:"panel-heading"},t),D.createElement("div",{className:"panel-body"},a))},je=function(){return D.createElement(be,{title:"Tietoa sivustosta"},D.createElement("p",null,"Tällä sivustolla näet kartalla seuraavien rekisterien tiedot:"),D.createElement("h5",null,"Museovirasto"),D.createElement("ul",null,D.createElement("li",null,D.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/mjreki/read/asp/r_default.aspx"},"Muinaisjäännösrekisteri")),D.createElement("li",null,D.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/rapea/read/asp/r_default.aspx"},"Rakennusperintörekisteri")),D.createElement("li",null,D.createElement("a",{href:"https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa"},"Maailmanperintökohteet")),D.createElement("li",null,D.createElement("a",{href:"http://www.rky.fi/"},"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"))),D.createElement("h5",null,"Ahvenamaan paikallishallinto"),D.createElement("ul",null,D.createElement("li",null,D.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret"},"Muinaisjäännösrekisteri"))),D.createElement("p",null,"Kaikki näytettävät kohteet ovat avointa dataa ja haettu rekisterin ylläpitäjän tarjoamasta karttapalvelusta."),D.createElement("p",null,"Kohteista saa lisätietoikkunan näkyviin klikkaamalla kohdetta kartalla. Tästä näkymästä on myös linkki kohteen lisätietoihin rekisterin ylläpitäjän sivustolla. Kohteen otsikon vieressä olevasta kuvakkeesta (",D.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}),") saa talteen pysyvän linkin kohteen sijaintiin kartalla."),D.createElement("h5",null,"Paikannus"),D.createElement("p",null,"Kartta keskitetään oletuksena nykyiseen sijaintiisi jos annat selaimelle luvan luovuttaa se tieto. Keskityksen nykyiseen sijaintiin voi suorittaa myös myöhemmin"," ",D.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})," ","painikkeesta."),D.createElement("h5",null,"Haku"),D.createElement("p",null,"Museoviraston rekisterien kohteita pystyy hakemaan nimen perusteella hakunäkymässä (",D.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"}),"). Hakutuloksen klikkaaminen keskittää kartan kohteeseen ja lisää siihen paikkamerkin ",D.createElement("img",{src:"images/map-pin-small.png"}),"."),D.createElement("h5",null,"Asetukset"),D.createElement("p",null,"Pohjakartan voi vaihtaa taustakartan ja maastokartan välillä asetuksista (",D.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"}),"). Samasta näkymästä voi piilottaa Museoviraston rekisterien kohteita tyypin ja muinaisjäännöksiä myös ajoituksen mukaan jos haluaa tarkastella esimerkiksi pelkästään muinaisjäännöksiä rautakaudelta."),D.createElement("p",null,"Palautetta sivustosta otetaan mielellään vastaan osoitteeseen"," ",D.createElement("a",{href:"mailto:antti.kekki@gmail.com"},"antti.kekki@gmail.com")))},we=function(){return D.createElement(be,{title:"Karttasymbolit"},D.createElement("div",null,D.createElement("h5",null,"Museoviraston muinaisjäännösrekisteri"),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_kohde.png"}),D.createElement("span",null,"Kiinteä muinaisjäännös")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_alue.png"}),D.createElement("span",null,"Kiinteä muinaisjäännös (alue)")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/muu_kulttuuriperintokohde_kohde.png"}),D.createElement("span",null,"Muu kulttuuriperintökohde")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/muu-kulttuuriperintokohde-alue.png"}),D.createElement("span",null,"Muu kulttuuriperintökohde (alue)"))),D.createElement("br",null),D.createElement("div",null,D.createElement("h5",null,"Ahvenanmaan muinaisjäännösrekisteri"),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_muinaisjaannos.png"}),D.createElement("span",null,"Kohde"))),D.createElement("br",null),D.createElement("div",null,D.createElement("h5",null,"Rakennusperintörekisteri"),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_rakennus.png"}),D.createElement("span",null,"Rakennus")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_alue.png"}),D.createElement("span",null,"Alue"))),D.createElement("br",null),D.createElement("div",null,D.createElement("h5",null,"Maailmanperintökohteet"),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_piste.png"}),D.createElement("span",null,"Kohde")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_alue.png"}),D.createElement("span",null,"Alue")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_suoja_alue.png"}),D.createElement("span",null,"Suoja-alue"))),D.createElement("br",null),D.createElement("div",null,D.createElement("h5",null,"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/rky_piste.png"}),D.createElement("span",null,"Kohde")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/rky_viiva.png"}),D.createElement("span",null,"Viiva (esim. tie)")),D.createElement("p",null,D.createElement("img",{className:"feature-icon",src:"images/rky_alue.png"}),D.createElement("span",null,"Alue"))))},Le=function(){return D.createElement(be,{title:"Tietoa sivustosta"},D.createElement("p",null,"Museoviraston rekistereistä tietoa haetaan"," ",D.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"avoimen rajapinnan")," ","kautta (",D.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons CC By 4.0 -lisenssillä"),")."),D.createElement("p",null,"Ahvenanmaan maakuntahallinnon rekisteristö tietoa haetaan"," ",D.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"avoimen rajapinnan")," ","kautta (",D.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons CC By 4.0 -lisenssillä"),")."),D.createElement("p",null,"Taustakarttana on"," ",D.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"Maanmittauslaitoksen")," ","tausta-, ortokuva- ja peruskartta (",D.createElement("a",{href:"https://www.maanmittauslaitos.fi/avoindata-lisenssi-cc40"}," ","Creative Commons Nimeä 4.0 Kansainvälinen -lisenssillä"),")."),D.createElement("p",null,"Tämän sivuston tekninen toteutus on"," ",D.createElement("a",{href:"https://github.com/anttikekki/muinaismuistot"},"avointa lähdekoodia"),", lisenssinä on"," ",D.createElement("a",{href:"https://github.com/anttikekki/muinaismuistot/blob/master/LICENSE"},"MIT"),"."))},Me=function(){return D.createElement(be,{title:"Tietoa sivustosta"},D.createElement("h5",null,"Elokuu 2019"),D.createElement("p",null,"Siirrytty käyttämään Ahvenanmaan maakuntahallinnon uutta"," ",D.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"kartor.ax")," ","karttapalvelua. Samalla kohteiden haku alkoi toimimaan myös Ahvenanmaan kohteille."),D.createElement("p",null,"Kartalle klikattujen kohteiden listassa näkyy nyt otsikossa kohteen nimi. Listassa voi nyt myös olla monta saman tyyppistä kohdetta."),D.createElement("br",null),D.createElement("h5",null,"Heinäkuu 2019"),D.createElement("p",null,"Korjattu Museoviraston muinaisjäännösrekisterin pisteiden filtteröinti ajoituksen ja tyypin perusteella."),D.createElement("br",null),D.createElement("h5",null,"Joulukuu 2018"),D.createElement("p",null,"Siirrytty käyttämään Maanmittauslaitoksen uutta"," ",D.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"karttapalvelua"),", jonka myötä taustakartan ulkonäkö muuttui selkeämmäksi ja"," ",D.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/tuotekuvaukset/ortokuva"},"Ortokuvat")," ","saatiin käyttöön."),D.createElement("p",null,"Siirrytty käyttämään Museoviraston uuta"," ",D.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"karttapalvelua"),', jonka myötä saatiin käyttöön ruskeat "Muu kulttuuriperintökohde" -pisteet kartalle.'),D.createElement("br",null),D.createElement("h5",null,"Marraskuu 2017"),D.createElement("p",null,"Lisätty kartalle Ahvenanmaan maakuntahallinnon"," ",D.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret"},"muinaijäännösten rekisteri"),"."),D.createElement("br",null),D.createElement("h5",null,"Lokakuu 2015"),D.createElement("p",null,"Ensimmäinen versio julkaistu."))},_e=function(e){var t=e.visibility,a=e.hidePage;return D.createElement(de,{title:"Lisätietoja sivustosta",visibility:t,hidePage:a},D.createElement(je,null),D.createElement(we,null),D.createElement(Le,null),D.createElement(Me,null))},Se=function(e){var t=e.onClick;return D.createElement("div",{id:"map-button-search",className:"map-button"},D.createElement("button",{type:"button",className:"btn btn-primary",title:"Hae kohteita",onClick:t},D.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"})))},Ce=function(e){var t=e.layer,a=e.selectedLayer,n=e.onSelectLayer,i=t===a;return D.createElement("label",{className:"btn btn-default "+(i?"active":"")},D.createElement("input",{type:"radio",name:"selectedMapLayer",checked:i,onChange:function(){return n(t)}}),t)},Ne=function(e){var t=e.selectedLayer,a=e.onSelectLayer;return D.createElement(be,{title:"Karttapohja"},D.createElement("div",{className:"btn-group","data-toggle":"buttons"},Object.values(i).map((function(e){return D.createElement(Ce,{key:e,layer:e,selectedLayer:t,onSelectLayer:a})}))))},Te=function(e){var t=e.label,a=e.layer,n=e.selectedLayers,i=e.onSelectLayer,l=n.includes(a);return D.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},D.createElement("label",null,D.createElement("input",{type:"checkbox",onChange:function(){return i(a)},checked:l}),function(e){switch(e){case r.Muinaisjäännökset_piste:return["images/muinaisjaannos_kohde.png","images/muu_kulttuuriperintokohde_kohde.png"];case r.Muinaisjäännökset_alue:return["images/muinaisjaannos_alue.png","images/muu-kulttuuriperintokohde-alue.png"];case r.RKY_alue:return["images/rky_alue.png"];case r.RKY_viiva:return["images/rky_viiva.png"];case r.RKY_piste:return["images/rky_piste.png"];case r.Maailmanperintö_alue:return["images/maailmanperinto_alue.png"];case r.Maailmanperintö_piste:return["images/maailmanperinto_piste.png"];case r.Suojellut_rakennukset_alue:return["images/rakennusperintorekisteri_alue.png"];case r.Suojellut_rakennukset_piste:return["images/rakennusperintorekisteri_rakennus.png"];case s.Fornminnen:return["images/ahvenanmaa_muinaisjaannos.png"]}}(a).map((function(e,t){return D.createElement("img",{className:"feature-icon",key:t,src:e})})),D.createElement("span",null,t)))},xe=function(e){var t={selectedLayers:e.selectedLayers,onSelectLayer:e.onSelectLayer};return D.createElement(be,{title:"Kartalla näkyvät kohteet"},D.createElement("form",null,D.createElement("h5",null,"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"),D.createElement(Te,G.a({label:"Alueet",layer:r.RKY_alue},t)),D.createElement(Te,G.a({label:"Viivat (esim. tie)",layer:r.RKY_viiva},t)),D.createElement(Te,G.a({label:"Pisteet",layer:r.RKY_piste},t)),D.createElement("h5",null,"Maailmanperintökohteet"),D.createElement(Te,G.a({label:"Alueet",layer:r.Maailmanperintö_alue},t)),D.createElement(Te,G.a({label:"Pisteet",layer:r.Maailmanperintö_piste},t)),D.createElement("h5",null,"Rakennusperintörekisteri"),D.createElement(Te,G.a({label:"Rakennetut alueet",layer:r.Suojellut_rakennukset_alue},t)),D.createElement(Te,G.a({label:"Rakennukset",layer:r.Suojellut_rakennukset_piste},t)),D.createElement("h5",null,"Museoviraston muinaisjäännösrekisteri"),D.createElement(Te,G.a({label:"Alueet",layer:r.Muinaisjäännökset_alue},t)),D.createElement(Te,G.a({label:"Pisteet",layer:r.Muinaisjäännökset_piste},t)),D.createElement("h5",null,"Ahvenamaan muinaisjäännösrekisteri"),D.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},D.createElement("label",null,D.createElement("input",{type:"checkbox",value:"",checked:!0,disabled:!0}),D.createElement("img",{src:"images/ahvenanmaa_muinaisjaannos.png"}),"Kohde"))))},Ae=function(e){var t=e.type,a=e.selectedMuinaisjaannosTypes,n=e.onSelectType,i=a.includes(t);return D.createElement("div",{className:"checkbox"},D.createElement("label",null,D.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:i}),t))},Fe=function(e){var t=e.dating,a=e.selectedMuinaisjaannosDatings,n=e.onSelectDating,i=a.includes(t);return D.createElement("div",{className:"checkbox"},D.createElement("label",null,D.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:i}),t))},Pe=function(e){var t=e.selectedMuinaisjaannosTypes,a=e.selectedMuinaisjaannosDatings,n=e.onSelectMuinaisjaannosType,i=e.onSelectMuinaisjaannosDating;return D.createElement(be,{title:"Kartalla näkyvät muinaisjäännökset"},D.createElement("form",null,D.createElement("div",{className:"well well-sm"},"Rajoitus toimii vain Museoviraston muijaisjäännöksien pisteille (",D.createElement("img",{src:"images/muinaisjaannos_kohde.png"})," ja",D.createElement("img",{src:"images/muu_kulttuuriperintokohde_kohde.png"}),") mutta ei alueille (",D.createElement("img",{src:"images/muinaisjaannos_alue.png"})," ja",D.createElement("img",{src:"images/muu-kulttuuriperintokohde-alue.png"}),"). Rajaus ei valitettavasti toimi Ahvenanmaan muinaisjäännöksiin."),D.createElement("h5",null,"Tyyppi"),Object.values(f).map((function(e){return D.createElement(Ae,{key:e,type:e,selectedMuinaisjaannosTypes:t,onSelectType:n})})),D.createElement("h5",null,"Ajoitus"),Object.values(y).map((function(e){return D.createElement(Fe,{key:e,dating:e,selectedMuinaisjaannosDatings:a,onSelectDating:i})}))))},Ke=function(e){var t=e.visibility,a=e.hidePage,n=e.settings,i=e.onSelectMaanmittauslaitosLayer,r=e.onSelectMuseovirastoLayer,s=e.onSelectMuinaisjaannosType,l=e.onSelectMuinaisjaannosDating;return D.createElement(de,{title:"Asetukset",visibility:t,hidePage:a},D.createElement(Ne,{selectedLayer:n.selectedMaanmittauslaitosLayer,onSelectLayer:i}),D.createElement(xe,{selectedLayers:n.selectedMuseovirastoLayers,onSelectLayer:r}),D.createElement(Pe,{selectedMuinaisjaannosTypes:n.selectedMuinaisjaannosTypes,selectedMuinaisjaannosDatings:n.selectedMuinaisjaannosDatings,onSelectMuinaisjaannosType:s,onSelectMuinaisjaannosDating:l}))},Oe=function(e){var t=e.onClick;return D.createElement("div",{id:"map-button-settings",className:"map-button"},D.createElement("button",{type:"button",className:"btn btn-primary",title:"Kartan asetukset",onClick:t},D.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"})))};!function(e){e.Search="searchPage",e.Info="infoPage",e.Settings="settingsPage",e.Details="detailsPage"}(ke||(ke={}));var Re=function(e,t){return t.includes(e)?t.filter((function(t){return t!==e})):t.concat([e])},De=function(e,t){var a=this;this.pageClosingAnimationTimeoutID={},this.loadingAnimationCounter=0,this.onSearchFeatures=function(e){a.eventListeners.searchFeatures(e),a.searchResultFeatures=void 0,a.renderUI()},this.onSelectMaanmittauslaitosLayer=function(e){a.settings.selectedMaanmittauslaitosLayer=e,a.eventListeners.selectedMaanmittauslaitosLayerChanged(a.settings),a.renderUI()},this.onSelectMuseovirastoLayer=function(e){a.settings.selectedMuseovirastoLayers=Re(e,a.settings.selectedMuseovirastoLayers),a.eventListeners.selectedFeatureLayersChanged(a.settings),a.renderUI()},this.onSelectMuinaisjaannosType=function(e){a.settings.selectedMuinaisjaannosTypes=Re(e,a.settings.selectedMuinaisjaannosTypes),a.eventListeners.selectedMuinaisjaannosTypesChanged(a.settings),a.renderUI()},this.onSelectMuinaisjaannosDating=function(e){a.settings.selectedMuinaisjaannosDatings=Re(e,a.settings.selectedMuinaisjaannosDatings),a.eventListeners.selectedMuinaisjaannosDatingsChanged(a.settings),a.renderUI()},this.renderUI=function(){var e=a.loadingAnimationCounter>0,t=a.eventListeners,n=t.zoomIn,i=t.zoomOut,r=t.centerToCurrentPositions;I.render(D.createElement(D.Fragment,null,D.createElement(Y,{visible:e}),D.createElement(z,{onClick:n}),D.createElement(U,{onClick:i}),D.createElement(H,{onClick:r}),D.createElement(Se,{onClick:function(){return a.showPage(ke.Search)}}),D.createElement(V,{onClick:function(){return a.showPage(ke.Info)}}),D.createElement(Oe,{onClick:function(){return a.showPage(ke.Settings)}}),D.createElement(ge,{visibility:a.getPageVisibility(ke.Details),hidePage:a.hidePage,features:a.selectedFeatures}),D.createElement(Ee,{visibility:a.getPageVisibility(ke.Search),hidePage:a.hidePage,searchFeatures:a.onSearchFeatures,searchResultFeatures:a.searchResultFeatures}),D.createElement(_e,{visibility:a.getPageVisibility(ke.Info),hidePage:a.hidePage}),D.createElement(Ke,{visibility:a.getPageVisibility(ke.Settings),hidePage:a.hidePage,settings:a.settings,onSelectMaanmittauslaitosLayer:a.onSelectMaanmittauslaitosLayer,onSelectMuseovirastoLayer:a.onSelectMuseovirastoLayer,onSelectMuinaisjaannosType:a.onSelectMuinaisjaannosType,onSelectMuinaisjaannosDating:a.onSelectMuinaisjaannosDating})),document.getElementById("ui"))},this.getPageVisibility=function(e){return a.visiblePage===e?E.Visible:a.pageClosingAnimationTimeoutID[e]?E.Closing:E.Hidden},this.showPage=function(e){a.visiblePage!==e&&(a.abortClosingPage(e),a.visiblePage=e,a.renderUI())},this.hidePage=function(){a.visiblePage&&a.startClosingPage(a.visiblePage),a.visiblePage=void 0,a.renderUI()},this.startClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]=window.setTimeout((function(){a.pageClosingAnimationTimeoutID[e]=void 0,a.renderUI()}),500)},this.abortClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]&&(window.clearTimeout(a.pageClosingAnimationTimeoutID[e]),a.pageClosingAnimationTimeoutID[e]=void 0)},this.showLoadingAnimation=function(e){var t=a.loadingAnimationCounter;e?a.loadingAnimationCounter++:a.loadingAnimationCounter--,0===t&&1===a.loadingAnimationCounter&&(a.loadingAnimationTimeoutID=window.setTimeout((function(){a.loadingAnimationTimeoutID&&a.renderUI()}),300)),1===t&&0===a.loadingAnimationCounter&&(window.clearTimeout(a.loadingAnimationTimeoutID),a.loadingAnimationTimeoutID=void 0,a.renderUI())},this.featuresSelected=function(e){0!==e.length&&(a.selectedFeatures=e,a.visiblePage=ke.Details,a.renderUI())},this.featureSearchReady=function(e){a.searchResultFeatures=e,a.renderUI()},this.settings=e,this.eventListeners=t,this.renderUI()},Ie=function(){var e=this;this.determineStartLocation=function(){ae()?e.setMapLocationFromURLHash():e.map.centerToCurrentPositions()},this.setMapLocationFromURLHash=function(){var t=ae();t&&(e.map.setMapLocation(t),e.map.showSelectedLocationMarker(t))};var t={selectedMaanmittauslaitosLayer:i.Taustakartta,selectedMuseovirastoLayers:Object.values(r),selectedMuinaisjaannosTypes:Object.values(f),selectedMuinaisjaannosDatings:Object.values(y)};this.map=new R(t,{featuresSelected:function(t){e.ui.featuresSelected(t)},showLoadingAnimation:function(t){e.ui.showLoadingAnimation(t)},featureSearchReady:function(t){e.ui.featureSearchReady(t)}}),this.ui=new De(t,{searchFeatures:function(t){e.map.searchFeatures(t)},zoomIn:function(){e.map.zoomIn()},zoomOut:function(){e.map.zoomOut()},centerToCurrentPositions:function(){e.map.centerToCurrentPositions()},selectedMaanmittauslaitosLayerChanged:function(t){e.map.selectedMaanmittauslaitosLayerChanged(t)},selectedFeatureLayersChanged:function(t){e.map.selectedFeatureLayersChanged(t)},selectedMuinaisjaannosTypesChanged:function(t){e.map.selectedMuinaisjaannosTypesChanged(t)},selectedMuinaisjaannosDatingsChanged:function(t){e.map.selectedMuinaisjaannosDatingsChanged(t)}}),window.onhashchange=function(t){e.setMapLocationFromURLHash()},this.determineStartLocation()};t.default=Ie;new Ie}});