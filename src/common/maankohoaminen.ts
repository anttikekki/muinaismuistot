export const maankohoaminenLayers = [
  { layer: "issjohav_1", year: 1950 },
  { layer: "issjohav_100", year: 1850 },
  { layer: "issjohav_200", year: 1750 },
  { layer: "issjohav_300", year: 1650 },
  { layer: "issjohav_400", year: 1550 },
  { layer: "issjohav_500", year: 1450 },
  { layer: "issjohav_600", year: 1350 },
  { layer: "issjohav_700", year: 1250 },
  { layer: "issjohav_800", year: 1150 },
  { layer: "issjohav_900", year: 1050 },
  { layer: "issjohav_1000", year: 950 },
  // Layer issjohav_1100 is missing from strandforskjutning_1000_1900.gpkg
  // { layer: "issjohav_1100", year: 850 },
  { layer: "issjohav_1200", year: 750 },
  { layer: "issjohav_1300", year: 650 },
  { layer: "issjohav_1400", year: 550 },
  { layer: "issjohav_1500", year: 450 },
  { layer: "issjohav_1600", year: 350 },
  { layer: "issjohav_1700", year: 250 },
  { layer: "issjohav_1800", year: 150 },
  { layer: "issjohav_1900", year: 50 },
  { layer: "issjohav_2000", year: -50 },
  { layer: "issjohav_2100", year: -150 },
  { layer: "issjohav_2200", year: -250 },
  { layer: "issjohav_2300", year: -350 },
  { layer: "issjohav_2400", year: -450 },
  { layer: "issjohav_2500", year: -550 },
  { layer: "issjohav_2600", year: -650 },
  { layer: "issjohav_2700", year: -750 },
  { layer: "issjohav_2800", year: -850 },
  { layer: "issjohav_2900", year: -950 },
  { layer: "issjohav_3000", year: -1050 },
  { layer: "issjohav_3100", year: -1150 },
  { layer: "issjohav_3200", year: -1250 },
  { layer: "issjohav_3300", year: -1350 },
  { layer: "issjohav_3400", year: -1450 },
  { layer: "issjohav_3500", year: -1550 },
  { layer: "issjohav_3600", year: -1650 },
  { layer: "issjohav_3700", year: -1750 },
  { layer: "issjohav_3800", year: -1850 },
  { layer: "issjohav_3900", year: -1950 },
  { layer: "issjohav_4000", year: -2050 },
  { layer: "issjohav_4100", year: -2150 },
  { layer: "issjohav_4200", year: -2250 },
  { layer: "issjohav_4300", year: -2350 },
  { layer: "issjohav_4400", year: -2450 },
  { layer: "issjohav_4500", year: -2550 },
  { layer: "issjohav_4600", year: -2650 },
  { layer: "issjohav_4700", year: -2750 },
  { layer: "issjohav_4800", year: -2850 },
  { layer: "issjohav_4900", year: -2950 },
  { layer: "issjohav_5000", year: -3050 },
  { layer: "issjohav_5100", year: -3150 },
  { layer: "issjohav_5200", year: -3250 },
  { layer: "issjohav_5300", year: -3350 },
  { layer: "issjohav_5400", year: -3450 },
  { layer: "issjohav_5500", year: -3550 },
  { layer: "issjohav_5600", year: -3650 },
  { layer: "issjohav_5700", year: -3750 },
  { layer: "issjohav_5800", year: -3850 },
  { layer: "issjohav_5900", year: -3950 },
  { layer: "issjohav_6000", year: -4050 },
  { layer: "issjohav_6100", year: -4150 },
  { layer: "issjohav_6200", year: -4250 },
  { layer: "issjohav_6300", year: -4350 },
  { layer: "issjohav_6400", year: -4450 },
  { layer: "issjohav_6500", year: -4550 },
  { layer: "issjohav_6600", year: -4650 },
  { layer: "issjohav_6700", year: -4750 },
  { layer: "issjohav_6800", year: -4850 },
  { layer: "issjohav_6900", year: -4950 },
  { layer: "issjohav_7000", year: -5050 },
  { layer: "issjohav_7100", year: -5150 },
  { layer: "issjohav_7200", year: -5250 },
  { layer: "issjohav_7300", year: -5350 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_7400", year: -5450 },
  { layer: "issjohav_7500", year: -5550 },
  { layer: "issjohav_7600", year: -5650 },
  { layer: "issjohav_7700", year: -5750 },
  { layer: "issjohav_7800", year: -5850 },
  { layer: "issjohav_7900", year: -5950 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_8000", year: -6050 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_8100", year: -6150 },
  { layer: "issjohav_8200", year: -6250 },
  { layer: "issjohav_8300", year: -6350 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_8400", year: -6450 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_8500", year: -6550 },
  { layer: "issjohav_8600", year: -6650 },
  { layer: "issjohav_8700", year: -6750 },
  { layer: "issjohav_8800", year: -6850 },
  { layer: "issjohav_8900", year: -6950 },
  { layer: "issjohav_9000", year: -7050 },
  { layer: "issjohav_9100", year: -7150 },
  { layer: "issjohav_9200", year: -7250 },
  { layer: "issjohav_9300", year: -7350 },
  { layer: "issjohav_9400", year: -7450 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_9500", year: -7550 },
  // Layer is broken from from ogr2org crop
  //{ layer: "issjohav_9600", year: -7650 },
  { layer: "issjohav_9700", year: -7750 },
  { layer: "issjohav_9800", year: -7850 },
  { layer: "issjohav_9900", year: -7950 },
  { layer: "issjohav_10000", year: -8050 },
  { layer: "issjohav_10100", year: -8150 },
  { layer: "issjohav_10200", year: -8250 },
  { layer: "issjohav_10300", year: -8350 },
  { layer: "issjohav_10400", year: -8450 },
  { layer: "issjohav_10500", year: -8550 },
  { layer: "issjohav_10600", year: -8650 },
  { layer: "issjohav_10700", year: -8750 },
  { layer: "issjohav_10800", year: -8850 },
  { layer: "issjohav_10900", year: -8950 },
  { layer: "issjohav_11000", year: -9050 },
  { layer: "issjohav_11100", year: -9150 },
  { layer: "issjohav_11200", year: -9250 },
  { layer: "issjohav_11300", year: -9350 },
  { layer: "issjohav_11400", year: -9450 },
  { layer: "issjohav_11500", year: -9550 },
  { layer: "issjohav_11600", year: -9650 },
  { layer: "issjohav_11700", year: -9750 },
  { layer: "issjohav_11800", year: -9850 },
  { layer: "issjohav_11900", year: -9950 },
  { layer: "issjohav_12000", year: -10050 },
  { layer: "issjohav_12100", year: -10150 },
  { layer: "issjohav_12200", year: -10250 },
  { layer: "issjohav_12300", year: -10350 },
  { layer: "issjohav_12400", year: -10450 },
  { layer: "issjohav_12500", year: -10550 },
  { layer: "issjohav_12600", year: -10650 },
  { layer: "issjohav_12700", year: -10750 },
  { layer: "issjohav_12800", year: -10850 },
  { layer: "issjohav_12900", year: -10950 },
  { layer: "issjohav_13000", year: -11050 },
  { layer: "issjohav_13100", year: -11150 },
  { layer: "issjohav_13200", year: -11250 },
  { layer: "issjohav_13300", year: -11350 },
  { layer: "issjohav_13400", year: -11450 },
  { layer: "issjohav_13500", year: -11550 }
]

export const defaultMaankohoaminenLayer = "issjohav_1000"

const getLayerInfo = (layer: string) => {
  const index = maankohoaminenLayers.findIndex((l) => l.layer === layer)
  if (index === undefined) {
    throw new Error(`Unknown Maankohoaminen layer: ${layer}`)
  }
  return { layerInfo: maankohoaminenLayers[index], index }
}

export const getNextMaankohoaminenLayer = (
  addYears: 100 | -100,
  currentLayer: string
): string => {
  const direction = addYears > 0 ? -1 : 1
  const currentLayerIndex = getLayerInfo(currentLayer).index
  const nextLayerIndex = currentLayerIndex + direction
  const nextLayerInfo = maankohoaminenLayers[nextLayerIndex]
  if (!nextLayerInfo) {
    return currentLayer
  }

  return nextLayerInfo.layer
}

export const geMaankohoaminenLayerName = (layer: string): string => {
  const year = getLayerInfo(layer).layerInfo.year
  return year < 0 ? `${-year} eaa.` : `${year} jaa.`
}

export const hasNextMaankohoaminenLayer = (
  addYears: 100 | -100,
  currentLayer: string
): boolean =>
  getNextMaankohoaminenLayer(addYears, currentLayer) !== currentLayer
