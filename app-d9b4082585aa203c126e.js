(()=>{"use strict";var e={61810:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(23645),i=a.n(n)()((function(e){return e[1]}));i.push([e.id,"html,\nbody,\n#map {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n#map {\n  z-index: 10;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n\n#loading-animation {\n  z-index: 25;\n  position: absolute;\n  top: 15px;\n  right: 20px;\n}\n\n.map-button {\n  z-index: 15;\n  position: absolute;\n}\n\n#map-button-zoom-in {\n  top: 20px;\n  left: 20px;\n}\n\n#map-button-zoom-out {\n  top: 60px;\n  left: 20px;\n}\n\n#map-button-position {\n  top: 100px;\n  left: 20px;\n}\n\n#map-button-search {\n  top: 140px;\n  left: 20px;\n}\n\n#map-button-info {\n  top: 180px;\n  left: 20px;\n}\n\n#map-button-settings {\n  top: 220px;\n  left: 20px;\n}\n\n.page {\n  z-index: 20;\n  position: absolute;\n  top: 0px;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n\n.pageHeader {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.pageHeaderText {\n  font-size: 20px;\n  font-weight: 500;\n}\n\n.pageContent {\n  height: 90%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.page-right-visible {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: 0px;\n}\n\n.page-right-closing {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: -100%;\n}\n\n.page-right-hidden {\n  right: -100%;\n  width: 0px;\n}\n\n@media (min-width: 768px) {\n  .page {\n  }\n  .page-right-hidden {\n  }\n}\n\n@media (min-width: 992px) {\n  .page {\n    width: 500px;\n  }\n  .page-right-closing {\n    right: -500px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .page {\n    width: 600px;\n  }\n  .page-right-closing {\n    right: -600px;\n  }\n}\n\n@media (min-width: 1400px) {\n  .page {\n    width: 700px;\n  }\n  .page-right-closing {\n    right: -700px;\n  }\n}\n\n.sub-layer-select-checkbox-container {\n  margin-left: 20px;\n}\n\n.feature-collapse-panel-heading h6 {\n  font-size: 14px;\n  line-height: 1.3;\n  margin-top: 5px;\n  font-weight: 400;\n}\n\n.feature-icon {\n  margin-right: 5px;\n}\n",""]);const s=i},58330:(e,t,a)=>{a(28594);var n,i,s,r,l,o,u,m,c,p=a(70655),d=(a(12031),a(37897)),h=a(42758),k=a(98280),g=a(1908),v=a(18672),y=a(78426),f=a(16892),E=a(62914),L=a(28101),b=a(12014);!function(e){e.Maanmittauslaitos="Maanmittauslaitos",e.Museovirasto="Museovirasto",e.Ahvenanmaa="Ahvenanmaa",e.Models="Models",e.MaisemanMuisti="MaisemanMuisti"}(i||(i={})),function(e){e.Maastokartta="maastokartta",e.Taustakartta="taustakartta",e.Ortokuva="ortokuva"}(s||(s={})),(c=r||(r={})).Muinaisjaannokset_piste="Muinaisjaannokset_piste",c.Muinaisjaannokset_alue="Muinaisjaannokset_alue",c.Suojellut_rakennukset_piste="Suojellut_rakennukset_piste",c.Suojellut_rakennukset_alue="Suojellut_rakennukset_alue",c.RKY_alue="RKY_alue",c.RKY_piste="RKY_piste",c.RKY_viiva="RKY_viiva",c.Maailmanperinto_piste="Maailmanperinto_piste",c.Maailmanperinto_alue="Maailmanperinto_alue",(m=l||(l={})).Fornminnen="Fornminnen",m.MaritimtKulturarv="Maritimt kulturarv; Vrak",function(e){e.ModelLayer="ModelLayer"}(o||(o={})),function(e){e.MaisemanMuisti="MaisemanMuisti"}(u||(u={}));var j,M,w=((n={})[r.Muinaisjaannokset_piste]=7,n[r.Muinaisjaannokset_alue]=8,n[r.Suojellut_rakennukset_piste]=2,n[r.Suojellut_rakennukset_alue]=3,n[r.RKY_alue]=4,n[r.RKY_piste]=5,n[r.RKY_viiva]=6,n[r.Maailmanperinto_piste]=9,n[r.Maailmanperinto_alue]=10,n),_=function(e){switch(e){case l.Fornminnen:return 1;case l.MaritimtKulturarv:return 5}};!function(e){e["eiMääritelty"]="ei määritelty",e.alustenHylyt="alusten hylyt",e.asuinpaikat="asuinpaikat",e.hautapaikat="hautapaikat",e.kirkkorakenteet="kirkkorakenteet",e.kivirakenteet="kivirakenteet",e["kulkuväylät"]="kulkuväylät",e.kulttiJaTarinapaikat="kultti- ja tarinapaikat",e.luonnonmuodostumat="luonnonmuodostumat",e["löytöpaikat"]="löytöpaikat",e.maarakenteet="maarakenteet",e["muinaisjäännösryhmät"]="muinaisjäännösryhmät",e.puolustusvarustukset="puolustusvarustukset",e.puurakenteet="puurakenteet",e.raakaAineenHankintapaikat="raaka-aineen hankintapaikat",e.taideMuistomerkit="taide, muistomerkit",e.tapahtumapaikat="tapahtumapaikat",e.teollisuuskohteet="teollisuuskohteet",e["työJaValmistuspaikat"]="työ- ja valmistuspaikat"}(j||(j={})),function(e){e.moniperiodinen="moniperiodinen",e.esihistoriallinen="esihistoriallinen",e.kivikautinen="kivikautinen",e.varhaismetallikautinen="varhaismetallikautinen",e.pronssikautinen="pronssikautinen",e.rautakautinen="rautakautinen",e.keskiaikainen="keskiaikainen",e.historiallinen="historiallinen",e.moderni="moderni",e.ajoittamaton="ajoittamaton",e["eiMääritelty"]="ei määritelty"}(M||(M={}));var S={moniperiodinen:"",esihistoriallinen:"8600 eaa. - 1200 jaa.",kivikautinen:"8600 – 1500 eaa.",varhaismetallikautinen:"1500 eaa. - 200 jaa.",pronssikautinen:"1700 – 500 eaa.",rautakautinen:"500 eaa. - 1200 jaa.",keskiaikainen:"1200 - 1570 jaa.",historiallinen:"1200 jaa. -",moderni:"1800 jaa -",ajoittamaton:"","ei määritelty":""};const D=function(e,t,a){var n=this;this.loadMMLWmtsCapabilitiesAndAddLayers=function(e){fetch(n.settings.maanmittauslaitos.url.WMTSCapabilities).then((function(e){return e.text()})).then((function(t){return n.addWmtsLayers(t,e)}))},this.addWmtsLayers=function(e,t){var a=(new L.Z).read(e);n.maastokarttaLayerSource=new b.Z((0,b.B)(a,{layer:s.Maastokartta})),n.taustakarttaLayerSource=new b.Z((0,b.B)(a,{layer:s.Taustakartta})),n.ortokuvaLayerSource=new b.Z((0,b.B)(a,{layer:s.Ortokuva}));var i=t.maanmittauslaitos.selectedLayer;n.mmlMaastokarttaLayer=new E.Z({source:n.maastokarttaLayerSource,visible:i===s.Maastokartta}),n.mmlTaustakarttaLayer=new E.Z({source:n.taustakarttaLayerSource,visible:i===s.Taustakartta}),n.mmlOrtokuvaLayer=new E.Z({source:n.ortokuvaLayerSource,visible:i===s.Ortokuva}),n.updateLoadingAnimationOnLayerSourceTileLoad(n.maastokarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.taustakarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.ortokuvaLayerSource),n.onLayersCreatedCallbackFn(n.mmlMaastokarttaLayer,n.mmlTaustakarttaLayer,n.mmlOrtokuvaLayer)},this.updateLoadingAnimationOnLayerSourceTileLoad=function(e){e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){if(n.mmlMaastokarttaLayer&&n.mmlTaustakarttaLayer&&n.mmlOrtokuvaLayer){var t=e.maanmittauslaitos.selectedLayer;n.mmlMaastokarttaLayer.setVisible(t===s.Maastokartta),n.mmlTaustakarttaLayer.setVisible(t===s.Taustakartta),n.mmlOrtokuvaLayer.setVisible(t===s.Ortokuva)}},this.settings=e,this.showLoadingAnimationFn=t,this.onLayersCreatedCallbackFn=a,this.loadMMLWmtsCapabilitiesAndAddLayers(e)};var T=a(41274),C=a(21915);const N=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new E.Z({source:n.source,extent:[65741.9087,6606901.2261,180921.4173,6747168.5691]}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.toLayerIds=function(e){return e.map(_).sort((function(e,t){return e-t}))},this.getSourceLayersParams=function(){return n.settings.ahvenanmaa.selectedLayers.length>0?"show:"+n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","):"hide:"+n.toLayerIds(Object.values(l)).join(",")},this.createSource=function(){var e={urls:[n.settings.ahvenanmaa.url.export],params:{layers:n.getSourceLayersParams()}},t=new T.Z(e);return t.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),t.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),t.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),t},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.identifyFeaturesAt=function(e,t,a){var i,s=null===(i=n.layer)||void 0===i?void 0:i.getExtent();if(!s||!(0,C.b8)(s,e))return Promise.resolve({results:[]});var r=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","),f:"json",returnGeometry:"true"}),l=new URL(n.settings.ahvenanmaa.url.identify);return l.search=String(r),fetch(String(l)).then((function(e){return e.json()}))},this.findFeatures=function(e){var t=new URLSearchParams({searchText:e,contains:"true",searchFields:"Namn , Beskrivning, Topografi",layers:n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),a=new URL(n.settings.ahvenanmaa.url.find);return a.search=String(t),fetch(String(a)).then((function(e){return e.json()}))},this.getForminnenDataLatestUpdateDate=function(){return n.forminnenDataLatestUpdateDate?Promise.resolve(n.forminnenDataLatestUpdateDate):fetch(n.settings.ahvenanmaa.url.forminnenUpdateDate).then((function(e){return e.json()})).then(n.parseUpdatedDate).then((function(e){return n.forminnenDataLatestUpdateDate=e,e}))},this.getMaritimtKulturarvDataLatestUpdateDate=function(){return n.maritimtKulturarvDataLatestUpdateDate?Promise.resolve(n.maritimtKulturarvDataLatestUpdateDate):fetch(n.settings.ahvenanmaa.url.maritimtKulturarvUpdateDate).then((function(e){return e.json()})).then(n.parseUpdatedDate).then((function(e){return n.maritimtKulturarvDataLatestUpdateDate=e,e}))},this.parseUpdatedDate=function(e){var t,a,n=null==e?void 0:e.data,i=Array.isArray(n)&&n.length>0?null===(a=null===(t=n[0])||void 0===t?void 0:t.attributes)||void 0===a?void 0:a.modified:void 0;return i?Promise.resolve(new Date(i)):Promise.reject(new Error("Ahvenanmaan updated date not found"))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()},F=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new E.Z({source:n.source}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.createSource=function(){var e=new T.Z({urls:[n.settings.museovirasto.url.export],params:{layers:n.getSourceLayerSelectionSettings(),layerDefs:n.getSourceLayerDefinitionFilterParams()}});return e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),e},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.getSourceLayerSelectionSettings=function(){if(Object.values(r).length!==n.settings.museovirasto.selectedLayers.length){var e=n.toLayerIds(n.settings.museovirasto.selectedLayers);return e.length>0?"show:"+e.join(","):"show:-1"}},this.getSourceLayerDefinitionFilterParams=function(){var e=[],t=n.settings.museovirasto.selectedMuinaisjaannosTypes;if(t.length>0&&t.length!=Object.values(j).length){var a=t.sort().map((function(e){return"tyyppi LIKE '%"+e+"%'"})).join(" OR ");e.push("("+a+")")}var i=n.settings.museovirasto.selectedMuinaisjaannosDatings;if(i.length>0&&i.length!=Object.values(M).length&&(a=i.sort().map((function(e){return"ajoitus LIKE '%"+e+"%'"})).join(" OR "),e.push("("+a+")")),e.length>0)return w[r.Muinaisjaannokset_piste]+":"+e.join(" AND ")},this.toLayerIds=function(e){return e.map((function(e){return w[e]})).sort((function(e,t){return e-t}))},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.selectedMuinaisjaannosTypesChanged=function(e){n.settings=e,n.updateLayerSource()},this.selectedMuinaisjaannosDatingsChanged=function(e){n.settings=e,n.updateLayerSource()},this.identifyFeaturesAt=function(e,t,a){var i=n.settings.museovirasto.selectedLayers.length>0?n.toLayerIds(n.settings.museovirasto.selectedLayers):[-1],s=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+i.join(","),f:"json",returnGeometry:"true"}),r=new URL(n.settings.museovirasto.url.identify);return r.search=String(s),fetch(String(r)).then((function(e){return e.json()}))},this.findFeatures=function(e){var t=n.settings.museovirasto.selectedLayers;t.includes(r.Muinaisjaannokset_alue)&&(t=t.filter((function(e){return e!==r.Muinaisjaannokset_alue})));var a="Kohdenimi, Nimi, KOHDENIMI",i="true";isNaN(parseInt(e))||(a="mjtunnus, kohdeID, ID",i="false");var s=new URLSearchParams({searchText:e,contains:i,searchFields:a,layers:n.toLayerIds(t).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),l=new URL(n.settings.museovirasto.url.find);return l.search=String(s),fetch(String(l)).then((function(e){return e.json()}))},this.getDataLatestUpdateDate=function(){return n.dataLatestUpdateDate?Promise.resolve(n.dataLatestUpdateDate):fetch(n.settings.museovirasto.url.updateDate).then((function(e){return e.text()})).then((function(e){return(new DOMParser).parseFromString(e,"text/xml")})).then(n.parseSuunnitteluaineistoUpdatedDate)},this.parseSuunnitteluaineistoUpdatedDate=function(e){var t;return e.querySelectorAll("entry").forEach((function(e){var a,n;"http://paikkatieto.nba.fi/aineistot/suunnitteluaineisto"===(null===(a=e.querySelector("id"))||void 0===a?void 0:a.textContent)&&(t=null===(n=e.querySelector("updated"))||void 0===n?void 0:n.textContent)})),t?(n.dataLatestUpdateDate=new Date(t),Promise.resolve(n.dataLatestUpdateDate)):Promise.reject(new Error("Museovirasto updated date not found"))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()};var A=a(91934),K=a(3871),P=a(98185),x=a(20767),O=a(9371),R=a(31219),U=a(8732),I=a(23068),Z=a(52043);const V=function(e){var t=this;this.addCurrentPositionMarker=function(e){if(t.currentPositionFeature)t.currentPositionFeature.setGeometry(new Z.Z(e));else{var a=new P.Z({color:"rgba(0, 0, 255, 1.0)"}),n=new x.Z({color:"rgba(255, 255, 255, 1.0)",width:3});t.currentPositionFeature=new I.Z({geometry:new Z.Z(e)}),t.currentPositionFeature.setStyle(new R.ZP({image:new O.Z({fill:a,stroke:n,radius:7}),fill:a,stroke:n})),t.source.addFeature(t.currentPositionFeature)}},this.addSelectedLocationFeatureMarker=function(e){t.selectedLocationFeature?t.selectedLocationFeature.setGeometry(new Z.Z(e)):(t.selectedLocationFeature=new I.Z({geometry:new Z.Z(e)}),t.selectedLocationFeature.setStyle(new R.ZP({image:new U.Z({src:"images/map-pin.png",anchor:[.5,1]})})),t.source.addFeature(t.selectedLocationFeature))},this.onLayerCreatedCallbackFn=e,this.source=new K.Z({}),this.layer=new A.Z({source:this.source}),this.onLayerCreatedCallbackFn(this.layer)};var Y=a(18663),G=a(15821),z=function(e){return"kiinteä muinaisjäännös"===ne(e.attributes.laji)},H=function(e){return"muu kulttuuriperintökohde"===ne(e.attributes.laji)},B=function(e){switch(e.layerName){case r.Muinaisjaannokset_piste:case r.Muinaisjaannokset_alue:case r.RKY_alue:case r.RKY_piste:case r.RKY_viiva:case r.Suojellut_rakennukset_piste:case r.Suojellut_rakennukset_alue:return ne(e.attributes.kohdenimi);case r.Maailmanperinto_piste:case r.Maailmanperinto_alue:return ne(e.attributes.Nimi);case l.Fornminnen:return ne(e.attributes.Namn)||ne(e.attributes["Fornlämnings ID"]);case l.MaritimtKulturarv:return ne(e.attributes.Namn)||ne(e.attributes.FornID)}},J=function(e,t,a){switch(void 0===t&&(t=!1),void 0===a&&(a=!1),e.layerName){case r.Muinaisjaannokset_piste:if(z(e))return a?"Kiinteä muinaisjäännös, Valtakunnallisesti merkittävä muinaisjäännös":"Kiinteä muinaisjäännös";if(H(e))return"Muu kulttuuriperintökohde";break;case r.Muinaisjaannokset_alue:if(z(e))return"Kiinteä muinaisjäännös (alue)";if(H(e))return"Muu kulttuuriperintökohde (alue)";break;case r.RKY_alue:case r.RKY_piste:case r.RKY_viiva:return"Rakennettu kulttuuriympäristö";case r.Maailmanperinto_piste:case r.Maailmanperinto_alue:return"Maailmanperintökohde";case r.Suojellut_rakennukset_piste:case r.Suojellut_rakennukset_alue:return"Rakennusperintökohde";case l.Fornminnen:return"Ahvenanmaan muinaisjäännösrekisterin kohde";case l.MaritimtKulturarv:return"Ahvenamaan merellisen kulttuuriperintörekisterin kohde";default:return}},W=function(e,t){return void 0===t&&(t=!1),"images/"+e+(t?"_3d":"")+".png"},q=function(e,t,a){switch(void 0===t&&(t=!1),void 0===a&&(a=!1),e.layerName){case r.Muinaisjaannokset_piste:if(z(e))return W(a?"maiseman-muisti":"muinaisjaannos_kohde",t);if(H(e))return W("muu_kulttuuriperintokohde_kohde",t);break;case r.Muinaisjaannokset_alue:if(z(e))return W("muinaisjaannos_alue",t);if(H(e))return W("muu-kulttuuriperintokohde-alue",t);break;case r.RKY_alue:return W("rky_alue",t);case r.RKY_viiva:return W("rky_viiva",t);case r.RKY_piste:return W("rky_piste",t);case r.Maailmanperinto_alue:return W("maailmanperinto_alue",t);case r.Maailmanperinto_piste:return W("maailmanperinto_piste",t);case r.Suojellut_rakennukset_alue:return W("rakennusperintorekisteri_alue",t);case r.Suojellut_rakennukset_piste:return W("rakennusperintorekisteri_rakennus",t);case l.Fornminnen:return W("ahvenanmaa_muinaisjaannos",t);case l.MaritimtKulturarv:return W("ahvenanmaa_hylky",t);default:return}},$=function(e){switch(e.layerName){case r.Muinaisjaannokset_piste:case r.Muinaisjaannokset_alue:case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:case r.Maailmanperinto_alue:case r.Maailmanperinto_piste:case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:case l.Fornminnen:case l.MaritimtKulturarv:return e.attributes.OBJECTID}},Q=function(e,t){var a;switch(e.layerName){case r.Muinaisjaannokset_piste:a=e.attributes.mjtunnus;break;case r.Suojellut_rakennukset_piste:a=e.attributes.kohdeID;break;case r.RKY_alue:a=e.attributes.ID;break;case l.Fornminnen:case l.MaritimtKulturarv:a=e.attributes.OBJECTID}return t&&a?t.filter((function(t){return t.registryItem.type===e.layerName})).filter((function(e){return e.registryItem.id.toString()===a})):[]},X=function(e,t){return t?t.filter((function(e){return e.registryItem.type===r.Muinaisjaannokset_piste})).filter((function(t){return t.registryItem.id===e.properties.id})):[]},ee=function(e,t){var a;switch(e.layerName){case r.Muinaisjaannokset_piste:a=e.attributes.mjtunnus}return t&&a?t.filter((function(e){return e.properties.id.toString()===a})):[]},te=function(e){switch(e.layerName){case r.Muinaisjaannokset_piste:case r.Muinaisjaannokset_alue:case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:return"https://"+e.attributes.url;case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:return e.attributes.url;case r.Maailmanperinto_alue:case r.Maailmanperinto_piste:return function(e){var t=e.attributes.URL;if(t.startsWith("http://www.nba.fi/fi/ajankohtaista/kansainvalinen_toiminta/maailmanperintokohteet_suomessa")){var a=t.indexOf("#"),n="";-1!==a&&(n=t.substring(a)),t="https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa"+n}return t}(e);case l.Fornminnen:return function(e){switch(e.attributes["Fornlämnings ID"].substring(0,2)){case"Br":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/BR%c3%84ND%c3%96.pdf";case"Ec":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/ECKER%c3%96.pdf";case"Fö":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/F%c3%96GL%c3%96.pdf";case"Fi":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/FINSTR%c3%96M.pdf";case"Ge":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/GETA.pdf";case"Ha":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/HAMMARLAND.pdf";case"Jo":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/JOMALA.pdf";case"Kö":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/K%c3%96KAR.pdf";case"Ku":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/KUMLINGE.pdf";case"Le":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/LEMLAND.pdf";case"Lu":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/LUMPARLAND.pdf";case"Ma":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/MARIEHAMN.pdf";case"Sa":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SALTVIK.pdf";case"So":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SOTTUNGA.pdf";case"Su":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SUND.pdf";case"Vå":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/V%c3%85RD%c3%96.pdf"}}(e)}},ae=function(e){switch(e.geometryType){case"esriGeometryPolygon":return e.geometry.rings[0][0];case"esriGeometryPoint":return[e.geometry.x,e.geometry.y];case"esriGeometryPolyline":return e.geometry.paths[0][0]}},ne=function(e){if(null==e)return"";if("null"===(e=e.trim()).toLowerCase())return"";for(;","===e.substr(e.length-1,1);)e=e.substring(0,e.length-1).trim();return e};const ie=function(e,t){var a=this;this.fetchGeoJson=function(){return(0,p.mG)(a,void 0,void 0,(function(){return(0,p.Jh)(this,(function(e){switch(e.label){case 0:return[4,fetch(this.settings.models.url.geojson)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},this.addFeaturesToLayer=function(e){a.source=new K.Z({features:(new G.Z).readFeatures(e)}),a.layer=new A.Z({source:a.source,visible:a.settings.models.selectedLayers.length>0,style:function(e){var t;switch(null===(t=e.getGeometry())||void 0===t?void 0:t.getType()){case"Point":var n=e.getProperties();return n.registryItem.type===r.Muinaisjaannokset_piste?a.stylePointCircle:n.registryItem.type===r.Suojellut_rakennukset_piste?a.stylePointSquare:a.stylePointCircle;case"Polygon":return a.stylePolygon;default:return a.stylePointCircle}}}),a.onLayerCreatedCallbackFn(a.layer)},this.selectedFeatureLayersChanged=function(e){var t;a.settings=e,null===(t=a.layer)||void 0===t||t.setVisible(e.models.selectedLayers.length>0)},this.getLayer=function(){return a.layer},this.getDataLatestUpdateDate=function(){return(0,p.mG)(a,void 0,void 0,(function(){return(0,p.Jh)(this,(function(e){switch(e.label){case 0:return this.dataLatestUpdateDate?[2,Promise.resolve(this.dataLatestUpdateDate)]:[4,this.fetchGeoJson()];case 1:return[2,(t=e.sent().features,a=t.map((function(e){return new Date(e.properties.createdDate).getTime()})),a=Array.from(new Set(a)),new Date(Math.max.apply(null,a)))]}var t,a}))}))},this.settings=e,this.onLayerCreatedCallbackFn=t,this.stylePointCircle=new R.ZP({image:new O.Z({stroke:new x.Z({color:"black",width:2}),radius:7})}),this.stylePointSquare=new R.ZP({image:new Y.Z({stroke:new x.Z({color:"black",width:2}),points:4,radius:7,angle:Math.PI/4})}),this.stylePolygon=new R.ZP({stroke:new x.Z({color:"black",width:4}),fill:new P.Z({color:"rgba(255, 255, 255, 0.01)"})}),this.fetchGeoJson().then(this.addFeaturesToLayer)},se=function(e,t){var a=this;this.fetchGeoJson=function(){return(0,p.mG)(a,void 0,void 0,(function(){return(0,p.Jh)(this,(function(e){switch(e.label){case 0:return[4,fetch(this.settings.maisemanMuisti.url.geojson)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},this.addFeaturesToLayer=function(e){a.source=new K.Z({features:(new G.Z).readFeatures(e)}),a.layer=new A.Z({source:a.source,style:a.style,visible:a.settings.maisemanMuisti.selectedLayers.length>0}),a.onLayerCreatedCallbackFn(a.layer)},this.selectedFeatureLayersChanged=function(e){var t;a.settings=e,null===(t=a.layer)||void 0===t||t.setVisible(e.maisemanMuisti.selectedLayers.length>0)},this.getLayer=function(){return a.layer},this.settings=e,this.onLayerCreatedCallbackFn=t,this.style=new R.ZP({image:new Y.Z({fill:new P.Z({color:"#f1615b"}),stroke:new x.Z({color:"black",width:1}),points:5,radius:15,radius2:8,angle:0})}),this.fetchGeoJson().then(this.addFeaturesToLayer)},re=function(e,t){var a=this;this.loadFeaturesOnClickedCoordinate=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.map.getSize();if(t){var n=a.ahvenanmaaTileLayer.identifyFeaturesAt(e.coordinate,t,a.map.getView().calculateExtent(t)),i=a.museovirastoTileLayer.identifyFeaturesAt(e.coordinate,t,a.map.getView().calculateExtent(t)),s=a.map.getFeaturesAtPixel(e.pixel,{layerFilter:function(e){return e===a.modelsLayer.getLayer()},hitTolerance:10}).map((function(e){return e.getProperties()})),r=a.map.getFeaturesAtPixel(e.pixel,{layerFilter:function(e){return e===a.maisemanMuistiLayer.getLayer()},hitTolerance:10}).map((function(e){var t,a=null===(t=e.getGeometry())||void 0===t?void 0:t.getExtent();return{type:"Feature",geometry:{type:"Point",coordinates:[a[0],a[1]]},properties:(0,p.pi)({},e.getProperties())}}));Promise.all([n,i]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results);a.eventListeners.featuresSelected(i,s,r)}))}},this.initGeolocation=function(){a.geolocation=new f.Z({projection:a.view.getProjection(),tracking:!0,trackingOptions:{enableHighAccuracy:!0}}),a.geolocation.once("change:position",a.centerToCurrentPositions),a.geolocation.on("change:position",a.geolocationChanged)},this.geolocationChanged=function(){var e,t=null===(e=a.geolocation)||void 0===e?void 0:e.getPosition();t&&a.positionAndSelectedLocation.addCurrentPositionMarker(t)},this.zoom=function(e){var t=a.view.getZoom();t&&a.view.animate({zoom:t+e,duration:250})},this.selectedFeatureLayersChanged=function(e,t){switch(t){case i.Museovirasto:a.museovirastoTileLayer.selectedFeatureLayersChanged(e);break;case i.Ahvenanmaa:a.ahvenanmaaTileLayer.selectedFeatureLayersChanged(e);break;case i.Models:a.modelsLayer.selectedFeatureLayersChanged(e);break;case i.MaisemanMuisti:a.maisemanMuistiLayer.selectedFeatureLayersChanged(e)}},this.selectedMuinaisjaannosTypesChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosTypesChanged(e)},this.selectedMuinaisjaannosDatingsChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosDatingsChanged(e)},this.searchFeatures=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.ahvenanmaaTileLayer.findFeatures(e),n=a.museovirastoTileLayer.findFeatures(e);Promise.all([t,n]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results);a.eventListeners.featureSearchReady(i)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){a.maanmittauslaitosTileLayer.selectedMaanmittauslaitosLayerChanged(e)},this.setMapLocation=function(e){a.view.setCenter(e)},this.centerToCurrentPositions=function(){if(a.geolocation&&a.geolocation.getPosition()){var e=a.geolocation.getPosition();a.view.setCenter(e)}else a.initGeolocation()},this.showSelectedLocationMarker=function(e){a.positionAndSelectedLocation.addSelectedLocationFeatureMarker(e)},this.zoomIn=function(){a.zoom(1)},this.zoomOut=function(){a.zoom(-1)},this.fetchDataLatestUpdateDates=function(){Promise.all([a.museovirastoTileLayer.getDataLatestUpdateDate(),a.ahvenanmaaTileLayer.getForminnenDataLatestUpdateDate(),a.ahvenanmaaTileLayer.getMaritimtKulturarvDataLatestUpdateDate(),a.modelsLayer.getDataLatestUpdateDate()]).then((function(e){var t=e[0],n=e[1],i=e[2],s=e[3];a.eventListeners.dataLatestUpdateDatesReady({museovirasto:t,ahvenanmaaForminnen:n,ahvenanmaaMaritimtKulturarv:i,models:s})})).catch((function(){return a.eventListeners.dataLatestUpdateDatesReady({museovirasto:null,ahvenanmaaForminnen:null,ahvenanmaaMaritimtKulturarv:null,models:null})}))},this.eventListeners=t,d.Z.defs("EPSG:3067","+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),(0,g.z)(d.Z),(0,v.U2)("EPSG:3067").setExtent([50199.4814,6582464.0358,761274.6247,7799839.8902]),this.view=new k.ZP({center:[385249.63630000036,6672695.7579],projection:"EPSG:3067",zoom:e.initialMapZoom,enableRotation:!1}),this.map=new h.Z({target:"map",view:this.view,controls:new y.Z}),this.maanmittauslaitosTileLayer=new D(e,t.showLoadingAnimation,(function(e,t,n){a.map.getLayers().insertAt(0,e),a.map.getLayers().insertAt(1,t),a.map.getLayers().insertAt(2,n)})),this.ahvenanmaaTileLayer=new N(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(3,e)})),this.museovirastoTileLayer=new F(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(4,e)})),this.maisemanMuistiLayer=new se(e,(function(e){a.map.getLayers().insertAt(5,e)})),this.modelsLayer=new ie(e,(function(e){a.map.getLayers().insertAt(6,e)})),this.positionAndSelectedLocation=new V((function(e){a.map.getLayers().insertAt(7,e)})),this.map.on("singleclick",this.loadFeaturesOnClickedCoordinate)};a(14039);var le=a(93379),oe=a.n(le),ue=a(61810);oe()(ue.Z,{insert:"head",singleton:!1}),ue.Z.locals;var me,ce=a(67294),pe=a(73935),de=function(e){var t=e.visible;return ce.createElement("div",{id:"loading-animation",className:t?"":"hidden"},ce.createElement("img",{src:"images/loading.gif"}))},he=function(e){var t=e.onClick;return ce.createElement("div",{id:"map-button-zoom-in",className:"map-button"},ce.createElement("button",{type:"button",className:"btn btn-primary",title:"Lähennä",onClick:t},ce.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"})))},ke=function(e){var t=e.onClick;return ce.createElement("div",{id:"map-button-zoom-out",className:"map-button"},ce.createElement("button",{type:"button",className:"btn btn-primary",title:"Loitonna",onClick:t},ce.createElement("span",{className:"glyphicon glyphicon-minus","aria-hidden":"true"})))},ge=function(e){var t=e.onClick;return ce.createElement("div",{id:"map-button-position",className:"map-button"},ce.createElement("button",{type:"button",className:"btn btn-primary",title:"Keskitä kartta nykyiseen sijaintiisi",onClick:t},ce.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})))},ve=function(e){var t=e.onClick;return ce.createElement("div",{id:"map-button-info",className:"map-button"},ce.createElement("button",{type:"button",className:"btn btn-primary",title:"Ohjeita sivuston käyttöön",onClick:t},ce.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})))},ye=a(17563),fe=function(){var e=window.location.hash.replace(";","&");return(0,ye.parse)(e,{parseNumbers:!0,arrayFormat:"comma"})},Ee=function(e){return"#"+(0,ye.stringify)(e,{arrayFormat:"comma"})},Le=function(e){return Ee((0,p.pi)((0,p.pi)({},fe()),{x:e[0],y:e[1]}))},be=function(){var e=fe(),t=parseFloat(String(e.x)),a=parseFloat(String(e.y));return isNaN(t)||isNaN(a)?null:[t,a]},je="none",Me=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.permanentLink,i=e.featureName,s=e.featureTypeIconURL,r=e.featureTypeName,l=e.children,o=function(e){e.preventDefault(),a()};return ce.createElement("div",{className:"panel panel-default"},ce.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},ce.createElement("h4",{className:"panel-title"},ce.createElement("a",{role:"button",href:"",onClick:o},i),ce.createElement("a",{className:"pull-right",href:n},ce.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}))),ce.createElement("h6",{className:"panel-title"},ce.createElement("a",{role:"button",href:"",onClick:o},ce.createElement("img",{className:"feature-icon",src:s}),ce.createElement("span",null,r)))),ce.createElement("div",{className:"panel-collapse collapse "+(t?"in":""),role:"tabpanel"},ce.createElement("div",{className:"panel-body"},l)))},we=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.has3dModels,s=e.hasMaisemanMuistiFeatures,r=e.children,l=ae(n),o=l&&Le(l),u=B(n),m=q(n,i,s),c=J(n,i,s);return ce.createElement(Me,{isOpen:t,onToggleOpen:a,permanentLink:o,featureName:u,featureTypeIconURL:m,featureTypeName:c},r)},_e=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.has3dModels,s=e.children,r=function(e){switch(e.geometry.type){case"Point":return e.geometry.coordinates;case"Polygon":return e.geometry.coordinates[0][0]}}(n),l=r&&Le(r),o=n.properties.name+", "+n.properties.registerName,u=W("maiseman-muisti",i);return ce.createElement(Me,{isOpen:t,onToggleOpen:a,permanentLink:l,featureName:o,featureTypeIconURL:u,featureTypeName:"Kiinteä muinaisjäännös, Valtakunnallisesti merkittävä muinaisjäännös"},s)},Se=function(e){var t=e.label,a=e.value,n=e.children,i=ne(a);return n||i?ce.createElement("div",{className:"form-group"},ce.createElement("label",null,t),n||ce.createElement("p",null,i)):null},De=function(e){var t=e.dating,a=S[t];return a?ce.createElement("span",{className:"label label-default"},a):null},Te=function(e){var t=e.url,a=e.registerName;return ce.createElement("p",{className:"well"},"Lisää tietoa kohteesta Museoviraston"," ",ce.createElement("a",{href:t,target:"_blank"},a),".")},Ce=function(e){var t=e.feature,a=te(t),n=function(e){switch(e.layerName){case r.Muinaisjaannokset_piste:case r.Muinaisjaannokset_alue:return"Muinaisjäännösrekisteristä";case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:return"rky.fi rekisteristä";case r.Maailmanperinto_alue:case r.Maailmanperinto_piste:return"Museoviraston sivuilta";case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:return"rakennusperintörekisteristä";case l.Fornminnen:return"Ahvenamaan muinaisjäännösrekisteri";case l.MaritimtKulturarv:return"Ahvenamaan merellinen kulttuuriperintörekisteri"}}(t);return a?ce.createElement(Te,{url:a,registerName:n}):null},Ne=function(){var e=ce.useState(!1),t=e[0],a=e[1];return ce.createElement("div",{className:"panel panel-default"},ce.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},ce.createElement("a",{role:"button",href:"",onClick:function(e){e.preventDefault(),a(!t)}},ce.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})," ","Lisätietoa 3D-malleista")),ce.createElement("div",{className:"panel-collapse collapse "+(t?"in":""),role:"tabpanel"},ce.createElement("div",{className:"panel-body"},ce.createElement("p",null,"Nämä 3D-mallit ovat"," ",ce.createElement("a",{href:"./3d/",target:"_blank"},"tietokannasta"),", joka listaa harrastajien sekä virallisen toimijoiden (museot, Museovirasto, Ahvenanmaan paikallioshallinto) tekemiä 3D-mallinnuksia"," ",ce.createElement("a",{href:"https://sketchfab.com",target:"_blank"},"Sketchfab")," ","-palvelusta."),ce.createElement("p",null,"Mallit saa käynnistettyä nuolipainikkeesta. Käynnistymisen jälkeen mallin saa koko ruudun tilaan oikean alareunan"," ",ce.createElement("img",{src:"images/sketchfab-fullscreen.png"})," painikkeesta tai painamalla näppäimistöltä ",ce.createElement("kbd",null,"f")," painiketta."),ce.createElement("p",null,"Mallin ohjaus:"),ce.createElement("ul",null,ce.createElement("li",null,ce.createElement("b",null,"Kääntäminen:")," pidä vasen hiirenpainike pohjaan painettuna ja liikuta hiirtä. Kosketusnäytöillä pidä sormi painettuna ja liikuta sormea."),ce.createElement("li",null,ce.createElement("b",null,"Suurennus ja pienennys:")," käytä hiiren rullaa. Kosketusnäytöillä käytä kahden sormen nipistyselettä."),ce.createElement("li",null,ce.createElement("b",null,"Kohdistuksen siirtäminen:")," pidä oikea hiirenpainike pohjaan painettuna ja liikuta hiirtä. Kosketusnäytöillä pidä kaksi sormea painettuna ja liikuta sormia.")))))},Fe=function(e){var t=e.models,a=void 0===t?[]:t;return 0===a.length?null:ce.createElement(ce.Fragment,null,ce.createElement("br",null),ce.createElement("h4",null,"Kohteen 3D-mallit"),ce.createElement(Ne,null),a.map((function(e){return ce.createElement("div",{className:"form-group",key:e.model.url},ce.createElement("label",null,e.model.name),ce.createElement("iframe",{title:e.model.name,width:"100%",height:"400",src:e.model.url+"/embed",allow:"fullscreen",allowFullScreen:!0}))})))},Ae=function(e){var t=e.feature;return ce.createElement("div",{className:"form-group"},ce.createElement("label",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (",ce.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"lisätietoa"),")"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/maiseman-muisti.png"}),ce.createElement("span",null,t.properties.name)))},Ke=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,s=void 0===i?[]:i,r=e.maisemanMuistiFeatures,l=void 0===r?[]:r;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:s.length>0,hasMaisemanMuistiFeatures:l.length>0},ce.createElement("form",null,ce.createElement(Se,{label:"Kohdenimi",value:n.attributes.kohdenimi}),ce.createElement(Se,{label:"Kunta",value:n.attributes.kunta}),ce.createElement(Se,{label:"Ajoitus"},ce.createElement("p",null,ce.createElement("span",null,ne(n.attributes.ajoitus)),ce.createElement(De,{dating:n.attributes.ajoitus}))),ce.createElement(Se,{label:"Tyyppi",value:n.attributes.tyyppi}),ce.createElement(Se,{label:"Alatyyppi",value:n.attributes.alatyyppi}),ce.createElement(Se,{label:"Laji",value:n.attributes.laji}),l.length>0&&ce.createElement(Ae,{feature:l[0]}),ce.createElement(Ce,{feature:n}),t&&ce.createElement(Fe,{models:s})))},Pe=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n},ce.createElement("form",null,ce.createElement(Se,{label:"Kohdenimi",value:n.attributes.kohdenimi}),ce.createElement(Se,{label:"Kunta",value:n.attributes.kunta}),ce.createElement(Se,{label:"Laji",value:n.attributes.laji}),ce.createElement(Ce,{feature:n})))},xe=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,s=void 0===i?[]:i;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:s.length>0},ce.createElement("form",null,ce.createElement(Se,{label:"Kohdenimi",value:n.attributes.kohdenimi}),n.layerName===r.RKY_alue&&ce.createElement(Se,{label:"Nimi",value:n.attributes.nimi}),ce.createElement(Ce,{feature:n}),t&&ce.createElement(Fe,{models:s})))},Oe=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n},ce.createElement("form",null,ce.createElement(Se,{label:"Kohdenimi",value:n.attributes.Nimi}),ce.createElement(Ce,{feature:n})))},Re=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,s=void 0===i?[]:i;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:s.length>0},ce.createElement("form",null,ce.createElement(Se,{label:"Kohdenimi",value:n.attributes.kohdenimi}),n.layerName==r.Suojellut_rakennukset_piste&&ce.createElement(Se,{label:"Rakennusnimi",value:n.attributes.rakennusnimi}),ce.createElement(Se,{label:"Kunta",value:n.attributes.kunta}),ce.createElement(Se,{label:"Suojeluryhmä",value:n.attributes.suojeluryhmä}),ce.createElement(Ce,{feature:n}),t&&ce.createElement(Fe,{models:s})))},Ue=function(e){var t=e.feature,a=te(t);return a?ce.createElement("p",null,"Lisää tietoa kohteesta löytyy"," ",ce.createElement("a",{href:a,target:"_blank"},"kuntakohtaisesta Pdf-tiedostosta"),", josta voit etsiä kohteen tunnisteella"," ",ce.createElement("span",{className:"label label-default"},t.attributes["Fornlämnings ID"]),"."):null},Ie=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,s=void 0===i?[]:i;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:s.length>0},ce.createElement("form",null,ce.createElement(Se,{label:"Nimi",value:n.attributes.Namn}),ce.createElement(Se,{label:"Kunta",value:n.attributes.Kommun}),ce.createElement(Se,{label:"Kylä",value:n.attributes.By}),ce.createElement(Se,{label:"Kuvaus",value:n.attributes.Beskrivning}),ce.createElement(Se,{label:"Sijainti",value:n.attributes.Topografi}),ce.createElement(Se,{label:"Tunniste",value:n.attributes["Fornlämnings ID"]}),ce.createElement(Ue,{feature:n}),t&&ce.createElement(Fe,{models:s})))};!function(e){e.Visible="Visible",e.Closing="Closing",e.Hidden="Hidden"}(me||(me={}));var Ze,Ve=function(e){var t=e.title,a=e.visibility,n=e.hidePage,i=e.children,s="";switch(a){case me.Visible:s="page-right-visible";break;case me.Closing:s="page-right-closing";break;case me.Hidden:s="page-right-hidden"}return ce.createElement("div",{className:"container page "+s},a!==me.Hidden&&ce.createElement("div",{className:"row pageHeader"},ce.createElement("div",{className:"col-xs-3"},ce.createElement("button",{className:"btn btn-primary btn-sm",onClick:n},ce.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}),"Sulje")),ce.createElement("div",{className:"col-xs-9"},ce.createElement("span",{className:"pageHeaderText"},t))),a!==me.Hidden&&ce.createElement("div",{className:"pageContent"},i))},Ye=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,s=void 0===i?[]:i;return ce.createElement(we,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:s.length>0},ce.createElement("form",null,ce.createElement(Se,{label:"Nimi",value:n.attributes.Namn}),ce.createElement(Se,{label:"Kunta",value:n.attributes.Kommun}),ce.createElement(Se,{label:"Kylä",value:n.attributes.By}),ce.createElement(Se,{label:"Kuvaus",value:n.attributes.Beskrivning}),ce.createElement(Se,{label:"Tarkkuus",value:n.attributes.Precision}),ce.createElement(Se,{label:"Tunniste",value:n.attributes.FornID}),ce.createElement(Se,{label:"Laki",value:n.attributes.Lagrum}),t&&ce.createElement(Fe,{models:s})))},Ge=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,s=void 0===i?[]:i;return ce.createElement(_e,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:s.length>0},ce.createElement("form",null,ce.createElement(Se,{label:"Kohdenimi",value:n.properties.registerName}),ce.createElement(Se,{label:"Kunta",value:n.properties.municipality}),ce.createElement(Se,{label:"Maakunta",value:n.properties.region}),ce.createElement(Se,{label:"Ajoitus"},ce.createElement("p",null,ce.createElement("span",null,ne(n.properties.dating)),ce.createElement(De,{dating:n.properties.dating}))),ce.createElement(Se,{label:"Tyyppi",value:n.properties.type}),ce.createElement(Se,{label:"Alatyyppi",value:n.properties.subtype}),ce.createElement(Ae,{feature:n}),ce.createElement(Te,{url:"https://www.kyppi.fi/to.aspx?id=112."+n.properties.id,registerName:"Muinaisjäännösrekisteristä"}),t&&ce.createElement(Fe,{models:s})))},ze=function(e){var t=e.feature,a=e.isOpen,n=e.onToggleOpen,i=e.models,s=e.maisemanMuistiFeatures,o={isOpen:a,onToggleOpen:n,models:Q(t,i),maisemanMuistiFeatures:ee(t,s)};switch(t.layerName){case r.Muinaisjaannokset_piste:return ce.createElement(Ke,(0,p.pi)({feature:t},o));case r.Muinaisjaannokset_alue:return ce.createElement(Pe,(0,p.pi)({feature:t},o));case r.RKY_alue:case r.RKY_viiva:case r.RKY_piste:return ce.createElement(xe,(0,p.pi)({feature:t},o));case r.Maailmanperinto_alue:case r.Maailmanperinto_piste:return ce.createElement(Oe,(0,p.pi)({feature:t},o));case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:return ce.createElement(Re,(0,p.pi)({feature:t},o));case l.Fornminnen:return ce.createElement(Ie,(0,p.pi)({feature:t},o));case l.MaritimtKulturarv:return ce.createElement(Ye,(0,p.pi)({feature:t},o))}return null},He=function(e){var t=e.visibility,a=e.hidePage,n=e.features,i=void 0===n?[]:n,s=e.models,l=void 0===s?[]:s,o=e.maisemanMuistiFeatures,u=void 0===o?[]:o,m=ce.useState(""),c=m[0],p=m[1],d=function(e){return p(c===e?"":e)};return ce.createElement(Ve,{title:"Valitut kohteet",visibility:t,hidePage:a},ce.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"}),i.map((function(e){var t=e.layerName+"-"+$(e);return ce.createElement(ze,{key:t,isOpen:c===t,onToggleOpen:function(){return d(t)},feature:e,models:l,maisemanMuistiFeatures:u})})),u.map((function(e){if(i.some((function(t){return t.layerName===r.Muinaisjaannokset_piste&&t.attributes.mjtunnus===e.properties.id.toString()})))return null;var t="maisemanMuisti-"+e.properties.id.toString();return ce.createElement(Ge,{key:t,isOpen:c===t,onToggleOpen:function(){return d(t)},feature:e,models:X(e,l)})})))},Be=function(e){var t=e.hidePage,a=e.feature,n=B(a),i=function(e){switch(e.layerName){case r.Muinaisjaannokset_piste:case r.Muinaisjaannokset_alue:case r.Suojellut_rakennukset_alue:case r.Suojellut_rakennukset_piste:return e.attributes.kunta;case l.Fornminnen:case l.MaritimtKulturarv:return e.attributes.Kommun;default:return}}(a),s=J(a),o=q(a),u=ae(a),m=u&&Le(u);return ce.createElement("a",{href:m,className:"list-group-item search-result-row",onClick:t},ce.createElement("h4",{className:"list-group-item-heading"},n),ce.createElement("p",{className:"list-group-item-text"},ce.createElement("img",{className:"feature-icon",src:o}),ce.createElement("span",null,s,i&&", "+i)))},Je=function(e){var t=e.hidePage,a=e.features;return a?ce.createElement(ce.Fragment,null,ce.createElement("h5",{id:"search-result-header"},ce.createElement("span",null,"Hakutulokset"),ce.createElement("small",null," (",a.length," kpl)")),ce.createElement("div",{className:"list-group"},a.map((function(e){return ce.createElement(Be,{key:e.layerName+"-"+$(e),feature:e,hidePage:t})})))):null},We=function(){return ce.createElement("div",{className:"alert alert-danger",role:"alert"},"Hakusanan pitää olla vähintään kolme merkkiä")},qe=function(e){var t=e.visibility,a=e.hidePage,n=e.searchFeatures,i=e.searchResultFeatures,s=ce.useState(""),r=s[0],l=s[1],o=ce.useState(!1),u=o[0],m=o[1],c=ce.useRef(null);return ce.useEffect((function(){t===me.Visible&&setTimeout((function(){var e;return null===(e=c.current)||void 0===e?void 0:e.focus()}),500)}),[t]),ce.createElement(Ve,{title:"Hae kohteita",visibility:t,hidePage:a},ce.createElement("form",{className:u?"has-error":void 0,onSubmit:function(e){e.stopPropagation(),e.preventDefault(),r.trim().length<3?m(!0):(m(!1),n(r))}},u&&ce.createElement(We,null),ce.createElement("span",{id:"helpBlock",className:"help-block"},"Voit hakea kohteen nimellä (esim. Turun linna) tai rekisterin tunnuksella (esim. 200284)"),ce.createElement("div",{className:"input-group"},ce.createElement("input",{type:"text",ref:c,className:"form-control",placeholder:"Kirjoita kohteen nimi tai sen osa",value:r,"aria-describedby":"helpBlock",onChange:function(e){return l(e.target.value)}}),ce.createElement("span",{className:"input-group-btn"},ce.createElement("button",{className:"btn btn-default",type:"submit"},"Hae")))),ce.createElement(Je,{features:i,hidePage:a}))},$e=function(e){var t=e.title,a=e.children;return ce.createElement("div",{className:"panel panel-default"},ce.createElement("div",{className:"panel-heading"},t),ce.createElement("div",{className:"panel-body"},a))},Qe=function(){return ce.createElement($e,{title:"Tietoa sivustosta"},ce.createElement("p",null,"Tällä sivustolla näet kartalla seuraavien rekisterien tiedot:"),ce.createElement("h5",null,"Museovirasto"),ce.createElement("ul",null,ce.createElement("li",null,ce.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/mjreki/read/asp/r_default.aspx",target:"_blank"},"Muinaisjäännösrekisteri")),ce.createElement("li",null,ce.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/rapea/read/asp/r_default.aspx",target:"_blank"},"Rakennusperintörekisteri")),ce.createElement("li",null,ce.createElement("a",{href:"https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa",target:"_blank"},"Maailmanperintökohteet")),ce.createElement("li",null,ce.createElement("a",{href:"http://www.rky.fi/",target:"_blank"},"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"))),ce.createElement("h5",null,"Ahvenamaan paikallishallinto"),ce.createElement("ul",null,ce.createElement("li",null,ce.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret",target:"_blank"},"Muinaisjäännösrekisteri")),ce.createElement("li",null,ce.createElement("a",{href:"https://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/marinarkeologi",target:"_blank"},"Merellisen kulttuuriperinnön rekisteri"))),ce.createElement("p",null,"Kaikki näytettävät kohteet ovat avointa dataa ja haettu rekisterin ylläpitäjän tarjoamasta karttapalvelusta."),ce.createElement("p",null,"Kohteista saa lisätietoikkunan näkyviin klikkaamalla kohdetta kartalla. Tästä näkymästä on myös linkki kohteen lisätietoihin rekisterin ylläpitäjän sivustolla. Kohteen otsikon vieressä olevasta kuvakkeesta (",ce.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}),") saa talteen pysyvän linkin kohteen sijaintiin kartalla."),ce.createElement("h5",null,"3D-mallit"),ce.createElement("p",null,"Joillekin kohteille on saataville myös 3D-malleja"," ",ce.createElement("a",{href:"./3d/",target:"_blank"},"tietokannasta"),", joka listaa harrastajien sekä virallisen toimijoiden (museot, Museovirasto, Ahvenanmaan paikallioshallinto) tekemiä 3D-mallinnuksia"," ",ce.createElement("a",{href:"https://sketchfab.com",target:"_blank"},"Sketchfab")," ","-palvelusta."),ce.createElement("h5",null,"Paikannus"),ce.createElement("p",null,"Kartta keskitetään oletuksena nykyiseen sijaintiisi jos annat selaimelle luvan luovuttaa se tieto. Keskityksen nykyiseen sijaintiin voi suorittaa myös myöhemmin"," ",ce.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})," ","painikkeesta."),ce.createElement("h5",null,"Haku"),ce.createElement("p",null,"Museoviraston rekisterien kohteita pystyy hakemaan nimen perusteella hakunäkymässä (",ce.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"}),"). Hakutuloksen klikkaaminen keskittää kartan kohteeseen ja lisää siihen paikkamerkin ",ce.createElement("img",{src:"images/map-pin-small.png"}),"."),ce.createElement("h5",null,"Asetukset"),ce.createElement("p",null,"Pohjakartan voi vaihtaa taustakartan ja maastokartan välillä asetuksista (",ce.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"}),"). Samasta näkymästä voi piilottaa Museoviraston rekisterien kohteita tyypin ja muinaisjäännöksiä myös ajoituksen mukaan jos haluaa tarkastella esimerkiksi pelkästään muinaisjäännöksiä rautakaudelta."),ce.createElement("p",null,"Palautetta sivustosta otetaan mielellään vastaan osoitteeseen"," ",ce.createElement("a",{href:"mailto:antti.kekki@gmail.com"},"antti.kekki@gmail.com")))},Xe=function(){return ce.createElement($e,{title:"Karttasymbolit"},ce.createElement("div",null,ce.createElement("h5",null,"Museoviraston muinaisjäännösrekisteri"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_kohde.png"}),ce.createElement("span",null,"Kiinteä muinaisjäännös")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_alue.png"}),ce.createElement("span",null,"Kiinteä muinaisjäännös (alue)")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/muu_kulttuuriperintokohde_kohde.png"}),ce.createElement("span",null,"Muu kulttuuriperintökohde")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/muu-kulttuuriperintokohde-alue.png"}),ce.createElement("span",null,"Muu kulttuuriperintökohde (alue)"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"Ahvenanmaan muinaisjäännösrekisteri"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_muinaisjaannos.png"}),ce.createElement("span",null,"Kohde"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"Ahvenanmaan merellisen kulttuuriperinnön rekisteri"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_hylky.png"}),ce.createElement("span",null,"Kohde"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"Rakennusperintörekisteri"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_rakennus.png"}),ce.createElement("span",null,"Rakennus")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_alue.png"}),ce.createElement("span",null,"Alue"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"Maailmanperintökohteet"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_piste.png"}),ce.createElement("span",null,"Kohde")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_alue.png"}),ce.createElement("span",null,"Alue"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/rky_piste.png"}),ce.createElement("span",null,"Kohde")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/rky_viiva.png"}),ce.createElement("span",null,"Viiva (esim. tie)")),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/rky_alue.png"}),ce.createElement("span",null,"Alue"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"3D-mallit (",ce.createElement("a",{href:"./3d/",target:"_blank"},"lisätietoa"),")"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/3d_malli_circle.png"}),ce.createElement("img",{className:"feature-icon",src:"images/3d_malli_square.png"}),ce.createElement("span",null,"Kohde sisältää 3D-malleja"))),ce.createElement("br",null),ce.createElement("div",null,ce.createElement("h5",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (",ce.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"lisätietoa"),")"),ce.createElement("p",null,ce.createElement("img",{className:"feature-icon",src:"images/maiseman-muisti.png"}),ce.createElement("span",null,"Valtakunnallisesti merkittävä muinaisjäännös"))))},et=function(){return ce.createElement($e,{title:"Avoin data, lisenssit ja lähdekoodi"},ce.createElement("p",null,"Museoviraston rekistereistä tietoa haetaan"," ",ce.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"avoimen rajapinnan")," ","kautta (paikkatietoaineisto on julkaistu"," ",ce.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons CC By 4.0 -lisenssillä"),")."),ce.createElement("p",null,"Ahvenanmaan maakuntahallinnon rekisteristö tietoa haetaan"," ",ce.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"avoimen rajapinnan")," ","kautta (paikkatietoaineisto on julkaistu"," ",ce.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons CC By 4.0 -lisenssillä"),")."),ce.createElement("p",null,"Taustakarttana on"," ",ce.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"Maanmittauslaitoksen")," ","tausta-, ortokuva- ja peruskartta (paikkatietoaineisto on julkaistu"," ",ce.createElement("a",{href:"https://www.maanmittauslaitos.fi/avoindata-lisenssi-cc40"},"Creative Commons Nimeä 4.0 Kansainvälinen -lisenssillä"),")."),ce.createElement("p",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset -kirjan paikkatieto on ",ce.createElement("a",{href:"./maisemanmuisti/"},"tietokannasta"),", johon on koottu kirjan listaamat 205 kohdetta. Kirjan sisällön tekijanoikeus on Museovirastolla."),ce.createElement("p",null,"3D-mallit ovat avoimesta ",ce.createElement("a",{href:"./3d/"},"tietokannasta"),", joka listaa harrastajien sekä virallisen toimijoiden (museot, Museovirasto, Ahvenanmaan paikallioshallinto) tekemiä 3D-mallinnuksia. Mallien lisenssit on listattu tietokannassa mallikohtaisesti."),ce.createElement("p",null,"Tämän sivuston tekninen toteutus on"," ",ce.createElement("a",{href:"https://github.com/anttikekki/muinaismuistot"},"avointa lähdekoodia"),", lisenssinä on"," ",ce.createElement("a",{href:"https://github.com/anttikekki/muinaismuistot/blob/master/LICENSE"},"MIT"),"."))},tt=function(){return ce.createElement($e,{title:"Versiohistoria"},ce.createElement("h5",null,"Marraskuu 2020"),ce.createElement("p",null,"Lisätty"," ",ce.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset")," ","-kirjan paikkatietoaineisto kartalle"," ",ce.createElement("img",{src:"images/maiseman-muisti.png"})," korostuksella."),ce.createElement("p",null,"Karttatasojen näkyvyyksien asetukset päivitetään nyt selaimen osoitepalkkiin jolloin sivun lataaminen uudelleen palauttaa samat asetukset."),ce.createElement("p",null,"Hakukenttä hyväksyy nyt myös kohteen tunnuksen Museoviraston rekistereissä."),ce.createElement("br",null),ce.createElement("h5",null,"Toukokuu 2020"),ce.createElement("p",null,"Päivitetty Museoviraston"," ",ce.createElement("a",{href:"http://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer",target:"_blank"},"paikkatietoaineiston")," ","WMS-karttatasojen nimet koska niistä poistuivat ääkköset."),ce.createElement("br",null),ce.createElement("h5",null,"Huhtikuu 2020"),ce.createElement("p",null,"Lisätty 3D-mallien"," ",ce.createElement("a",{href:"./3d/",target:"_blank"},"tietokanta")," ","ja karttaan ",ce.createElement("img",{src:"images/3d_malli_circle.png"}),ce.createElement("img",{src:"images/3d_malli_square.png"})," korostus kohteille, joille löytyy 3D-malleja."),ce.createElement("br",null),ce.createElement("h5",null,"Helmikuu 2020"),ce.createElement("p",null,'Lisätty kartta-aineistojen viimeisin päivitysaika näkyviin "Lisätietoja sivustosta" -sivulle.'),ce.createElement("p",null,"Paikannus päivittää nyt automaattisesti omaa sijaintia kartalla."),ce.createElement("br",null),ce.createElement("h5",null,"Elokuu 2019"),ce.createElement("p",null,"Siirrytty käyttämään Ahvenanmaan maakuntahallinnon uutta"," ",ce.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"kartor.ax")," ","karttapalvelua. Samalla kohteiden haku alkoi toimimaan myös Ahvenanmaan kohteille."),ce.createElement("p",null,"Kartalle klikattujen kohteiden listassa näkyy nyt otsikossa kohteen nimi. Listassa voi nyt myös olla monta saman tyyppistä kohdetta."),ce.createElement("br",null),ce.createElement("h5",null,"Heinäkuu 2019"),ce.createElement("p",null,"Korjattu Museoviraston muinaisjäännösrekisterin pisteiden filtteröinti ajoituksen ja tyypin perusteella."),ce.createElement("br",null),ce.createElement("h5",null,"Joulukuu 2018"),ce.createElement("p",null,"Siirrytty käyttämään Maanmittauslaitoksen uutta"," ",ce.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"karttapalvelua"),", jonka myötä taustakartan ulkonäkö muuttui selkeämmäksi ja"," ",ce.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/tuotekuvaukset/ortokuva"},"Ortokuvat")," ","saatiin käyttöön."),ce.createElement("p",null,"Siirrytty käyttämään Museoviraston uutta"," ",ce.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"karttapalvelua"),', jonka myötä saatiin käyttöön ruskeat "Muu kulttuuriperintökohde" -pisteet kartalle.'),ce.createElement("br",null),ce.createElement("h5",null,"Marraskuu 2017"),ce.createElement("p",null,"Lisätty kartalle Ahvenanmaan maakuntahallinnon"," ",ce.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret"},"muinaijäännösten rekisteri"),"."),ce.createElement("br",null),ce.createElement("h5",null,"Lokakuu 2015"),ce.createElement("p",null,"Ensimmäinen versio julkaistu."))},at=function(e){var t=e.date;return void 0===t?ce.createElement("p",null,"Tietoa selvitetään parhaillaan..."):null===t?ce.createElement("p",null,"Päivityshetkeä ei valitettavasti saatu selville"):ce.createElement("p",null,t.toLocaleDateString("fi"))},nt=function(e){var t=e.dataLatestUpdateDates;return ce.createElement($e,{title:"Aineisto päivitetty viimeksi"},ce.createElement("h5",null,"Museoviraston aineistot"),ce.createElement(at,{date:null==t?void 0:t.museovirasto}),ce.createElement("h5",null,"Ahvenamaan muinaisjäännösrekisteri"),ce.createElement(at,{date:null==t?void 0:t.ahvenanmaaForminnen}),ce.createElement("h5",null,"Ahvenamaan merellisen kulttuuriperinnön rekisteri"),ce.createElement(at,{date:null==t?void 0:t.ahvenanmaaMaritimtKulturarv}),ce.createElement("h5",null,"3D-mallit (",ce.createElement("a",{href:"./3d/",target:"_blank"},"lisätietoa"),")"),ce.createElement(at,{date:null==t?void 0:t.models}))},it=function(e){var t=e.visibility,a=e.hidePage,n=e.dataLatestUpdateDates;return ce.createElement(Ve,{title:"Lisätietoja sivustosta",visibility:t,hidePage:a},ce.createElement(nt,{dataLatestUpdateDates:n}),ce.createElement(Qe,null),ce.createElement(Xe,null),ce.createElement(et,null),ce.createElement(tt,null))},st=function(e){var t=e.onClick;return ce.createElement("div",{id:"map-button-search",className:"map-button"},ce.createElement("button",{type:"button",className:"btn btn-primary",title:"Hae kohteita",onClick:t},ce.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"})))},rt=function(e){var t=e.layer,a=e.selectedLayer,n=e.onSelectLayer,i=t===a;return ce.createElement("label",{className:"btn btn-default "+(i?"active":"")},ce.createElement("input",{type:"radio",name:"selectedMapLayer",checked:i,onChange:function(){return n(t)}}),t)},lt=function(e){var t=e.selectedLayer,a=e.onSelectLayer;return ce.createElement($e,{title:"Karttapohja"},ce.createElement("div",{className:"btn-group","data-toggle":"buttons"},Object.values(s).map((function(e){return ce.createElement(rt,{key:e,layer:e,selectedLayer:t,onSelectLayer:a})}))))},ot=function(e){var t=e.label,a=e.layer,n=e.selectedLayers,i=e.onSelectLayer,s=n.includes(a);return ce.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ce.createElement("label",null,ce.createElement("input",{type:"checkbox",onChange:function(){return i(a)},checked:s}),function(e){switch(e){case r.Muinaisjaannokset_piste:return["images/muinaisjaannos_kohde.png","images/muu_kulttuuriperintokohde_kohde.png"];case r.Muinaisjaannokset_alue:return["images/muinaisjaannos_alue.png","images/muu-kulttuuriperintokohde-alue.png"];case r.RKY_alue:return["images/rky_alue.png"];case r.RKY_viiva:return["images/rky_viiva.png"];case r.RKY_piste:return["images/rky_piste.png"];case r.Maailmanperinto_alue:return["images/maailmanperinto_alue.png"];case r.Maailmanperinto_piste:return["images/maailmanperinto_piste.png"];case r.Suojellut_rakennukset_alue:return["images/rakennusperintorekisteri_alue.png"];case r.Suojellut_rakennukset_piste:return["images/rakennusperintorekisteri_rakennus.png"];case l.Fornminnen:return["images/ahvenanmaa_muinaisjaannos.png"];case l.MaritimtKulturarv:return["images/ahvenanmaa_hylky.png"];case o.ModelLayer:return["images/3d_malli_circle.png","images/3d_malli_square.png"];case u.MaisemanMuisti:return["images/maiseman-muisti.png"]}}(a).map((function(e,t){return ce.createElement("img",{className:"feature-icon",key:t,src:e})})),ce.createElement("span",null,t)))},ut=function(e){var t=e.selectedMuseovirastoLayers,a=e.selectedAhvenanmaaLayers,n=e.selectedModelLayers,i=e.selectedMaisemanMuistiLayers,s=e.onSelectMuseovirastoLayer,m=e.onSelectAhvenanmaaLayer,c=e.onSelectModelLayer,p=e.onSelectMaisemanMuistiLayer;return ce.createElement($e,{title:"Kartalla näkyvät kohteet"},ce.createElement("form",null,ce.createElement("h5",null,"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"),ce.createElement(ot,{label:"Alueet",layer:r.RKY_alue,selectedLayers:t,onSelectLayer:s}),ce.createElement(ot,{label:"Viivat (esim. tie)",layer:r.RKY_viiva,selectedLayers:t,onSelectLayer:s}),ce.createElement(ot,{label:"Pisteet",layer:r.RKY_piste,selectedLayers:t,onSelectLayer:s}),ce.createElement("h5",null,"Maailmanperintökohteet"),ce.createElement(ot,{label:"Alueet",layer:r.Maailmanperinto_alue,selectedLayers:t,onSelectLayer:s}),ce.createElement(ot,{label:"Pisteet",layer:r.Maailmanperinto_piste,selectedLayers:t,onSelectLayer:s}),ce.createElement("h5",null,"Rakennusperintörekisteri"),ce.createElement(ot,{label:"Rakennetut alueet",layer:r.Suojellut_rakennukset_alue,selectedLayers:t,onSelectLayer:s}),ce.createElement(ot,{label:"Rakennukset",layer:r.Suojellut_rakennukset_piste,selectedLayers:t,onSelectLayer:s}),ce.createElement("h5",null,"Museoviraston muinaisjäännösrekisteri"),ce.createElement(ot,{label:"Alueet",layer:r.Muinaisjaannokset_alue,selectedLayers:t,onSelectLayer:s}),ce.createElement(ot,{label:"Pisteet",layer:r.Muinaisjaannokset_piste,selectedLayers:t,onSelectLayer:s}),ce.createElement("h5",null,"Ahvenamaan muinaisjäännösrekisteri"),ce.createElement(ot,{label:"Kohde",layer:l.Fornminnen,selectedLayers:a,onSelectLayer:m}),ce.createElement("h5",null,"Ahvenamaan merellisen kulttuuriperinnön rekisteri"),ce.createElement(ot,{label:"Kohde",layer:l.MaritimtKulturarv,selectedLayers:a,onSelectLayer:m}),ce.createElement("h5",null,"3D-mallit (",ce.createElement("a",{href:"./3d/",target:"_blank"},"lisätietoa"),")"),ce.createElement(ot,{label:"3D-mallit",layer:o.ModelLayer,selectedLayers:n,onSelectLayer:c}),ce.createElement("h5",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (",ce.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"lisätietoa"),")"),ce.createElement(ot,{label:"Valtakunnallisesti merkittävät muinaisjäännökset",layer:u.MaisemanMuisti,selectedLayers:i,onSelectLayer:p})))},mt=function(e){var t=e.type,a=e.selectedMuinaisjaannosTypes,n=e.onSelectType,i=a.includes(t);return ce.createElement("div",{className:"checkbox"},ce.createElement("label",null,ce.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:i}),t))},ct=function(e){var t=e.dating,a=e.selectedMuinaisjaannosDatings,n=e.onSelectDating,i=a.includes(t);return ce.createElement("div",{className:"checkbox"},ce.createElement("label",null,ce.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:i}),t))},pt=function(e){var t=e.selectedMuinaisjaannosTypes,a=e.selectedMuinaisjaannosDatings,n=e.onSelectMuinaisjaannosType,i=e.onSelectMuinaisjaannosDating;return ce.createElement($e,{title:"Kartalla näkyvät muinaisjäännökset"},ce.createElement("form",null,ce.createElement("div",{className:"well well-sm"},"Rajoitus toimii vain Museoviraston muijaisjäännöksien pisteille (",ce.createElement("img",{src:"images/muinaisjaannos_kohde.png"})," ja",ce.createElement("img",{src:"images/muu_kulttuuriperintokohde_kohde.png"}),") mutta ei alueille (",ce.createElement("img",{src:"images/muinaisjaannos_alue.png"})," ja",ce.createElement("img",{src:"images/muu-kulttuuriperintokohde-alue.png"}),"). Rajaus ei valitettavasti toimi Ahvenanmaan muinaisjäännöksiin."),ce.createElement("h5",null,"Tyyppi"),Object.values(j).map((function(e){return ce.createElement(mt,{key:e,type:e,selectedMuinaisjaannosTypes:t,onSelectType:n})})),ce.createElement("h5",null,"Ajoitus"),Object.values(M).map((function(e){return ce.createElement(ct,{key:e,dating:e,selectedMuinaisjaannosDatings:a,onSelectDating:i})}))))},dt=function(e){var t=e.visibility,a=e.hidePage,n=e.settings,i=e.onSelectMaanmittauslaitosLayer,s=e.onSelectMuseovirastoLayer,r=e.onSelectAhvenanmaaLayer,l=e.onSelectModelLayer,o=e.onSelectMaisemanMuistiLayer,u=e.onSelectMuinaisjaannosType,m=e.onSelectMuinaisjaannosDating;return ce.createElement(Ve,{title:"Asetukset",visibility:t,hidePage:a},ce.createElement(lt,{selectedLayer:n.maanmittauslaitos.selectedLayer,onSelectLayer:i}),ce.createElement(ut,{selectedMuseovirastoLayers:n.museovirasto.selectedLayers,selectedAhvenanmaaLayers:n.ahvenanmaa.selectedLayers,selectedModelLayers:n.models.selectedLayers,selectedMaisemanMuistiLayers:n.maisemanMuisti.selectedLayers,onSelectMuseovirastoLayer:s,onSelectAhvenanmaaLayer:r,onSelectModelLayer:l,onSelectMaisemanMuistiLayer:o}),ce.createElement(pt,{selectedMuinaisjaannosTypes:n.museovirasto.selectedMuinaisjaannosTypes,selectedMuinaisjaannosDatings:n.museovirasto.selectedMuinaisjaannosDatings,onSelectMuinaisjaannosType:u,onSelectMuinaisjaannosDating:m}))},ht=function(e){var t=e.onClick;return ce.createElement("div",{id:"map-button-settings",className:"map-button"},ce.createElement("button",{type:"button",className:"btn btn-primary",title:"Kartan asetukset",onClick:t},ce.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"})))};!function(e){e.Search="searchPage",e.Info="infoPage",e.Settings="settingsPage",e.Details="detailsPage"}(Ze||(Ze={}));var kt=function(e,t){return t.includes(e)?t.filter((function(t){return t!==e})):(0,p.pr)(t,[e])};const gt=function(e,t){var a=this;this.pageClosingAnimationTimeoutID={},this.loadingAnimationCounter=0,this.onSearchFeatures=function(e){a.eventListeners.searchFeatures(e),a.searchResultFeatures=void 0,a.renderUI()},this.onSelectMaanmittauslaitosLayer=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{maanmittauslaitos:(0,p.pi)((0,p.pi)({},a.settings.maanmittauslaitos),{selectedLayer:e})}),a.eventListeners.selectedMaanmittauslaitosLayerChanged(a.settings),a.renderUI()},this.onSelectMuseovirastoLayer=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{museovirasto:(0,p.pi)((0,p.pi)({},a.settings.museovirasto),{selectedLayers:kt(e,a.settings.museovirasto.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,i.Museovirasto),a.renderUI()},this.onSelectAhvenanmaaLayer=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{ahvenanmaa:(0,p.pi)((0,p.pi)({},a.settings.ahvenanmaa),{selectedLayers:kt(e,a.settings.ahvenanmaa.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,i.Ahvenanmaa),a.renderUI()},this.onSelectModelLayer=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{models:(0,p.pi)((0,p.pi)({},a.settings.models),{selectedLayers:kt(e,a.settings.models.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,i.Models),a.renderUI()},this.onSelectMaisemanMuistiLayer=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{maisemanMuisti:(0,p.pi)((0,p.pi)({},a.settings.maisemanMuisti),{selectedLayers:kt(e,a.settings.maisemanMuisti.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,i.MaisemanMuisti),a.renderUI()},this.onSelectMuinaisjaannosType=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{museovirasto:(0,p.pi)((0,p.pi)({},a.settings.museovirasto),{selectedMuinaisjaannosTypes:kt(e,a.settings.museovirasto.selectedMuinaisjaannosTypes)})}),a.eventListeners.selectedMuinaisjaannosTypesChanged(a.settings),a.renderUI()},this.onSelectMuinaisjaannosDating=function(e){a.settings=(0,p.pi)((0,p.pi)({},a.settings),{museovirasto:(0,p.pi)((0,p.pi)({},a.settings.museovirasto),{selectedMuinaisjaannosDatings:kt(e,a.settings.museovirasto.selectedMuinaisjaannosDatings)})}),a.eventListeners.selectedMuinaisjaannosDatingsChanged(a.settings),a.renderUI()},this.renderUI=function(){var e=a.loadingAnimationCounter>0,t=a.eventListeners,n=t.zoomIn,i=t.zoomOut,s=t.centerToCurrentPositions;pe.render(ce.createElement(ce.Fragment,null,ce.createElement(de,{visible:e}),ce.createElement(he,{onClick:n}),ce.createElement(ke,{onClick:i}),ce.createElement(ge,{onClick:s}),ce.createElement(st,{onClick:function(){return a.showPage(Ze.Search)}}),ce.createElement(ve,{onClick:function(){return a.showPage(Ze.Info)}}),ce.createElement(ht,{onClick:function(){return a.showPage(Ze.Settings)}}),ce.createElement(He,{visibility:a.getPageVisibility(Ze.Details),hidePage:a.hidePage,features:a.selectedFeatures,models:a.selectedModels,maisemanMuistiFeatures:a.selectedMaisemanMuistiFeatures}),ce.createElement(qe,{visibility:a.getPageVisibility(Ze.Search),hidePage:a.hidePage,searchFeatures:a.onSearchFeatures,searchResultFeatures:a.searchResultFeatures}),ce.createElement(it,{visibility:a.getPageVisibility(Ze.Info),hidePage:a.hidePage,dataLatestUpdateDates:a.dataLatestUpdateDates}),ce.createElement(dt,{visibility:a.getPageVisibility(Ze.Settings),hidePage:a.hidePage,settings:a.settings,onSelectMaanmittauslaitosLayer:a.onSelectMaanmittauslaitosLayer,onSelectMuseovirastoLayer:a.onSelectMuseovirastoLayer,onSelectAhvenanmaaLayer:a.onSelectAhvenanmaaLayer,onSelectModelLayer:a.onSelectModelLayer,onSelectMaisemanMuistiLayer:a.onSelectMaisemanMuistiLayer,onSelectMuinaisjaannosType:a.onSelectMuinaisjaannosType,onSelectMuinaisjaannosDating:a.onSelectMuinaisjaannosDating})),document.getElementById("ui"))},this.getPageVisibility=function(e){return a.visiblePage===e?me.Visible:a.pageClosingAnimationTimeoutID[e]?me.Closing:me.Hidden},this.showPage=function(e){a.visiblePage!==e&&(a.abortClosingPage(e),a.visiblePage=e,e===Ze.Info&&a.eventListeners.fetchDataLatestUpdateDates(),a.renderUI())},this.hidePage=function(){a.visiblePage&&a.startClosingPage(a.visiblePage),a.visiblePage=void 0,a.renderUI()},this.startClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]=window.setTimeout((function(){a.pageClosingAnimationTimeoutID[e]=void 0,a.renderUI()}),500)},this.abortClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]&&(window.clearTimeout(a.pageClosingAnimationTimeoutID[e]),a.pageClosingAnimationTimeoutID[e]=void 0)},this.showLoadingAnimation=function(e){var t=a.loadingAnimationCounter;e?a.loadingAnimationCounter++:a.loadingAnimationCounter--,0===t&&1===a.loadingAnimationCounter&&(a.loadingAnimationTimeoutID=window.setTimeout((function(){a.loadingAnimationTimeoutID&&a.renderUI()}),300)),1===t&&0===a.loadingAnimationCounter&&(window.clearTimeout(a.loadingAnimationTimeoutID),a.loadingAnimationTimeoutID=void 0,a.renderUI())},this.featuresSelected=function(e,t,n){0===e.length&&0===n.length||(a.selectedFeatures=e,a.selectedModels=t,a.selectedMaisemanMuistiFeatures=n,a.visiblePage=Ze.Details,a.renderUI())},this.featureSearchReady=function(e){a.searchResultFeatures=e,a.renderUI()},this.dataLatestUpdateDatesReady=function(e){a.dataLatestUpdateDates=e,a.renderUI()},this.updateSettings=function(e){a.settings=e,a.renderUI()},this.settings=e,this.eventListeners=t,this.renderUI()};var vt={initialMapZoom:8,maanmittauslaitos:{selectedLayer:s.Taustakartta,url:{WMTSCapabilities:"https://avoin-karttakuva.maanmittauslaitos.fi/avoin/wmts/1.0.0/WMTSCapabilities.xml"}},museovirasto:{selectedLayers:Object.values(r),selectedMuinaisjaannosTypes:Object.values(j),selectedMuinaisjaannosDatings:Object.values(M),url:{export:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/export",identify:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/identify",find:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/find",updateDate:"https://dkfgv6jxivsxz.cloudfront.net/MV_inspire_atom.xml"}},ahvenanmaa:{selectedLayers:Object.values(l),url:{export:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/export",identify:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/identify",find:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/find",forminnenUpdateDate:"https://opendata.arcgis.com/api/v3/datasets?filter%5Bslug%5D=aland%3A%3Afornminnen",maritimtKulturarvUpdateDate:"https://opendata.arcgis.com/api/v3/datasets?filter%5Bslug%5D=aland%3A%3Amaritimt-kulturarv-vrak"}},models:{selectedLayers:Object.values(o),url:{geojson:"./3d/3d.json"}},maisemanMuisti:{selectedLayers:Object.values(u),url:{geojson:"./maisemanmuisti/maisemanmuisti.json"}}};new function(){var e=this;this.determineStartLocation=function(){be()?e.setMapLocationFromURLHash():e.map.centerToCurrentPositions()},this.setMapLocationFromURLHash=function(){var t=be();t&&(e.map.setMapLocation(t),e.map.showSelectedLocationMarker(t))},this.updateSettings=function(t){e.settings=t,function(e,t){var a={},n=fe();e.maanmittauslaitos.selectedLayer===t.maanmittauslaitos.selectedLayer?n=(0,p.pi)((0,p.pi)({},n),{mmlLayer:void 0}):a.mmlLayer=t.maanmittauslaitos.selectedLayer,e.museovirasto.selectedLayers.every((function(e){return t.museovirasto.selectedLayers.includes(e)}))?n=(0,p.pi)((0,p.pi)({},n),{museovirastoLayer:void 0}):a.museovirastoLayer=t.museovirasto.selectedLayers.length>0?t.museovirasto.selectedLayers:[je],e.museovirasto.selectedMuinaisjaannosTypes.every((function(e){return t.museovirasto.selectedMuinaisjaannosTypes.includes(e)}))?n=(0,p.pi)((0,p.pi)({},n),{muinaisjaannosTypes:void 0}):a.muinaisjaannosTypes=t.museovirasto.selectedMuinaisjaannosTypes.length>0?t.museovirasto.selectedMuinaisjaannosTypes:[je],e.museovirasto.selectedMuinaisjaannosDatings.every((function(e){return t.museovirasto.selectedMuinaisjaannosDatings.includes(e)}))?n=(0,p.pi)((0,p.pi)({},n),{muinaisjaannosDatings:void 0}):a.muinaisjaannosDatings=t.museovirasto.selectedMuinaisjaannosDatings.length>0?t.museovirasto.selectedMuinaisjaannosDatings:[je],e.ahvenanmaa.selectedLayers.every((function(e){return t.ahvenanmaa.selectedLayers.includes(e)}))?n=(0,p.pi)((0,p.pi)({},n),{ahvenanmaaLayer:void 0}):a.ahvenanmaaLayer=t.ahvenanmaa.selectedLayers.length>0?t.ahvenanmaa.selectedLayers:[je],e.models.selectedLayers.every((function(e){return t.models.selectedLayers.includes(e)}))?n=(0,p.pi)((0,p.pi)({},n),{modelsLayer:void 0}):a.modelsLayer=t.models.selectedLayers.length>0?t.models.selectedLayers:[je],e.maisemanMuisti.selectedLayers.every((function(e){return t.maisemanMuisti.selectedLayers.includes(e)}))?n=(0,p.pi)((0,p.pi)({},n),{maisemanMuistiLayer:void 0}):a.maisemanMuistiLayer=t.maisemanMuisti.selectedLayers.length>0?t.maisemanMuisti.selectedLayers:[je],window.location.hash=Ee((0,p.pi)((0,p.pi)({},n),a))}(vt,e.settings)},this.settings=function(e){var t=e,a=fe();if(void 0!==a.zoom&&(t=(0,p.pi)((0,p.pi)({},t),{initialMapZoom:a.zoom})),a.mmlLayer&&Object.values(s).some((function(e){return e===a.mmlLayer}))&&(t=(0,p.pi)((0,p.pi)({},t),{maanmittauslaitos:(0,p.pi)((0,p.pi)({},t.maanmittauslaitos),{selectedLayer:a.mmlLayer})})),a.museovirastoLayer){var n=Object.values(r);"string"!=typeof a.museovirastoLayer||!n.some((function(e){return e===a.museovirastoLayer}))&&a.museovirastoLayer!==je||(t=(0,p.pi)((0,p.pi)({},t),{museovirasto:(0,p.pi)((0,p.pi)({},t.museovirasto),{selectedLayers:a.museovirastoLayer===je?[]:[a.museovirastoLayer]})})),Array.isArray(a.museovirastoLayer)&&a.museovirastoLayer.every((function(e){return n.some((function(t){return t===e}))}))&&(t=(0,p.pi)((0,p.pi)({},t),{museovirasto:(0,p.pi)((0,p.pi)({},t.museovirasto),{selectedLayers:a.museovirastoLayer})}))}if(a.muinaisjaannosTypes){var i=Object.values(j);"string"!=typeof a.muinaisjaannosTypes||!i.some((function(e){return e===a.muinaisjaannosTypes}))&&a.muinaisjaannosTypes!==je||(t=(0,p.pi)((0,p.pi)({},t),{museovirasto:(0,p.pi)((0,p.pi)({},t.museovirasto),{selectedMuinaisjaannosTypes:a.muinaisjaannosTypes===je?[]:[a.muinaisjaannosTypes]})})),Array.isArray(a.muinaisjaannosTypes)&&a.muinaisjaannosTypes.every((function(e){return i.some((function(t){return t===e}))}))&&(t=(0,p.pi)((0,p.pi)({},t),{museovirasto:(0,p.pi)((0,p.pi)({},t.museovirasto),{selectedMuinaisjaannosTypes:a.muinaisjaannosTypes})}))}if(a.muinaisjaannosDatings){var m=Object.values(M);"string"!=typeof a.muinaisjaannosDatings||!m.some((function(e){return e===a.muinaisjaannosDatings}))&&a.muinaisjaannosDatings!==je||(t=(0,p.pi)((0,p.pi)({},t),{museovirasto:(0,p.pi)((0,p.pi)({},t.museovirasto),{selectedMuinaisjaannosDatings:a.muinaisjaannosDatings===je?[]:[a.muinaisjaannosDatings]})})),Array.isArray(a.muinaisjaannosDatings)&&a.muinaisjaannosDatings.every((function(e){return m.some((function(t){return t===e}))}))&&(t=(0,p.pi)((0,p.pi)({},t),{museovirasto:(0,p.pi)((0,p.pi)({},t.museovirasto),{selectedMuinaisjaannosDatings:a.muinaisjaannosDatings})}))}if(a.ahvenanmaaLayer){var c=Object.values(l);"string"!=typeof a.ahvenanmaaLayer||!c.some((function(e){return e===a.ahvenanmaaLayer}))&&a.ahvenanmaaLayer!==je||(t=(0,p.pi)((0,p.pi)({},t),{ahvenanmaa:(0,p.pi)((0,p.pi)({},t.ahvenanmaa),{selectedLayers:a.ahvenanmaaLayer===je?[]:[a.ahvenanmaaLayer]})})),Array.isArray(a.ahvenanmaaLayer)&&a.ahvenanmaaLayer.every((function(e){return c.some((function(t){return t===e}))}))&&(t=(0,p.pi)((0,p.pi)({},t),{ahvenanmaa:(0,p.pi)((0,p.pi)({},t.ahvenanmaa),{selectedLayers:a.ahvenanmaaLayer})}))}if(a.modelsLayer){var d=Object.values(o);"string"!=typeof a.modelsLayer||!d.some((function(e){return e===a.modelsLayer}))&&a.modelsLayer!==je||(t=(0,p.pi)((0,p.pi)({},t),{models:(0,p.pi)((0,p.pi)({},t.models),{selectedLayers:a.modelsLayer===je?[]:[a.modelsLayer]})}))}return a.maisemanMuistiLayer&&(d=Object.values(u),"string"!=typeof a.maisemanMuistiLayer||!d.some((function(e){return e===a.maisemanMuistiLayer}))&&a.maisemanMuistiLayer!==je||(t=(0,p.pi)((0,p.pi)({},t),{maisemanMuisti:(0,p.pi)((0,p.pi)({},t.maisemanMuisti),{selectedLayers:a.maisemanMuistiLayer===je?[]:[a.maisemanMuistiLayer]})}))),t}(vt),this.map=new re(this.settings,{featuresSelected:function(t,a,n){e.ui.featuresSelected(t,a,n)},showLoadingAnimation:function(t){e.ui.showLoadingAnimation(t)},featureSearchReady:function(t){e.ui.featureSearchReady(t)},dataLatestUpdateDatesReady:function(t){e.ui.dataLatestUpdateDatesReady(t)}}),this.ui=new gt(this.settings,{searchFeatures:function(t){e.map.searchFeatures(t)},zoomIn:function(){e.map.zoomIn()},zoomOut:function(){e.map.zoomOut()},centerToCurrentPositions:function(){e.map.centerToCurrentPositions()},selectedMaanmittauslaitosLayerChanged:function(t){e.updateSettings(t),e.map.selectedMaanmittauslaitosLayerChanged(t)},selectedFeatureLayersChanged:function(t,a){e.updateSettings(t),e.map.selectedFeatureLayersChanged(t,a)},selectedMuinaisjaannosTypesChanged:function(t){e.updateSettings(t),e.map.selectedMuinaisjaannosTypesChanged(t)},selectedMuinaisjaannosDatingsChanged:function(t){e.updateSettings(t),e.map.selectedMuinaisjaannosDatingsChanged(t)},fetchDataLatestUpdateDates:function(){e.map.fetchDataLatestUpdateDates()}}),window.onhashchange=function(){e.setMapLocationFromURLHash()},this.determineStartLocation()}}},t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={143:0},t=[[58330,281,993]],n=()=>{};function i(){for(var n,i=0;i<t.length;i++){for(var s=t[i],r=!0,l=1;l<s.length;l++){var o=s[l];0!==e[o]&&(r=!1)}r&&(t.splice(i--,1),n=a(a.s=s[0]))}return 0===t.length&&(a.x(),a.x=()=>{}),n}a.x=()=>{a.x=()=>{},r=r.slice();for(var e=0;e<r.length;e++)s(r[e]);return(n=i)()};var s=i=>{for(var s,r,[o,u,m,c]=i,p=0,d=[];p<o.length;p++)r=o[p],a.o(e,r)&&e[r]&&d.push(e[r][0]),e[r]=0;for(s in u)a.o(u,s)&&(a.m[s]=u[s]);for(m&&m(a),l(i);d.length;)d.shift()();return c&&t.push.apply(t,c),n()},r=self.webpackChunkmuinaismuistot=self.webpackChunkmuinaismuistot||[],l=r.push.bind(r);r.push=s})(),a.x()})();