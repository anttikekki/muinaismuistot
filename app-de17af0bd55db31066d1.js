!function(e){function t(t){for(var n,s,l=t[0],u=t[1],o=t[2],m=0,p=[];m<l.length;m++)s=l[m],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(c&&c(t);p.length;)p.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,l=1;l<a.length;l++){var u=a[l];0!==i[u]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},i={1:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var c=u;r.push([521,0,4]),a()}({1:function(e,t,a){"use strict";var n,i,r,s,l,u,o;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"i",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return o})),a.d(t,"k",(function(){return p})),a.d(t,"j",(function(){return d})),a.d(t,"h",(function(){return c})),a.d(t,"f",(function(){return m})),a.d(t,"g",(function(){return h})),function(e){e.Maanmittauslaitos="Maanmittauslaitos",e.Museovirasto="Museovirasto",e.Ahvenanmaa="Ahvenanmaa",e.Models="Models",e.MaisemanMuisti="MaisemanMuisti"}(i||(i={})),function(e){e.Maastokartta="maastokartta",e.Taustakartta="taustakartta",e.Ortokuva="ortokuva"}(r||(r={})),function(e){e.Muinaisjaannokset_piste="Muinaisjaannokset_piste",e.Muinaisjaannokset_alue="Muinaisjaannokset_alue",e.Suojellut_rakennukset_piste="Suojellut_rakennukset_piste",e.Suojellut_rakennukset_alue="Suojellut_rakennukset_alue",e.RKY_alue="RKY_alue",e.RKY_piste="RKY_piste",e.RKY_viiva="RKY_viiva",e.Maailmanperinto_piste="Maailmanperinto_piste",e.Maailmanperinto_alue="Maailmanperinto_alue"}(s||(s={})),function(e){e.Fornminnen="Fornminnen",e.MaritimtKulturarv="Maritimt kulturarv; Vrak"}(l||(l={})),function(e){e.ModelLayer="ModelLayer"}(u||(u={})),function(e){e.MaisemanMuisti="MaisemanMuisti"}(o||(o={}));var c,m,p=((n={})[s.Muinaisjaannokset_piste]=7,n[s.Muinaisjaannokset_alue]=8,n[s.Suojellut_rakennukset_piste]=2,n[s.Suojellut_rakennukset_alue]=3,n[s.RKY_alue]=4,n[s.RKY_piste]=5,n[s.RKY_viiva]=6,n[s.Maailmanperinto_piste]=9,n[s.Maailmanperinto_alue]=10,n),d=function(e){switch(e){case l.Fornminnen:return 1;case l.MaritimtKulturarv:return 5}};!function(e){e["eiMääritelty"]="ei määritelty",e.alustenHylyt="alusten hylyt",e.asuinpaikat="asuinpaikat",e.hautapaikat="hautapaikat",e.kirkkorakenteet="kirkkorakenteet",e.kivirakenteet="kivirakenteet",e["kulkuväylät"]="kulkuväylät",e.kulttiJaTarinapaikat="kultti- ja tarinapaikat",e.luonnonmuodostumat="luonnonmuodostumat",e["löytöpaikat"]="löytöpaikat",e.maarakenteet="maarakenteet",e["muinaisjäännösryhmät"]="muinaisjäännösryhmät",e.puolustusvarustukset="puolustusvarustukset",e.puurakenteet="puurakenteet",e.raakaAineenHankintapaikat="raaka-aineen hankintapaikat",e.taideMuistomerkit="taide, muistomerkit",e.tapahtumapaikat="tapahtumapaikat",e.teollisuuskohteet="teollisuuskohteet",e["työJaValmistuspaikat"]="työ- ja valmistuspaikat"}(c||(c={})),function(e){e.moniperiodinen="moniperiodinen",e.esihistoriallinen="esihistoriallinen",e.kivikautinen="kivikautinen",e.varhaismetallikautinen="varhaismetallikautinen",e.pronssikautinen="pronssikautinen",e.rautakautinen="rautakautinen",e.keskiaikainen="keskiaikainen",e.historiallinen="historiallinen",e.moderni="moderni",e.ajoittamaton="ajoittamaton",e["eiMääritelty"]="ei määritelty"}(m||(m={}));var h={moniperiodinen:"",esihistoriallinen:"8600 eaa. - 1200 jaa.",kivikautinen:"8600 – 1500 eaa.",varhaismetallikautinen:"1500 eaa. - 200 jaa.",pronssikautinen:"1700 – 500 eaa.",rautakautinen:"500 eaa. - 1200 jaa.",keskiaikainen:"1200 - 1570 jaa.",historiallinen:"1200 jaa. -",moderni:"1800 jaa -",ajoittamaton:"","ei määritelty":""}},19:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"h",(function(){return l})),a.d(t,"q",(function(){return u})),a.d(t,"g",(function(){return o})),a.d(t,"k",(function(){return c})),a.d(t,"a",(function(){return m})),a.d(t,"n",(function(){return p})),a.d(t,"o",(function(){return d})),a.d(t,"m",(function(){return h})),a.d(t,"f",(function(){return k})),a.d(t,"e",(function(){return g})),a.d(t,"l",(function(){return y})),a.d(t,"c",(function(){return v})),a.d(t,"b",(function(){return f})),a.d(t,"j",(function(){return b})),a.d(t,"p",(function(){return j})),a.d(t,"r",(function(){return E})),a.d(t,"i",(function(){return L}));var n=a(1),i=function(e){return"kiinteä muinaisjäännös"===E(e.attributes.laji)},r=function(e){return"muu kulttuuriperintökohde"===E(e.attributes.laji)},s=function(e){switch(e.layerName){case n.i.Muinaisjaannokset_piste:case n.i.Muinaisjaannokset_alue:case n.i.RKY_alue:case n.i.RKY_piste:case n.i.RKY_viiva:case n.i.Suojellut_rakennukset_piste:case n.i.Suojellut_rakennukset_alue:return E(e.attributes.kohdenimi);case n.i.Maailmanperinto_piste:case n.i.Maailmanperinto_alue:return E(e.attributes.Nimi);case n.a.Fornminnen:return E(e.attributes.Namn)||E(e.attributes["Fornlämnings ID"]);case n.a.MaritimtKulturarv:return E(e.attributes.Namn)||E(e.attributes.FornID)}},l=function(e,t,a){switch(void 0===t&&(t=!1),void 0===a&&(a=!1),e.layerName){case n.i.Muinaisjaannokset_piste:if(i(e))return a?"Kiinteä muinaisjäännös, Valtakunnallisesti merkittävä muinaisjäännös":"Kiinteä muinaisjäännös";if(r(e))return"Muu kulttuuriperintökohde";break;case n.i.Muinaisjaannokset_alue:if(i(e))return"Kiinteä muinaisjäännös (alue)";if(r(e))return"Muu kulttuuriperintökohde (alue)";break;case n.i.RKY_alue:case n.i.RKY_piste:case n.i.RKY_viiva:return"Rakennettu kulttuuriympäristö";case n.i.Maailmanperinto_piste:case n.i.Maailmanperinto_alue:return"Maailmanperintökohde";case n.i.Suojellut_rakennukset_piste:case n.i.Suojellut_rakennukset_alue:return"Rakennusperintökohde";case n.a.Fornminnen:return"Ahvenanmaan muinaisjäännösrekisterin kohde";case n.a.MaritimtKulturarv:return"Ahvenamaan merellisen kulttuuriperintörekisterin kohde";default:return}},u=function(e,t){return void 0===t&&(t=!1),"images/"+e+(t?"_3d":"")+".png"},o=function(e,t,a){switch(void 0===t&&(t=!1),void 0===a&&(a=!1),e.layerName){case n.i.Muinaisjaannokset_piste:if(i(e))return u(a?"maiseman-muisti":"muinaisjaannos_kohde",t);if(r(e))return u("muu_kulttuuriperintokohde_kohde",t);break;case n.i.Muinaisjaannokset_alue:if(i(e))return u("muinaisjaannos_alue",t);if(r(e))return u("muu-kulttuuriperintokohde-alue",t);break;case n.i.RKY_alue:return u("rky_alue",t);case n.i.RKY_viiva:return u("rky_viiva",t);case n.i.RKY_piste:return u("rky_piste",t);case n.i.Maailmanperinto_alue:return u("maailmanperinto_alue",t);case n.i.Maailmanperinto_piste:return u("maailmanperinto_piste",t);case n.i.Suojellut_rakennukset_alue:return u("rakennusperintorekisteri_alue",t);case n.i.Suojellut_rakennukset_piste:return u("rakennusperintorekisteri_rakennus",t);case n.a.Fornminnen:return u("ahvenanmaa_muinaisjaannos",t);case n.a.MaritimtKulturarv:return u("ahvenanmaa_hylky",t);default:return}},c=function(e){switch(e){case n.i.Muinaisjaannokset_piste:return["images/muinaisjaannos_kohde.png","images/muu_kulttuuriperintokohde_kohde.png"];case n.i.Muinaisjaannokset_alue:return["images/muinaisjaannos_alue.png","images/muu-kulttuuriperintokohde-alue.png"];case n.i.RKY_alue:return["images/rky_alue.png"];case n.i.RKY_viiva:return["images/rky_viiva.png"];case n.i.RKY_piste:return["images/rky_piste.png"];case n.i.Maailmanperinto_alue:return["images/maailmanperinto_alue.png"];case n.i.Maailmanperinto_piste:return["images/maailmanperinto_piste.png"];case n.i.Suojellut_rakennukset_alue:return["images/rakennusperintorekisteri_alue.png"];case n.i.Suojellut_rakennukset_piste:return["images/rakennusperintorekisteri_rakennus.png"];case n.a.Fornminnen:return["images/ahvenanmaa_muinaisjaannos.png"];case n.a.MaritimtKulturarv:return["images/ahvenanmaa_hylky.png"];case n.e.ModelLayer:return["images/3d_malli_circle.png","images/3d_malli_square.png"];case n.d.MaisemanMuisti:return["images/maiseman-muisti.png"]}},m=function(e){switch(e.layerName){case n.i.Muinaisjaannokset_piste:case n.i.Muinaisjaannokset_alue:case n.i.RKY_alue:case n.i.RKY_viiva:case n.i.RKY_piste:case n.i.Maailmanperinto_alue:case n.i.Maailmanperinto_piste:case n.i.Suojellut_rakennukset_alue:case n.i.Suojellut_rakennukset_piste:case n.a.Fornminnen:case n.a.MaritimtKulturarv:return e.attributes.OBJECTID}},p=function(e,t){var a;switch(e.layerName){case n.i.Muinaisjaannokset_piste:a=e.attributes.mjtunnus;break;case n.i.Suojellut_rakennukset_piste:a=e.attributes.kohdeID;break;case n.i.RKY_alue:a=e.attributes.ID;break;case n.a.Fornminnen:case n.a.MaritimtKulturarv:a=e.attributes.OBJECTID}return t&&a?t.filter((function(t){return t.registryItem.type===e.layerName})).filter((function(e){return e.registryItem.id.toString()===a})):[]},d=function(e,t){return t?t.filter((function(e){return e.registryItem.type===n.i.Muinaisjaannokset_piste})).filter((function(t){return t.registryItem.id===e.properties.id})):[]},h=function(e,t){var a;switch(e.layerName){case n.i.Muinaisjaannokset_piste:a=e.attributes.mjtunnus}return t&&a?t.filter((function(e){return e.properties.id.toString()===a})):[]},k=function(e){switch(e.layerName){case n.i.Muinaisjaannokset_piste:case n.i.Muinaisjaannokset_alue:case n.i.Suojellut_rakennukset_alue:case n.i.Suojellut_rakennukset_piste:return"https://"+e.attributes.url;case n.i.RKY_alue:case n.i.RKY_viiva:case n.i.RKY_piste:return e.attributes.url;case n.i.Maailmanperinto_alue:case n.i.Maailmanperinto_piste:return function(e){var t=e.attributes.URL;if(t.startsWith("http://www.nba.fi/fi/ajankohtaista/kansainvalinen_toiminta/maailmanperintokohteet_suomessa")){var a=t.indexOf("#"),n="";-1!==a&&(n=t.substring(a)),t="https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa"+n}return t}(e);case n.a.Fornminnen:return function(e){switch(e.attributes["Fornlämnings ID"].substring(0,2)){case"Br":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/BR%c3%84ND%c3%96.pdf";case"Ec":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/ECKER%c3%96.pdf";case"Fö":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/F%c3%96GL%c3%96.pdf";case"Fi":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/FINSTR%c3%96M.pdf";case"Ge":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/GETA.pdf";case"Ha":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/HAMMARLAND.pdf";case"Jo":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/JOMALA.pdf";case"Kö":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/K%c3%96KAR.pdf";case"Ku":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/KUMLINGE.pdf";case"Le":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/LEMLAND.pdf";case"Lu":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/LUMPARLAND.pdf";case"Ma":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/MARIEHAMN.pdf";case"Sa":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SALTVIK.pdf";case"So":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SOTTUNGA.pdf";case"Su":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/SUND.pdf";case"Vå":return"http://www.kulturarv.ax/wp-content/uploads/2014/11/V%c3%85RD%c3%96.pdf"}}(e)}},g=function(e){switch(e.layerName){case n.i.Muinaisjaannokset_piste:case n.i.Muinaisjaannokset_alue:return"Muinaisjäännösrekisteristä";case n.i.RKY_alue:case n.i.RKY_viiva:case n.i.RKY_piste:return"rky.fi rekisteristä";case n.i.Maailmanperinto_alue:case n.i.Maailmanperinto_piste:return"Museoviraston sivuilta";case n.i.Suojellut_rakennukset_alue:case n.i.Suojellut_rakennukset_piste:return"rakennusperintörekisteristä";case n.a.Fornminnen:return"Ahvenamaan muinaisjäännösrekisteri";case n.a.MaritimtKulturarv:return"Ahvenamaan merellinen kulttuuriperintörekisteri"}},y=function(e){switch(e){case n.i.Muinaisjaannokset_piste:case n.i.Muinaisjaannokset_alue:return"Muinaisjäännösrekisteri";case n.i.RKY_alue:case n.i.RKY_viiva:case n.i.RKY_piste:return"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt";case n.i.Maailmanperinto_alue:case n.i.Maailmanperinto_piste:return"Maailmanperintökohteet";case n.i.Suojellut_rakennukset_alue:case n.i.Suojellut_rakennukset_piste:return"Rakennusperintörekisteri";case n.a.Fornminnen:return"Ahvenamaan muinaisjäännösrekisteri";case n.a.MaritimtKulturarv:return"Ahvenamaan merellinen kulttuuriperintörekisteri"}},v=function(e){switch(e.layerName){case n.i.Muinaisjaannokset_piste:case n.i.Muinaisjaannokset_alue:case n.i.Suojellut_rakennukset_alue:case n.i.Suojellut_rakennukset_piste:return e.attributes.kunta;case n.a.Fornminnen:case n.a.MaritimtKulturarv:return e.attributes.Kommun;default:return}},f=function(e){switch(e.geometryType){case"esriGeometryPolygon":return e.geometry.rings[0][0];case"esriGeometryPoint":return[e.geometry.x,e.geometry.y];case"esriGeometryPolyline":return e.geometry.paths[0][0]}},b=function(e){switch(e.geometry.type){case"Point":return e.geometry.coordinates;case"Polygon":return e.geometry.coordinates[0][0]}},j=function(e){return n.g[e]},E=function(e){if(null==e)return"";if("null"===(e=e.trim()).toLowerCase())return"";for(;","===e.substr(e.length-1,1);)e=e.substring(0,e.length-1).trim();return e},L=function(e){var t=e.map((function(e){return new Date(e.properties.createdDate).getTime()}));return t=Array.from(new Set(t)),new Date(Math.max.apply(null,t))}},49:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return m}));var n=a(2),i=a(93),r=a(1),s=function(){var e=window.location.hash.replace(";","&");return Object(i.parse)(e,{parseNumbers:!0,arrayFormat:"comma"})},l=function(e){return"#"+Object(i.stringify)(e,{arrayFormat:"comma"})},u=function(e){return l(Object(n.a)(Object(n.a)({},s()),{x:e[0],y:e[1]}))},o=function(){var e=s(),t=parseFloat(String(e.x)),a=parseFloat(String(e.y));return isNaN(t)||isNaN(a)?null:[t,a]},c=function(e,t){var a={},i=s();e.maanmittauslaitos.selectedLayer===t.maanmittauslaitos.selectedLayer?i=Object(n.a)(Object(n.a)({},i),{mmlLayer:void 0}):a.mmlLayer=t.maanmittauslaitos.selectedLayer,e.museovirasto.selectedLayers.every((function(e){return t.museovirasto.selectedLayers.includes(e)}))?i=Object(n.a)(Object(n.a)({},i),{museovirastoLayer:void 0}):a.museovirastoLayer=t.museovirasto.selectedLayers.length>0?t.museovirasto.selectedLayers:["none"],e.museovirasto.selectedMuinaisjaannosTypes.every((function(e){return t.museovirasto.selectedMuinaisjaannosTypes.includes(e)}))?i=Object(n.a)(Object(n.a)({},i),{muinaisjaannosTypes:void 0}):a.muinaisjaannosTypes=t.museovirasto.selectedMuinaisjaannosTypes.length>0?t.museovirasto.selectedMuinaisjaannosTypes:["none"],e.museovirasto.selectedMuinaisjaannosDatings.every((function(e){return t.museovirasto.selectedMuinaisjaannosDatings.includes(e)}))?i=Object(n.a)(Object(n.a)({},i),{muinaisjaannosDatings:void 0}):a.muinaisjaannosDatings=t.museovirasto.selectedMuinaisjaannosDatings.length>0?t.museovirasto.selectedMuinaisjaannosDatings:["none"],e.ahvenanmaa.selectedLayers.every((function(e){return t.ahvenanmaa.selectedLayers.includes(e)}))?i=Object(n.a)(Object(n.a)({},i),{ahvenanmaaLayer:void 0}):a.ahvenanmaaLayer=t.ahvenanmaa.selectedLayers.length>0?t.ahvenanmaa.selectedLayers:["none"],e.models.selectedLayers.every((function(e){return t.models.selectedLayers.includes(e)}))?i=Object(n.a)(Object(n.a)({},i),{modelsLayer:void 0}):a.modelsLayer=t.models.selectedLayers.length>0?t.models.selectedLayers:["none"],e.maisemanMuisti.selectedLayers.every((function(e){return t.maisemanMuisti.selectedLayers.includes(e)}))?i=Object(n.a)(Object(n.a)({},i),{maisemanMuistiLayer:void 0}):a.maisemanMuistiLayer=t.maisemanMuisti.selectedLayers.length>0?t.maisemanMuisti.selectedLayers:["none"],window.location.hash=l(Object(n.a)(Object(n.a)({},i),a))},m=function(e){var t=e,a=s();if(void 0!==a.zoom&&(t=Object(n.a)(Object(n.a)({},t),{initialMapZoom:a.zoom})),a.mmlLayer&&Object.values(r.c).some((function(e){return e===a.mmlLayer}))&&(t=Object(n.a)(Object(n.a)({},t),{maanmittauslaitos:Object(n.a)(Object(n.a)({},t.maanmittauslaitos),{selectedLayer:a.mmlLayer})})),a.museovirastoLayer){var i=Object.values(r.i);"string"!=typeof a.museovirastoLayer||!i.some((function(e){return e===a.museovirastoLayer}))&&"none"!==a.museovirastoLayer||(t=Object(n.a)(Object(n.a)({},t),{museovirasto:Object(n.a)(Object(n.a)({},t.museovirasto),{selectedLayers:"none"===a.museovirastoLayer?[]:[a.museovirastoLayer]})})),Array.isArray(a.museovirastoLayer)&&a.museovirastoLayer.every((function(e){return i.some((function(t){return t===e}))}))&&(t=Object(n.a)(Object(n.a)({},t),{museovirasto:Object(n.a)(Object(n.a)({},t.museovirasto),{selectedLayers:a.museovirastoLayer})}))}if(a.muinaisjaannosTypes){var l=Object.values(r.h);"string"!=typeof a.muinaisjaannosTypes||!l.some((function(e){return e===a.muinaisjaannosTypes}))&&"none"!==a.muinaisjaannosTypes||(t=Object(n.a)(Object(n.a)({},t),{museovirasto:Object(n.a)(Object(n.a)({},t.museovirasto),{selectedMuinaisjaannosTypes:"none"===a.muinaisjaannosTypes?[]:[a.muinaisjaannosTypes]})})),Array.isArray(a.muinaisjaannosTypes)&&a.muinaisjaannosTypes.every((function(e){return l.some((function(t){return t===e}))}))&&(t=Object(n.a)(Object(n.a)({},t),{museovirasto:Object(n.a)(Object(n.a)({},t.museovirasto),{selectedMuinaisjaannosTypes:a.muinaisjaannosTypes})}))}if(a.muinaisjaannosDatings){var u=Object.values(r.f);"string"!=typeof a.muinaisjaannosDatings||!u.some((function(e){return e===a.muinaisjaannosDatings}))&&"none"!==a.muinaisjaannosDatings||(t=Object(n.a)(Object(n.a)({},t),{museovirasto:Object(n.a)(Object(n.a)({},t.museovirasto),{selectedMuinaisjaannosDatings:"none"===a.muinaisjaannosDatings?[]:[a.muinaisjaannosDatings]})})),Array.isArray(a.muinaisjaannosDatings)&&a.muinaisjaannosDatings.every((function(e){return u.some((function(t){return t===e}))}))&&(t=Object(n.a)(Object(n.a)({},t),{museovirasto:Object(n.a)(Object(n.a)({},t.museovirasto),{selectedMuinaisjaannosDatings:a.muinaisjaannosDatings})}))}if(a.ahvenanmaaLayer){var o=Object.values(r.a);"string"!=typeof a.ahvenanmaaLayer||!o.some((function(e){return e===a.ahvenanmaaLayer}))&&"none"!==a.ahvenanmaaLayer||(t=Object(n.a)(Object(n.a)({},t),{ahvenanmaa:Object(n.a)(Object(n.a)({},t.ahvenanmaa),{selectedLayers:"none"===a.ahvenanmaaLayer?[]:[a.ahvenanmaaLayer]})})),Array.isArray(a.ahvenanmaaLayer)&&a.ahvenanmaaLayer.every((function(e){return o.some((function(t){return t===e}))}))&&(t=Object(n.a)(Object(n.a)({},t),{ahvenanmaa:Object(n.a)(Object(n.a)({},t.ahvenanmaa),{selectedLayers:a.ahvenanmaaLayer})}))}if(a.modelsLayer){var c=Object.values(r.e);"string"!=typeof a.modelsLayer||!c.some((function(e){return e===a.modelsLayer}))&&"none"!==a.modelsLayer||(t=Object(n.a)(Object(n.a)({},t),{models:Object(n.a)(Object(n.a)({},t.models),{selectedLayers:"none"===a.modelsLayer?[]:[a.modelsLayer]})}))}if(a.maisemanMuistiLayer){c=Object.values(r.d);"string"!=typeof a.maisemanMuistiLayer||!c.some((function(e){return e===a.maisemanMuistiLayer}))&&"none"!==a.maisemanMuistiLayer||(t=Object(n.a)(Object(n.a)({},t),{maisemanMuisti:Object(n.a)(Object(n.a)({},t.maisemanMuisti),{selectedLayers:"none"===a.maisemanMuistiLayer?[]:[a.maisemanMuistiLayer]})}))}return t}},512:function(e,t,a){var n=a(216),i=a(513);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var r={insert:"head",singleton:!1};n(i,r);e.exports=i.locals||{}},513:function(e,t,a){"use strict";a.r(t);var n=a(123),i=a.n(n)()(!1);i.push([e.i,"html,\nbody,\n#map {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n#map {\n  z-index: 10;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n\n#loading-animation {\n  z-index: 25;\n  position: absolute;\n  top: 15px;\n  right: 20px;\n}\n\n.map-button {\n  z-index: 15;\n  position: absolute;\n}\n\n#map-button-zoom-in {\n  top: 20px;\n  left: 20px;\n}\n\n#map-button-zoom-out {\n  top: 60px;\n  left: 20px;\n}\n\n#map-button-position {\n  top: 100px;\n  left: 20px;\n}\n\n#map-button-search {\n  top: 140px;\n  left: 20px;\n}\n\n#map-button-info {\n  top: 180px;\n  left: 20px;\n}\n\n#map-button-settings {\n  top: 220px;\n  left: 20px;\n}\n\n.page {\n  z-index: 20;\n  position: absolute;\n  top: 0px;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n\n.pageHeader {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.pageHeaderText {\n  font-size: 20px;\n  font-weight: 500;\n}\n\n.pageContent {\n  height: 90%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.page-right-visible {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: 0px;\n}\n\n.page-right-closing {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: -100%;\n}\n\n.page-right-hidden {\n  right: -100%;\n  width: 0px;\n}\n\n@media (min-width: 768px) {\n  .page {\n  }\n  .page-right-hidden {\n  }\n}\n\n@media (min-width: 992px) {\n  .page {\n    width: 500px;\n  }\n  .page-right-closing {\n    right: -500px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .page {\n    width: 600px;\n  }\n  .page-right-closing {\n    right: -600px;\n  }\n}\n\n@media (min-width: 1400px) {\n  .page {\n    width: 700px;\n  }\n  .page-right-closing {\n    right: -700px;\n  }\n}\n\n.sub-layer-select-checkbox-container {\n  margin-left: 20px;\n}\n\n.feature-collapse-panel-heading h6 {\n  font-size: 14px;\n  line-height: 1.3;\n  margin-top: 5px;\n  font-weight: 400;\n}\n\n.feature-icon {\n  margin-right: 5px;\n}\n",""]),t.default=i},521:function(e,t,a){"use strict";a.r(t),a.d(t,"initialSettings",(function(){return Re}));a(187),a(215);var n,i=a(2),r=(a(509),a(219)),s=a(268),l=a(184),u=a(263),o=a(7),c=a(45),m=a(262),p=a(103),d=a(269),h=a(118),k=a(1),g=function(e,t,a){var n=this;this.loadMMLWmtsCapabilitiesAndAddLayers=function(e){fetch(n.settings.maanmittauslaitos.url.WMTSCapabilities).then((function(e){return e.text()})).then((function(t){return n.addWmtsLayers(t,e)}))},this.addWmtsLayers=function(e,t){var a=(new d.a).read(e);n.maastokarttaLayerSource=new h.a(Object(h.b)(a,{layer:k.c.Maastokartta})),n.taustakarttaLayerSource=new h.a(Object(h.b)(a,{layer:k.c.Taustakartta})),n.ortokuvaLayerSource=new h.a(Object(h.b)(a,{layer:k.c.Ortokuva}));var i=t.maanmittauslaitos.selectedLayer;n.mmlMaastokarttaLayer=new p.a({source:n.maastokarttaLayerSource,visible:i===k.c.Maastokartta}),n.mmlTaustakarttaLayer=new p.a({source:n.taustakarttaLayerSource,visible:i===k.c.Taustakartta}),n.mmlOrtokuvaLayer=new p.a({source:n.ortokuvaLayerSource,visible:i===k.c.Ortokuva}),n.updateLoadingAnimationOnLayerSourceTileLoad(n.maastokarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.taustakarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.ortokuvaLayerSource),n.onLayersCreatedCallbackFn(n.mmlMaastokarttaLayer,n.mmlTaustakarttaLayer,n.mmlOrtokuvaLayer)},this.updateLoadingAnimationOnLayerSourceTileLoad=function(e){e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){if(n.mmlMaastokarttaLayer&&n.mmlTaustakarttaLayer&&n.mmlOrtokuvaLayer){var t=e.maanmittauslaitos.selectedLayer;n.mmlMaastokarttaLayer.setVisible(t===k.c.Maastokartta),n.mmlTaustakarttaLayer.setVisible(t===k.c.Taustakartta),n.mmlOrtokuvaLayer.setVisible(t===k.c.Ortokuva)}},this.settings=e,this.showLoadingAnimationFn=t,this.onLayersCreatedCallbackFn=a,this.loadMMLWmtsCapabilitiesAndAddLayers(e)},y=a(174),v=a(3),f=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new p.a({source:n.source,extent:[65741.9087,6606901.2261,180921.4173,6747168.5691]}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.toLayerIds=function(e){return e.map(k.j).sort((function(e,t){return e-t}))},this.getSourceLayersParams=function(){return n.settings.ahvenanmaa.selectedLayers.length>0?"show:"+n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","):"hide:"+n.toLayerIds(Object.values(k.a)).join(",")},this.createSource=function(){var e={urls:[n.settings.ahvenanmaa.url.export],params:{layers:n.getSourceLayersParams()}},t=new y.a(e);return t.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),t.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),t.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),t},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.identifyFeaturesAt=function(e,t,a){if(!n.layer||!Object(v.f)(n.layer.getExtent(),e))return Promise.resolve({results:[]});var i=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","),f:"json",returnGeometry:"true"}),r=new URL(n.settings.ahvenanmaa.url.identify);return r.search=String(i),fetch(String(r)).then((function(e){return e.json()}))},this.findFeatures=function(e){var t=new URLSearchParams({searchText:e,contains:"true",searchFields:"Namn , Beskrivning, Topografi",layers:n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),a=new URL(n.settings.ahvenanmaa.url.find);return a.search=String(t),fetch(String(a)).then((function(e){return e.json()}))},this.getForminnenDataLatestUpdateDate=function(){return n.forminnenDataLatestUpdateDate?Promise.resolve(n.forminnenDataLatestUpdateDate):fetch(n.settings.ahvenanmaa.url.forminnenUpdateDate).then((function(e){return e.json()})).then(n.parseUpdatedDate).then((function(e){return n.forminnenDataLatestUpdateDate=e,e}))},this.getMaritimtKulturarvDataLatestUpdateDate=function(){return n.maritimtKulturarvDataLatestUpdateDate?Promise.resolve(n.maritimtKulturarvDataLatestUpdateDate):fetch(n.settings.ahvenanmaa.url.maritimtKulturarvUpdateDate).then((function(e){return e.json()})).then(n.parseUpdatedDate).then((function(e){return n.maritimtKulturarvDataLatestUpdateDate=e,e}))},this.parseUpdatedDate=function(e){var t,a,n=null==e?void 0:e.data,i=Array.isArray(n)&&n.length>0?null===(a=null===(t=n[0])||void 0===t?void 0:t.attributes)||void 0===a?void 0:a.modified:void 0;return i?Promise.resolve(new Date(i)):Promise.reject(new Error("Ahvenanmaan updated date not found"))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()},b=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new p.a({source:n.source}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.createSource=function(){var e=new y.a({urls:[n.settings.museovirasto.url.export],params:{layers:n.getSourceLayerSelectionSettings(),layerDefs:n.getSourceLayerDefinitionFilterParams()}});return e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),e},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.getSourceLayerSelectionSettings=function(){if(Object.values(k.i).length!==n.settings.museovirasto.selectedLayers.length){var e=n.toLayerIds(n.settings.museovirasto.selectedLayers);return e.length>0?"show:"+e.join(","):"show:-1"}},this.getSourceLayerDefinitionFilterParams=function(){var e=[],t=n.settings.museovirasto.selectedMuinaisjaannosTypes;if(t.length>0&&t.length!=Object.values(k.h).length){var a=t.sort().map((function(e){return"tyyppi LIKE '%"+e+"%'"})).join(" OR ");e.push("("+a+")")}var i=n.settings.museovirasto.selectedMuinaisjaannosDatings;if(i.length>0&&i.length!=Object.values(k.f).length&&(a=i.sort().map((function(e){return"ajoitus LIKE '%"+e+"%'"})).join(" OR "),e.push("("+a+")")),e.length>0)return k.k[k.i.Muinaisjaannokset_piste]+":"+e.join(" AND ")},this.toLayerIds=function(e){return e.map((function(e){return k.k[e]})).sort((function(e,t){return e-t}))},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.selectedMuinaisjaannosTypesChanged=function(e){n.settings=e,n.updateLayerSource()},this.selectedMuinaisjaannosDatingsChanged=function(e){n.settings=e,n.updateLayerSource()},this.identifyFeaturesAt=function(e,t,a){var i=n.settings.museovirasto.selectedLayers.length>0?n.toLayerIds(n.settings.museovirasto.selectedLayers):[-1],r=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+i.join(","),f:"json",returnGeometry:"true"}),s=new URL(n.settings.museovirasto.url.identify);return s.search=String(r),fetch(String(s)).then((function(e){return e.json()}))},this.findFeatures=function(e){var t=n.settings.museovirasto.selectedLayers;t.includes(k.i.Muinaisjaannokset_alue)&&(t=t.filter((function(e){return e!==k.i.Muinaisjaannokset_alue})));var a="Kohdenimi, Nimi, KOHDENIMI",i="true";isNaN(parseInt(e))||(a="mjtunnus, kohdeID, ID",i="false");var r=new URLSearchParams({searchText:e,contains:i,searchFields:a,layers:n.toLayerIds(t).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),s=new URL(n.settings.museovirasto.url.find);return s.search=String(r),fetch(String(s)).then((function(e){return e.json()}))},this.getDataLatestUpdateDate=function(){return n.dataLatestUpdateDate?Promise.resolve(n.dataLatestUpdateDate):fetch(n.settings.museovirasto.url.updateDate).then((function(e){return e.text()})).then((function(e){return(new DOMParser).parseFromString(e,"text/xml")})).then(n.parseSuunnitteluaineistoUpdatedDate)},this.parseSuunnitteluaineistoUpdatedDate=function(e){var t;return e.querySelectorAll("entry").forEach((function(e){var a,n;"http://paikkatieto.nba.fi/aineistot/suunnitteluaineisto"===(null===(a=e.querySelector("id"))||void 0===a?void 0:a.textContent)&&(t=null===(n=e.querySelector("updated"))||void 0===n?void 0:n.textContent)})),t?(n.dataLatestUpdateDate=new Date(t),Promise.resolve(n.dataLatestUpdateDate)):Promise.reject(new Error("Museovirasto updated date not found"))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()},j=a(128),E=a(129),L=a(86),M=a(68),w=a(113),_=a(77),O=a(270),S=a(148),D=a(76),T=function(e){var t=this;this.addCurrentPositionMarker=function(e){if(t.currentPositionFeature)t.currentPositionFeature.setGeometry(new D.a(e));else{var a=new L.a({color:"rgba(0, 0, 255, 1.0)"}),n=new M.a({color:"rgba(255, 255, 255, 1.0)",width:3});t.currentPositionFeature=new S.a({geometry:new D.a(e)}),t.currentPositionFeature.setStyle(new _.b({image:new w.a({fill:a,stroke:n,radius:7}),fill:a,stroke:n})),t.source.addFeature(t.currentPositionFeature)}},this.addSelectedLocationFeatureMarker=function(e){t.selectedLocationFeature?t.selectedLocationFeature.setGeometry(new D.a(e)):(t.selectedLocationFeature=new S.a({geometry:new D.a(e)}),t.selectedLocationFeature.setStyle(new _.b({image:new O.a({src:"images/map-pin.png",anchor:[.5,1]})})),t.source.addFeature(t.selectedLocationFeature))},this.onLayerCreatedCallbackFn=e,this.source=new E.a({}),this.layer=new j.a({source:this.source}),this.onLayerCreatedCallbackFn(this.layer)},C=a(125),F=a(183),N=a(19),A=function(e,t){var a=this;this.fetchGeoJson=function(){return Object(i.b)(a,void 0,void 0,(function(){return Object(i.c)(this,(function(e){switch(e.label){case 0:return[4,fetch(this.settings.models.url.geojson)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},this.addFeaturesToLayer=function(e){a.source=new E.a({features:(new F.a).readFeatures(e)}),a.layer=new j.a({source:a.source,visible:a.settings.models.selectedLayers.length>0,style:function(e){switch(e.getGeometry().getType()){case"Point":var t=e.getProperties();return t.registryItem.type===k.i.Muinaisjaannokset_piste?a.stylePointCircle:t.registryItem.type===k.i.Suojellut_rakennukset_piste?a.stylePointSquare:a.stylePointCircle;case"Polygon":return a.stylePolygon;default:return a.stylePointCircle}}}),a.onLayerCreatedCallbackFn(a.layer)},this.selectedFeatureLayersChanged=function(e){var t;a.settings=e,null===(t=a.layer)||void 0===t||t.setVisible(e.models.selectedLayers.length>0)},this.getLayer=function(){return a.layer},this.getDataLatestUpdateDate=function(){return Object(i.b)(a,void 0,void 0,(function(){var e;return Object(i.c)(this,(function(t){switch(t.label){case 0:return this.dataLatestUpdateDate?[2,Promise.resolve(this.dataLatestUpdateDate)]:[4,this.fetchGeoJson()];case 1:return e=t.sent(),[2,Object(N.i)(e.features)]}}))}))},this.settings=e,this.onLayerCreatedCallbackFn=t,this.stylePointCircle=new _.b({image:new w.a({stroke:new M.a({color:"black",width:2}),radius:7})}),this.stylePointSquare=new _.b({image:new C.a({stroke:new M.a({color:"black",width:2}),points:4,radius:7,angle:Math.PI/4})}),this.stylePolygon=new _.b({stroke:new M.a({color:"black",width:4}),fill:new L.a({color:"rgba(255, 255, 255, 0.01)"})}),this.fetchGeoJson().then(this.addFeaturesToLayer)},K=function(e,t){var a=this;this.fetchGeoJson=function(){return Object(i.b)(a,void 0,void 0,(function(){return Object(i.c)(this,(function(e){switch(e.label){case 0:return[4,fetch(this.settings.maisemanMuisti.url.geojson)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},this.addFeaturesToLayer=function(e){a.source=new E.a({features:(new F.a).readFeatures(e)}),a.layer=new j.a({source:a.source,style:a.style,visible:a.settings.maisemanMuisti.selectedLayers.length>0}),a.onLayerCreatedCallbackFn(a.layer)},this.selectedFeatureLayersChanged=function(e){var t;a.settings=e,null===(t=a.layer)||void 0===t||t.setVisible(e.maisemanMuisti.selectedLayers.length>0)},this.getLayer=function(){return a.layer},this.settings=e,this.onLayerCreatedCallbackFn=t,this.style=new _.b({image:new C.a({fill:new L.a({color:"#f1615b"}),stroke:new M.a({color:"black",width:1}),points:5,radius:15,radius2:8,angle:0})}),this.fetchGeoJson().then(this.addFeaturesToLayer)},P=function(e,t){var a=this;this.loadFeaturesOnClickedCoordinate=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.ahvenanmaaTileLayer.identifyFeaturesAt(e.coordinate,a.map.getSize(),a.map.getView().calculateExtent(a.map.getSize())),n=a.museovirastoTileLayer.identifyFeaturesAt(e.coordinate,a.map.getSize(),a.map.getView().calculateExtent(a.map.getSize())),r=a.map.getFeaturesAtPixel(e.pixel,{layerFilter:function(e){return e===a.modelsLayer.getLayer()},hitTolerance:10}).map((function(e){return e.getProperties()})),s=a.map.getFeaturesAtPixel(e.pixel,{layerFilter:function(e){return e===a.maisemanMuistiLayer.getLayer()},hitTolerance:10}).map((function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.getGeometry().getExtent()[0],e.getGeometry().getExtent()[1]]},properties:Object(i.a)({},e.getProperties())}}));Promise.all([t,n]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results);a.eventListeners.featuresSelected(i,r,s)}))},this.initGeolocation=function(){a.geolocation=new m.a({projection:a.view.getProjection(),tracking:!0,trackingOptions:{enableHighAccuracy:!0}}),a.geolocation.once("change:position",a.centerToCurrentPositions),a.geolocation.on("change:position",a.geolocationChanged)},this.geolocationChanged=function(){if(a.geolocation&&a.geolocation.getPosition()){var e=a.geolocation.getPosition();a.positionAndSelectedLocation.addCurrentPositionMarker(e)}},this.zoom=function(e){a.view.animate({zoom:a.view.getZoom()+e,duration:250})},this.selectedFeatureLayersChanged=function(e,t){switch(t){case k.b.Museovirasto:a.museovirastoTileLayer.selectedFeatureLayersChanged(e);break;case k.b.Ahvenanmaa:a.ahvenanmaaTileLayer.selectedFeatureLayersChanged(e);break;case k.b.Models:a.modelsLayer.selectedFeatureLayersChanged(e);break;case k.b.MaisemanMuisti:a.maisemanMuistiLayer.selectedFeatureLayersChanged(e)}},this.selectedMuinaisjaannosTypesChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosTypesChanged(e)},this.selectedMuinaisjaannosDatingsChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosDatingsChanged(e)},this.searchFeatures=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.ahvenanmaaTileLayer.findFeatures(e),n=a.museovirastoTileLayer.findFeatures(e);Promise.all([t,n]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results);a.eventListeners.featureSearchReady(i)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){a.maanmittauslaitosTileLayer.selectedMaanmittauslaitosLayerChanged(e)},this.setMapLocation=function(e){a.view.setCenter(e)},this.centerToCurrentPositions=function(){if(a.geolocation&&a.geolocation.getPosition()){var e=a.geolocation.getPosition();a.view.setCenter(e)}else a.initGeolocation()},this.showSelectedLocationMarker=function(e){a.positionAndSelectedLocation.addSelectedLocationFeatureMarker(e)},this.zoomIn=function(){a.zoom(1)},this.zoomOut=function(){a.zoom(-1)},this.fetchDataLatestUpdateDates=function(){Promise.all([a.museovirastoTileLayer.getDataLatestUpdateDate(),a.ahvenanmaaTileLayer.getForminnenDataLatestUpdateDate(),a.ahvenanmaaTileLayer.getMaritimtKulturarvDataLatestUpdateDate(),a.modelsLayer.getDataLatestUpdateDate()]).then((function(e){var t=e[0],n=e[1],i=e[2],r=e[3];a.eventListeners.dataLatestUpdateDatesReady({museovirasto:t,ahvenanmaaForminnen:n,ahvenanmaaMaritimtKulturarv:i,models:r})})).catch((function(){return a.eventListeners.dataLatestUpdateDatesReady({museovirasto:null,ahvenanmaaForminnen:null,ahvenanmaaMaritimtKulturarv:null,models:null})}))},this.eventListeners=t,r.a.defs("EPSG:3067","+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),Object(u.a)(r.a),Object(o.j)("EPSG:3067").setExtent([50199.4814,6582464.0358,761274.6247,7799839.8902]),this.view=new l.a({center:[385249.63630000036,6672695.7579],projection:"EPSG:3067",zoom:e.initialMapZoom,enableRotation:!1}),this.map=new s.a({target:"map",view:this.view,controls:new c.a}),this.maanmittauslaitosTileLayer=new g(e,t.showLoadingAnimation,(function(e,t,n){a.map.getLayers().insertAt(0,e),a.map.getLayers().insertAt(1,t),a.map.getLayers().insertAt(2,n)})),this.ahvenanmaaTileLayer=new f(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(3,e)})),this.museovirastoTileLayer=new b(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(4,e)})),this.maisemanMuistiLayer=new K(e,(function(e){a.map.getLayers().insertAt(5,e)})),this.modelsLayer=new A(e,(function(e){a.map.getLayers().insertAt(6,e)})),this.positionAndSelectedLocation=new T((function(e){a.map.getLayers().insertAt(7,e)})),this.map.on("singleclick",this.loadFeaturesOnClickedCoordinate)},x=(a(217),a(512),a(0)),R=a(127),U=function(e){var t=e.visible;return x.createElement("div",{id:"loading-animation",className:t?"":"hidden"},x.createElement("img",{src:"images/loading.gif"}))},I=function(e){var t=e.onClick;return x.createElement("div",{id:"map-button-zoom-in",className:"map-button"},x.createElement("button",{type:"button",className:"btn btn-primary",title:"Lähennä",onClick:t},x.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"})))},V=function(e){var t=e.onClick;return x.createElement("div",{id:"map-button-zoom-out",className:"map-button"},x.createElement("button",{type:"button",className:"btn btn-primary",title:"Loitonna",onClick:t},x.createElement("span",{className:"glyphicon glyphicon-minus","aria-hidden":"true"})))},Y=function(e){var t=e.onClick;return x.createElement("div",{id:"map-button-position",className:"map-button"},x.createElement("button",{type:"button",className:"btn btn-primary",title:"Keskitä kartta nykyiseen sijaintiisi",onClick:t},x.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})))},z=function(e){var t=e.onClick;return x.createElement("div",{id:"map-button-info",className:"map-button"},x.createElement("button",{type:"button",className:"btn btn-primary",title:"Ohjeita sivuston käyttöön",onClick:t},x.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})))},H=a(49),G=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.permanentLink,i=e.featureName,r=e.featureTypeIconURL,s=e.featureTypeName,l=e.children,u=function(e){e.preventDefault(),a()};return x.createElement("div",{className:"panel panel-default"},x.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},x.createElement("h4",{className:"panel-title"},x.createElement("a",{role:"button",href:"",onClick:u},i),x.createElement("a",{className:"pull-right",href:n},x.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}))),x.createElement("h6",{className:"panel-title"},x.createElement("a",{role:"button",href:"",onClick:u},x.createElement("img",{className:"feature-icon",src:r}),x.createElement("span",null,s)))),x.createElement("div",{className:"panel-collapse collapse "+(t?"in":""),role:"tabpanel"},x.createElement("div",{className:"panel-body"},l)))},B=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.has3dModels,r=e.hasMaisemanMuistiFeatures,s=e.children,l=Object(N.b)(n),u=l&&Object(H.a)(l),o=Object(N.d)(n),c=Object(N.g)(n,i,r),m=Object(N.h)(n,i,r);return x.createElement(G,{isOpen:t,onToggleOpen:a,permanentLink:u,featureName:o,featureTypeIconURL:c,featureTypeName:m},s)},J=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.has3dModels,r=e.children,s=Object(N.j)(n),l=s&&Object(H.a)(s),u=n.properties.name,o=Object(N.q)("maiseman-muisti",i);return x.createElement(G,{isOpen:t,onToggleOpen:a,permanentLink:l,featureName:u,featureTypeIconURL:o,featureTypeName:"Kiinteä muinaisjäännös, Valtakunnallisesti merkittävä muinaisjäännös"},r)},W=function(e){var t=e.label,a=e.value,n=e.children,i=Object(N.r)(a);return n||i?x.createElement("div",{className:"form-group"},x.createElement("label",null,t),n||x.createElement("p",null,i)):null},q=function(e){var t=e.feature,a=Object(N.p)(t.attributes.ajoitus);return a?x.createElement("span",{className:"label label-default"},a):null},Z=function(e){var t=e.url,a=e.registerName;return x.createElement("p",{className:"well"},"Lisää tietoa kohteesta Museoviraston"," ",x.createElement("a",{href:t,target:"_blank"},a),".")},Q=function(e){var t=e.feature,a=Object(N.f)(t),n=Object(N.e)(t);return a?x.createElement(Z,{url:a,registerName:n}):null},X=function(){var e=x.useState(!1),t=e[0],a=e[1];return x.createElement("div",{className:"panel panel-default"},x.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},x.createElement("a",{role:"button",href:"",onClick:function(e){e.preventDefault(),a(!t)}},x.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})," ","Lisätietoa 3D-malleista")),x.createElement("div",{className:"panel-collapse collapse "+(t?"in":""),role:"tabpanel"},x.createElement("div",{className:"panel-body"},x.createElement("p",null,"Nämä 3D-mallit ovat"," ",x.createElement("a",{href:"./3d/",target:"_blank"},"tietokannasta"),", joka listaa harrastajien sekä virallisen toimijoiden (museot, Museovirasto, Ahvenanmaan paikallioshallinto) tekemiä 3D-mallinnuksia"," ",x.createElement("a",{href:"https://sketchfab.com",target:"_blank"},"Sketchfab")," ","-palvelusta."),x.createElement("p",null,"Mallit saa käynnistettyä nuolipainikkeesta. Käynnistymisen jälkeen mallin saa koko ruudun tilaan oikean alareunan"," ",x.createElement("img",{src:"images/sketchfab-fullscreen.png"})," painikkeesta tai painamalla näppäimistöltä ",x.createElement("kbd",null,"f")," painiketta."),x.createElement("p",null,"Mallin ohjaus:"),x.createElement("ul",null,x.createElement("li",null,x.createElement("b",null,"Kääntäminen:")," pidä vasen hiirenpainike pohjaan painettuna ja liikuta hiirtä. Kosketusnäytöillä pidä sormi painettuna ja liikuta sormea."),x.createElement("li",null,x.createElement("b",null,"Suurennus ja pienennys:")," käytä hiiren rullaa. Kosketusnäytöillä käytä kahden sormen nipistyselettä."),x.createElement("li",null,x.createElement("b",null,"Kohdistuksen siirtäminen:")," pidä oikea hiirenpainike pohjaan painettuna ja liikuta hiirtä. Kosketusnäytöillä pidä kaksi sormea painettuna ja liikuta sormia.")))))},$=function(e){var t=e.models,a=void 0===t?[]:t;return 0===a.length?null:x.createElement(x.Fragment,null,x.createElement("br",null),x.createElement("h4",null,"Kohteen 3D-mallit"),x.createElement(X,null),a.map((function(e){return x.createElement("div",{className:"form-group",key:e.model.url},x.createElement("label",null,e.model.name),x.createElement("iframe",{title:e.model.name,width:"100%",height:"400",src:e.model.url+"/embed",allow:"fullscreen",allowFullScreen:!0}))})))},ee=function(e){var t=e.feature;return x.createElement("div",{className:"form-group"},x.createElement("label",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (",x.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"lisätietoa"),")"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/maiseman-muisti.png"}),x.createElement("span",null,t.properties.name)))},te=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,r=void 0===i?[]:i,s=e.maisemanMuistiFeatures,l=void 0===s?[]:s;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:r.length>0,hasMaisemanMuistiFeatures:l.length>0},x.createElement("form",null,x.createElement(W,{label:"Kohdenimi",value:n.attributes.kohdenimi}),x.createElement(W,{label:"Kunta",value:n.attributes.kunta}),x.createElement(W,{label:"Ajoitus"},x.createElement("p",null,x.createElement("span",null,Object(N.r)(n.attributes.ajoitus)),x.createElement(q,{feature:n}))),x.createElement(W,{label:"Tyyppi",value:n.attributes.tyyppi}),x.createElement(W,{label:"Alatyyppi",value:n.attributes.alatyyppi}),x.createElement(W,{label:"Laji",value:n.attributes.laji}),l.length>0&&x.createElement(ee,{feature:l[0]}),x.createElement(Q,{feature:n}),t&&x.createElement($,{models:r})))},ae=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n},x.createElement("form",null,x.createElement(W,{label:"Kohdenimi",value:n.attributes.kohdenimi}),x.createElement(W,{label:"Kunta",value:n.attributes.kunta}),x.createElement(W,{label:"Laji",value:n.attributes.laji}),x.createElement(Q,{feature:n})))},ne=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,r=void 0===i?[]:i;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:r.length>0},x.createElement("form",null,x.createElement(W,{label:"Kohdenimi",value:n.attributes.kohdenimi}),n.layerName===k.i.RKY_alue&&x.createElement(W,{label:"Nimi",value:n.attributes.nimi}),x.createElement(Q,{feature:n}),t&&x.createElement($,{models:r})))},ie=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n},x.createElement("form",null,x.createElement(W,{label:"Kohdenimi",value:n.attributes.Nimi}),x.createElement(Q,{feature:n})))},re=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,r=void 0===i?[]:i;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:r.length>0},x.createElement("form",null,x.createElement(W,{label:"Kohdenimi",value:n.attributes.kohdenimi}),n.layerName==k.i.Suojellut_rakennukset_piste&&x.createElement(W,{label:"Rakennusnimi",value:n.attributes.rakennusnimi}),x.createElement(W,{label:"Kunta",value:n.attributes.kunta}),x.createElement(W,{label:"Suojeluryhmä",value:n.attributes.suojeluryhmä}),x.createElement(Q,{feature:n}),t&&x.createElement($,{models:r})))},se=function(e){var t=e.feature,a=Object(N.f)(t);return a?x.createElement("p",null,"Lisää tietoa kohteesta löytyy"," ",x.createElement("a",{href:a,target:"_blank"},"kuntakohtaisesta Pdf-tiedostosta"),", josta voit etsiä kohteen tunnisteella"," ",x.createElement("span",{className:"label label-default"},t.attributes["Fornlämnings ID"]),"."):null},le=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,r=void 0===i?[]:i;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:r.length>0},x.createElement("form",null,x.createElement(W,{label:"Nimi",value:n.attributes.Namn}),x.createElement(W,{label:"Kunta",value:n.attributes.Kommun}),x.createElement(W,{label:"Kylä",value:n.attributes.By}),x.createElement(W,{label:"Kuvaus",value:n.attributes.Beskrivning}),x.createElement(W,{label:"Sijainti",value:n.attributes.Topografi}),x.createElement(W,{label:"Tunniste",value:n.attributes["Fornlämnings ID"]}),x.createElement(se,{feature:n}),t&&x.createElement($,{models:r})))};!function(e){e.Visible="Visible",e.Closing="Closing",e.Hidden="Hidden"}(n||(n={}));var ue,oe=function(e){var t=e.title,a=e.visibility,i=e.hidePage,r=e.children,s="";switch(a){case n.Visible:s="page-right-visible";break;case n.Closing:s="page-right-closing";break;case n.Hidden:s="page-right-hidden"}return x.createElement("div",{className:"container page "+s},a!==n.Hidden&&x.createElement("div",{className:"row pageHeader"},x.createElement("div",{className:"col-xs-3"},x.createElement("button",{className:"btn btn-primary btn-sm",onClick:i},x.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}),"Sulje")),x.createElement("div",{className:"col-xs-9"},x.createElement("span",{className:"pageHeaderText"},t))),a!==n.Hidden&&x.createElement("div",{className:"pageContent"},r))},ce=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,r=void 0===i?[]:i;return x.createElement(B,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:r.length>0},x.createElement("form",null,x.createElement(W,{label:"Nimi",value:n.attributes.Namn}),x.createElement(W,{label:"Kunta",value:n.attributes.Kommun}),x.createElement(W,{label:"Kylä",value:n.attributes.By}),x.createElement(W,{label:"Kuvaus",value:n.attributes.Beskrivning}),x.createElement(W,{label:"Tarkkuus",value:n.attributes.Precision}),x.createElement(W,{label:"Tunniste",value:n.attributes.FornID}),x.createElement(W,{label:"Laki",value:n.attributes.Lagrum}),t&&x.createElement($,{models:r})))},me=function(e){var t=e.isOpen,a=e.onToggleOpen,n=e.feature,i=e.models,r=void 0===i?[]:i;return x.createElement(J,{isOpen:t,onToggleOpen:a,feature:n,has3dModels:r.length>0},x.createElement("form",null,x.createElement(W,{label:"Kohdenimi",value:n.properties.name}),x.createElement(W,{label:"Kunta",value:n.properties.municipality}),x.createElement(W,{label:"Maakunta",value:n.properties.region}),x.createElement(ee,{feature:n}),x.createElement(Z,{url:"https://www.kyppi.fi/to.aspx?id=112."+n.properties.id,registerName:"Muinaisjäännösrekisteristä"}),t&&x.createElement($,{models:r})))},pe=function(e){var t=e.feature,a=e.isOpen,n=e.onToggleOpen,r=e.models,s=e.maisemanMuistiFeatures,l={isOpen:a,onToggleOpen:n,models:Object(N.n)(t,r),maisemanMuistiFeatures:Object(N.m)(t,s)};switch(t.layerName){case k.i.Muinaisjaannokset_piste:return x.createElement(te,Object(i.a)({feature:t},l));case k.i.Muinaisjaannokset_alue:return x.createElement(ae,Object(i.a)({feature:t},l));case k.i.RKY_alue:case k.i.RKY_viiva:case k.i.RKY_piste:return x.createElement(ne,Object(i.a)({feature:t},l));case k.i.Maailmanperinto_alue:case k.i.Maailmanperinto_piste:return x.createElement(ie,Object(i.a)({feature:t},l));case k.i.Suojellut_rakennukset_alue:case k.i.Suojellut_rakennukset_piste:return x.createElement(re,Object(i.a)({feature:t},l));case k.a.Fornminnen:return x.createElement(le,Object(i.a)({feature:t},l));case k.a.MaritimtKulturarv:return x.createElement(ce,Object(i.a)({feature:t},l))}return null},de=function(e){var t=e.visibility,a=e.hidePage,n=e.features,i=void 0===n?[]:n,r=e.models,s=void 0===r?[]:r,l=e.maisemanMuistiFeatures,u=void 0===l?[]:l,o=x.useState(""),c=o[0],m=o[1],p=function(e){return m(c===e?"":e)};return x.createElement(oe,{title:"Valitut kohteet",visibility:t,hidePage:a},x.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"}),i.map((function(e){var t=e.layerName+"-"+Object(N.a)(e);return x.createElement(pe,{key:t,isOpen:c===t,onToggleOpen:function(){return p(t)},feature:e,models:s,maisemanMuistiFeatures:u})})),u.map((function(e){if(i.some((function(t){return t.layerName===k.i.Muinaisjaannokset_piste&&t.attributes.mjtunnus===e.properties.id.toString()})))return null;var t="maisemanMuisti-"+e.properties.id.toString();return x.createElement(me,{key:t,isOpen:c===t,onToggleOpen:function(){return p(t)},feature:e,models:Object(N.o)(e,s)})})))},he=function(e){var t=e.hidePage,a=e.feature,n=Object(N.d)(a),i=Object(N.c)(a),r=Object(N.h)(a),s=Object(N.g)(a),l=Object(N.b)(a),u=l&&Object(H.a)(l);return x.createElement("a",{href:u,className:"list-group-item search-result-row",onClick:t},x.createElement("h4",{className:"list-group-item-heading"},n),x.createElement("p",{className:"list-group-item-text"},x.createElement("img",{className:"feature-icon",src:s}),x.createElement("span",null,r,i&&", "+i)))},ke=function(e){var t=e.hidePage,a=e.features;return a?x.createElement(x.Fragment,null,x.createElement("h5",{id:"search-result-header"},x.createElement("span",null,"Hakutulokset"),x.createElement("small",null," (",a.length," kpl)")),x.createElement("div",{className:"list-group"},a.map((function(e){return x.createElement(he,{key:e.layerName+"-"+Object(N.a)(e),feature:e,hidePage:t})})))):null},ge=function(){return x.createElement("div",{className:"alert alert-danger",role:"alert"},"Hakusanan pitää olla vähintään kolme merkkiä")},ye=function(e){var t=e.visibility,a=e.hidePage,i=e.searchFeatures,r=e.searchResultFeatures,s=x.useState(""),l=s[0],u=s[1],o=x.useState(!1),c=o[0],m=o[1],p=x.useRef(null);x.useEffect((function(){t===n.Visible&&setTimeout((function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()}),500)}),[t]);return x.createElement(oe,{title:"Hae kohteita",visibility:t,hidePage:a},x.createElement("form",{className:c?"has-error":void 0,onSubmit:function(e){e.stopPropagation(),e.preventDefault(),l.trim().length<3?m(!0):(m(!1),i(l))}},c&&x.createElement(ge,null),x.createElement("span",{id:"helpBlock",className:"help-block"},"Voit hakea kohteen nimellä (esim. Turun linna) tai rekisterin tunnuksella (esim. 200284)"),x.createElement("div",{className:"input-group"},x.createElement("input",{type:"text",ref:p,className:"form-control",placeholder:"Kirjoita kohteen nimi tai sen osa",value:l,"aria-describedby":"helpBlock",onChange:function(e){return u(e.target.value)}}),x.createElement("span",{className:"input-group-btn"},x.createElement("button",{className:"btn btn-default",type:"submit"},"Hae")))),x.createElement(ke,{features:r,hidePage:a}))},ve=function(e){var t=e.title,a=e.children;return x.createElement("div",{className:"panel panel-default"},x.createElement("div",{className:"panel-heading"},t),x.createElement("div",{className:"panel-body"},a))},fe=function(){return x.createElement(ve,{title:"Tietoa sivustosta"},x.createElement("p",null,"Tällä sivustolla näet kartalla seuraavien rekisterien tiedot:"),x.createElement("h5",null,"Museovirasto"),x.createElement("ul",null,x.createElement("li",null,x.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/mjreki/read/asp/r_default.aspx",target:"_blank"},"Muinaisjäännösrekisteri")),x.createElement("li",null,x.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/rapea/read/asp/r_default.aspx",target:"_blank"},"Rakennusperintörekisteri")),x.createElement("li",null,x.createElement("a",{href:"https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa",target:"_blank"},"Maailmanperintökohteet")),x.createElement("li",null,x.createElement("a",{href:"http://www.rky.fi/",target:"_blank"},"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"))),x.createElement("h5",null,"Ahvenamaan paikallishallinto"),x.createElement("ul",null,x.createElement("li",null,x.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret",target:"_blank"},"Muinaisjäännösrekisteri")),x.createElement("li",null,x.createElement("a",{href:"https://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/marinarkeologi",target:"_blank"},"Merellisen kulttuuriperinnön rekisteri"))),x.createElement("p",null,"Kaikki näytettävät kohteet ovat avointa dataa ja haettu rekisterin ylläpitäjän tarjoamasta karttapalvelusta."),x.createElement("p",null,"Kohteista saa lisätietoikkunan näkyviin klikkaamalla kohdetta kartalla. Tästä näkymästä on myös linkki kohteen lisätietoihin rekisterin ylläpitäjän sivustolla. Kohteen otsikon vieressä olevasta kuvakkeesta (",x.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}),") saa talteen pysyvän linkin kohteen sijaintiin kartalla."),x.createElement("h5",null,"3D-mallit"),x.createElement("p",null,"Joillekin kohteille on saataville myös 3D-malleja"," ",x.createElement("a",{href:"./3d/",target:"_blank"},"tietokannasta"),", joka listaa harrastajien sekä virallisen toimijoiden (museot, Museovirasto, Ahvenanmaan paikallioshallinto) tekemiä 3D-mallinnuksia"," ",x.createElement("a",{href:"https://sketchfab.com",target:"_blank"},"Sketchfab")," ","-palvelusta."),x.createElement("h5",null,"Paikannus"),x.createElement("p",null,"Kartta keskitetään oletuksena nykyiseen sijaintiisi jos annat selaimelle luvan luovuttaa se tieto. Keskityksen nykyiseen sijaintiin voi suorittaa myös myöhemmin"," ",x.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})," ","painikkeesta."),x.createElement("h5",null,"Haku"),x.createElement("p",null,"Museoviraston rekisterien kohteita pystyy hakemaan nimen perusteella hakunäkymässä (",x.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"}),"). Hakutuloksen klikkaaminen keskittää kartan kohteeseen ja lisää siihen paikkamerkin ",x.createElement("img",{src:"images/map-pin-small.png"}),"."),x.createElement("h5",null,"Asetukset"),x.createElement("p",null,"Pohjakartan voi vaihtaa taustakartan ja maastokartan välillä asetuksista (",x.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"}),"). Samasta näkymästä voi piilottaa Museoviraston rekisterien kohteita tyypin ja muinaisjäännöksiä myös ajoituksen mukaan jos haluaa tarkastella esimerkiksi pelkästään muinaisjäännöksiä rautakaudelta."),x.createElement("p",null,"Palautetta sivustosta otetaan mielellään vastaan osoitteeseen"," ",x.createElement("a",{href:"mailto:antti.kekki@gmail.com"},"antti.kekki@gmail.com")))},be=function(){return x.createElement(ve,{title:"Karttasymbolit"},x.createElement("div",null,x.createElement("h5",null,"Museoviraston muinaisjäännösrekisteri"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_kohde.png"}),x.createElement("span",null,"Kiinteä muinaisjäännös")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_alue.png"}),x.createElement("span",null,"Kiinteä muinaisjäännös (alue)")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/muu_kulttuuriperintokohde_kohde.png"}),x.createElement("span",null,"Muu kulttuuriperintökohde")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/muu-kulttuuriperintokohde-alue.png"}),x.createElement("span",null,"Muu kulttuuriperintökohde (alue)"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"Ahvenanmaan muinaisjäännösrekisteri"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_muinaisjaannos.png"}),x.createElement("span",null,"Kohde"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"Ahvenanmaan merellisen kulttuuriperinnön rekisteri"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_hylky.png"}),x.createElement("span",null,"Kohde"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"Rakennusperintörekisteri"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_rakennus.png"}),x.createElement("span",null,"Rakennus")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_alue.png"}),x.createElement("span",null,"Alue"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"Maailmanperintökohteet"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_piste.png"}),x.createElement("span",null,"Kohde")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_alue.png"}),x.createElement("span",null,"Alue"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/rky_piste.png"}),x.createElement("span",null,"Kohde")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/rky_viiva.png"}),x.createElement("span",null,"Viiva (esim. tie)")),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/rky_alue.png"}),x.createElement("span",null,"Alue"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"3D-mallit (",x.createElement("a",{href:"./3d/",target:"_blank"},"lisätietoa"),")"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/3d_malli_circle.png"}),x.createElement("img",{className:"feature-icon",src:"images/3d_malli_square.png"}),x.createElement("span",null,"Kohde sisältää 3D-malleja"))),x.createElement("br",null),x.createElement("div",null,x.createElement("h5",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (",x.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"lisätietoa"),")"),x.createElement("p",null,x.createElement("img",{className:"feature-icon",src:"images/maiseman-muisti.png"}),x.createElement("span",null,"Valtakunnallisesti merkittävä muinaisjäännös"))))},je=function(){return x.createElement(ve,{title:"Avoin data, lisenssit ja lähdekoodi"},x.createElement("p",null,"Museoviraston rekistereistä tietoa haetaan"," ",x.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"avoimen rajapinnan")," ","kautta (paikkatietoaineisto on julkaistu"," ",x.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons CC By 4.0 -lisenssillä"),")."),x.createElement("p",null,"Ahvenanmaan maakuntahallinnon rekisteristö tietoa haetaan"," ",x.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"avoimen rajapinnan")," ","kautta (paikkatietoaineisto on julkaistu"," ",x.createElement("a",{href:"https://creativecommons.org/licenses/by/4.0/"},"Creative Commons CC By 4.0 -lisenssillä"),")."),x.createElement("p",null,"Taustakarttana on"," ",x.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"Maanmittauslaitoksen")," ","tausta-, ortokuva- ja peruskartta (paikkatietoaineisto on julkaistu"," ",x.createElement("a",{href:"https://www.maanmittauslaitos.fi/avoindata-lisenssi-cc40"},"Creative Commons Nimeä 4.0 Kansainvälinen -lisenssillä"),")."),x.createElement("p",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset -kirjan paikkatieto on ",x.createElement("a",{href:"./maisemanmuisti/"},"tietokannasta"),", johon on koottu kirjan listaamat 205 kohdetta. Kirjan sisällön tekijanoikeus on Museovirastolla."),x.createElement("p",null,"3D-mallit ovat avoimesta ",x.createElement("a",{href:"./3d/"},"tietokannasta"),", joka listaa harrastajien sekä virallisen toimijoiden (museot, Museovirasto, Ahvenanmaan paikallioshallinto) tekemiä 3D-mallinnuksia. Mallien lisenssit on listattu tietokannassa mallikohtaisesti."),x.createElement("p",null,"Tämän sivuston tekninen toteutus on"," ",x.createElement("a",{href:"https://github.com/anttikekki/muinaismuistot"},"avointa lähdekoodia"),", lisenssinä on"," ",x.createElement("a",{href:"https://github.com/anttikekki/muinaismuistot/blob/master/LICENSE"},"MIT"),"."))},Ee=function(){return x.createElement(ve,{title:"Versiohistoria"},x.createElement("h5",null,"Marraskuu 2020"),x.createElement("p",null,"Lisätty"," ",x.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset")," ","-kirjan paikkatietoaineisto kartalle"," ",x.createElement("img",{src:"images/maiseman-muisti.png"})," korostuksella."),x.createElement("p",null,"Karttatasojen näkyvyyksien asetukset päivitetään nyt selaimen osoitepalkkiin jolloin sivun lataaminen uudelleen palauttaa samat asetukset."),x.createElement("p",null,"Hakukenttä hyväksyy nyt myös kohteen tunnuksen Museoviraston rekistereissä."),x.createElement("br",null),x.createElement("h5",null,"Toukokuu 2020"),x.createElement("p",null,"Päivitetty Museoviraston"," ",x.createElement("a",{href:"http://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer",target:"_blank"},"paikkatietoaineiston")," ","WMS-karttatasojen nimet koska niistä poistuivat ääkköset."),x.createElement("br",null),x.createElement("h5",null,"Huhtikuu 2020"),x.createElement("p",null,"Lisätty 3D-mallien"," ",x.createElement("a",{href:"./3d/",target:"_blank"},"tietokanta")," ","ja karttaan ",x.createElement("img",{src:"images/3d_malli_circle.png"}),x.createElement("img",{src:"images/3d_malli_square.png"})," korostus kohteille, joille löytyy 3D-malleja."),x.createElement("br",null),x.createElement("h5",null,"Helmikuu 2020"),x.createElement("p",null,'Lisätty kartta-aineistojen viimeisin päivitysaika näkyviin "Lisätietoja sivustosta" -sivulle.'),x.createElement("p",null,"Paikannus päivittää nyt automaattisesti omaa sijaintia kartalla."),x.createElement("br",null),x.createElement("h5",null,"Elokuu 2019"),x.createElement("p",null,"Siirrytty käyttämään Ahvenanmaan maakuntahallinnon uutta"," ",x.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"kartor.ax")," ","karttapalvelua. Samalla kohteiden haku alkoi toimimaan myös Ahvenanmaan kohteille."),x.createElement("p",null,"Kartalle klikattujen kohteiden listassa näkyy nyt otsikossa kohteen nimi. Listassa voi nyt myös olla monta saman tyyppistä kohdetta."),x.createElement("br",null),x.createElement("h5",null,"Heinäkuu 2019"),x.createElement("p",null,"Korjattu Museoviraston muinaisjäännösrekisterin pisteiden filtteröinti ajoituksen ja tyypin perusteella."),x.createElement("br",null),x.createElement("h5",null,"Joulukuu 2018"),x.createElement("p",null,"Siirrytty käyttämään Maanmittauslaitoksen uutta"," ",x.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"karttapalvelua"),", jonka myötä taustakartan ulkonäkö muuttui selkeämmäksi ja"," ",x.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/tuotekuvaukset/ortokuva"},"Ortokuvat")," ","saatiin käyttöön."),x.createElement("p",null,"Siirrytty käyttämään Museoviraston uutta"," ",x.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"karttapalvelua"),', jonka myötä saatiin käyttöön ruskeat "Muu kulttuuriperintökohde" -pisteet kartalle.'),x.createElement("br",null),x.createElement("h5",null,"Marraskuu 2017"),x.createElement("p",null,"Lisätty kartalle Ahvenanmaan maakuntahallinnon"," ",x.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret"},"muinaijäännösten rekisteri"),"."),x.createElement("br",null),x.createElement("h5",null,"Lokakuu 2015"),x.createElement("p",null,"Ensimmäinen versio julkaistu."))},Le=function(e){var t=e.date;return void 0===t?x.createElement("p",null,"Tietoa selvitetään parhaillaan..."):null===t?x.createElement("p",null,"Päivityshetkeä ei valitettavasti saatu selville"):x.createElement("p",null,t.toLocaleDateString("fi"))},Me=function(e){var t=e.dataLatestUpdateDates;return x.createElement(ve,{title:"Aineisto päivitetty viimeksi"},x.createElement("h5",null,"Museoviraston aineistot"),x.createElement(Le,{date:null==t?void 0:t.museovirasto}),x.createElement("h5",null,"Ahvenamaan muinaisjäännösrekisteri"),x.createElement(Le,{date:null==t?void 0:t.ahvenanmaaForminnen}),x.createElement("h5",null,"Ahvenamaan merellisen kulttuuriperinnön rekisteri"),x.createElement(Le,{date:null==t?void 0:t.ahvenanmaaMaritimtKulturarv}),x.createElement("h5",null,"3D-mallit (",x.createElement("a",{href:"./3d/",target:"_blank"},"lisätietoa"),")"),x.createElement(Le,{date:null==t?void 0:t.models}))},we=function(e){var t=e.visibility,a=e.hidePage,n=e.dataLatestUpdateDates;return x.createElement(oe,{title:"Lisätietoja sivustosta",visibility:t,hidePage:a},x.createElement(Me,{dataLatestUpdateDates:n}),x.createElement(fe,null),x.createElement(be,null),x.createElement(je,null),x.createElement(Ee,null))},_e=function(e){var t=e.onClick;return x.createElement("div",{id:"map-button-search",className:"map-button"},x.createElement("button",{type:"button",className:"btn btn-primary",title:"Hae kohteita",onClick:t},x.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"})))},Oe=function(e){var t=e.layer,a=e.selectedLayer,n=e.onSelectLayer,i=t===a;return x.createElement("label",{className:"btn btn-default "+(i?"active":"")},x.createElement("input",{type:"radio",name:"selectedMapLayer",checked:i,onChange:function(){return n(t)}}),t)},Se=function(e){var t=e.selectedLayer,a=e.onSelectLayer;return x.createElement(ve,{title:"Karttapohja"},x.createElement("div",{className:"btn-group","data-toggle":"buttons"},Object.values(k.c).map((function(e){return x.createElement(Oe,{key:e,layer:e,selectedLayer:t,onSelectLayer:a})}))))},De=function(e){var t=e.label,a=e.layer,n=e.selectedLayers,i=e.onSelectLayer,r=n.includes(a);return x.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},x.createElement("label",null,x.createElement("input",{type:"checkbox",onChange:function(){return i(a)},checked:r}),Object(N.k)(a).map((function(e,t){return x.createElement("img",{className:"feature-icon",key:t,src:e})})),x.createElement("span",null,t)))},Te=function(e){var t=e.selectedMuseovirastoLayers,a=e.selectedAhvenanmaaLayers,n=e.selectedModelLayers,i=e.selectedMaisemanMuistiLayers,r=e.onSelectMuseovirastoLayer,s=e.onSelectAhvenanmaaLayer,l=e.onSelectModelLayer,u=e.onSelectMaisemanMuistiLayer;return x.createElement(ve,{title:"Kartalla näkyvät kohteet"},x.createElement("form",null,x.createElement("h5",null,"Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt"),x.createElement(De,{label:"Alueet",layer:k.i.RKY_alue,selectedLayers:t,onSelectLayer:r}),x.createElement(De,{label:"Viivat (esim. tie)",layer:k.i.RKY_viiva,selectedLayers:t,onSelectLayer:r}),x.createElement(De,{label:"Pisteet",layer:k.i.RKY_piste,selectedLayers:t,onSelectLayer:r}),x.createElement("h5",null,"Maailmanperintökohteet"),x.createElement(De,{label:"Alueet",layer:k.i.Maailmanperinto_alue,selectedLayers:t,onSelectLayer:r}),x.createElement(De,{label:"Pisteet",layer:k.i.Maailmanperinto_piste,selectedLayers:t,onSelectLayer:r}),x.createElement("h5",null,"Rakennusperintörekisteri"),x.createElement(De,{label:"Rakennetut alueet",layer:k.i.Suojellut_rakennukset_alue,selectedLayers:t,onSelectLayer:r}),x.createElement(De,{label:"Rakennukset",layer:k.i.Suojellut_rakennukset_piste,selectedLayers:t,onSelectLayer:r}),x.createElement("h5",null,"Museoviraston muinaisjäännösrekisteri"),x.createElement(De,{label:"Alueet",layer:k.i.Muinaisjaannokset_alue,selectedLayers:t,onSelectLayer:r}),x.createElement(De,{label:"Pisteet",layer:k.i.Muinaisjaannokset_piste,selectedLayers:t,onSelectLayer:r}),x.createElement("h5",null,"Ahvenamaan muinaisjäännösrekisteri"),x.createElement(De,{label:"Kohde",layer:k.a.Fornminnen,selectedLayers:a,onSelectLayer:s}),x.createElement("h5",null,"Ahvenamaan merellisen kulttuuriperinnön rekisteri"),x.createElement(De,{label:"Kohde",layer:k.a.MaritimtKulturarv,selectedLayers:a,onSelectLayer:s}),x.createElement("h5",null,"3D-mallit (",x.createElement("a",{href:"./3d/",target:"_blank"},"lisätietoa"),")"),x.createElement(De,{label:"3D-mallit",layer:k.e.ModelLayer,selectedLayers:n,onSelectLayer:l}),x.createElement("h5",null,"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (",x.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"lisätietoa"),")"),x.createElement(De,{label:"Valtakunnallisesti merkittävät muinaisjäännökset",layer:k.d.MaisemanMuisti,selectedLayers:i,onSelectLayer:u})))},Ce=function(e){var t=e.type,a=e.selectedMuinaisjaannosTypes,n=e.onSelectType,i=a.includes(t);return x.createElement("div",{className:"checkbox"},x.createElement("label",null,x.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:i}),t))},Fe=function(e){var t=e.dating,a=e.selectedMuinaisjaannosDatings,n=e.onSelectDating,i=a.includes(t);return x.createElement("div",{className:"checkbox"},x.createElement("label",null,x.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:i}),t))},Ne=function(e){var t=e.selectedMuinaisjaannosTypes,a=e.selectedMuinaisjaannosDatings,n=e.onSelectMuinaisjaannosType,i=e.onSelectMuinaisjaannosDating;return x.createElement(ve,{title:"Kartalla näkyvät muinaisjäännökset"},x.createElement("form",null,x.createElement("div",{className:"well well-sm"},"Rajoitus toimii vain Museoviraston muijaisjäännöksien pisteille (",x.createElement("img",{src:"images/muinaisjaannos_kohde.png"})," ja",x.createElement("img",{src:"images/muu_kulttuuriperintokohde_kohde.png"}),") mutta ei alueille (",x.createElement("img",{src:"images/muinaisjaannos_alue.png"})," ja",x.createElement("img",{src:"images/muu-kulttuuriperintokohde-alue.png"}),"). Rajaus ei valitettavasti toimi Ahvenanmaan muinaisjäännöksiin."),x.createElement("h5",null,"Tyyppi"),Object.values(k.h).map((function(e){return x.createElement(Ce,{key:e,type:e,selectedMuinaisjaannosTypes:t,onSelectType:n})})),x.createElement("h5",null,"Ajoitus"),Object.values(k.f).map((function(e){return x.createElement(Fe,{key:e,dating:e,selectedMuinaisjaannosDatings:a,onSelectDating:i})}))))},Ae=function(e){var t=e.visibility,a=e.hidePage,n=e.settings,i=e.onSelectMaanmittauslaitosLayer,r=e.onSelectMuseovirastoLayer,s=e.onSelectAhvenanmaaLayer,l=e.onSelectModelLayer,u=e.onSelectMaisemanMuistiLayer,o=e.onSelectMuinaisjaannosType,c=e.onSelectMuinaisjaannosDating;return x.createElement(oe,{title:"Asetukset",visibility:t,hidePage:a},x.createElement(Se,{selectedLayer:n.maanmittauslaitos.selectedLayer,onSelectLayer:i}),x.createElement(Te,{selectedMuseovirastoLayers:n.museovirasto.selectedLayers,selectedAhvenanmaaLayers:n.ahvenanmaa.selectedLayers,selectedModelLayers:n.models.selectedLayers,selectedMaisemanMuistiLayers:n.maisemanMuisti.selectedLayers,onSelectMuseovirastoLayer:r,onSelectAhvenanmaaLayer:s,onSelectModelLayer:l,onSelectMaisemanMuistiLayer:u}),x.createElement(Ne,{selectedMuinaisjaannosTypes:n.museovirasto.selectedMuinaisjaannosTypes,selectedMuinaisjaannosDatings:n.museovirasto.selectedMuinaisjaannosDatings,onSelectMuinaisjaannosType:o,onSelectMuinaisjaannosDating:c}))},Ke=function(e){var t=e.onClick;return x.createElement("div",{id:"map-button-settings",className:"map-button"},x.createElement("button",{type:"button",className:"btn btn-primary",title:"Kartan asetukset",onClick:t},x.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"})))};!function(e){e.Search="searchPage",e.Info="infoPage",e.Settings="settingsPage",e.Details="detailsPage"}(ue||(ue={}));var Pe=function(e,t){return t.includes(e)?t.filter((function(t){return t!==e})):Object(i.d)(t,[e])},xe=function(e,t){var a=this;this.pageClosingAnimationTimeoutID={},this.loadingAnimationCounter=0,this.onSearchFeatures=function(e){a.eventListeners.searchFeatures(e),a.searchResultFeatures=void 0,a.renderUI()},this.onSelectMaanmittauslaitosLayer=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{maanmittauslaitos:Object(i.a)(Object(i.a)({},a.settings.maanmittauslaitos),{selectedLayer:e})}),a.eventListeners.selectedMaanmittauslaitosLayerChanged(a.settings),a.renderUI()},this.onSelectMuseovirastoLayer=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{museovirasto:Object(i.a)(Object(i.a)({},a.settings.museovirasto),{selectedLayers:Pe(e,a.settings.museovirasto.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,k.b.Museovirasto),a.renderUI()},this.onSelectAhvenanmaaLayer=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{ahvenanmaa:Object(i.a)(Object(i.a)({},a.settings.ahvenanmaa),{selectedLayers:Pe(e,a.settings.ahvenanmaa.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,k.b.Ahvenanmaa),a.renderUI()},this.onSelectModelLayer=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{models:Object(i.a)(Object(i.a)({},a.settings.models),{selectedLayers:Pe(e,a.settings.models.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,k.b.Models),a.renderUI()},this.onSelectMaisemanMuistiLayer=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{maisemanMuisti:Object(i.a)(Object(i.a)({},a.settings.maisemanMuisti),{selectedLayers:Pe(e,a.settings.maisemanMuisti.selectedLayers)})}),a.eventListeners.selectedFeatureLayersChanged(a.settings,k.b.MaisemanMuisti),a.renderUI()},this.onSelectMuinaisjaannosType=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{museovirasto:Object(i.a)(Object(i.a)({},a.settings.museovirasto),{selectedMuinaisjaannosTypes:Pe(e,a.settings.museovirasto.selectedMuinaisjaannosTypes)})}),a.eventListeners.selectedMuinaisjaannosTypesChanged(a.settings),a.renderUI()},this.onSelectMuinaisjaannosDating=function(e){a.settings=Object(i.a)(Object(i.a)({},a.settings),{museovirasto:Object(i.a)(Object(i.a)({},a.settings.museovirasto),{selectedMuinaisjaannosDatings:Pe(e,a.settings.museovirasto.selectedMuinaisjaannosDatings)})}),a.eventListeners.selectedMuinaisjaannosDatingsChanged(a.settings),a.renderUI()},this.renderUI=function(){var e=a.loadingAnimationCounter>0,t=a.eventListeners,n=t.zoomIn,i=t.zoomOut,r=t.centerToCurrentPositions;R.render(x.createElement(x.Fragment,null,x.createElement(U,{visible:e}),x.createElement(I,{onClick:n}),x.createElement(V,{onClick:i}),x.createElement(Y,{onClick:r}),x.createElement(_e,{onClick:function(){return a.showPage(ue.Search)}}),x.createElement(z,{onClick:function(){return a.showPage(ue.Info)}}),x.createElement(Ke,{onClick:function(){return a.showPage(ue.Settings)}}),x.createElement(de,{visibility:a.getPageVisibility(ue.Details),hidePage:a.hidePage,features:a.selectedFeatures,models:a.selectedModels,maisemanMuistiFeatures:a.selectedMaisemanMuistiFeatures}),x.createElement(ye,{visibility:a.getPageVisibility(ue.Search),hidePage:a.hidePage,searchFeatures:a.onSearchFeatures,searchResultFeatures:a.searchResultFeatures}),x.createElement(we,{visibility:a.getPageVisibility(ue.Info),hidePage:a.hidePage,dataLatestUpdateDates:a.dataLatestUpdateDates}),x.createElement(Ae,{visibility:a.getPageVisibility(ue.Settings),hidePage:a.hidePage,settings:a.settings,onSelectMaanmittauslaitosLayer:a.onSelectMaanmittauslaitosLayer,onSelectMuseovirastoLayer:a.onSelectMuseovirastoLayer,onSelectAhvenanmaaLayer:a.onSelectAhvenanmaaLayer,onSelectModelLayer:a.onSelectModelLayer,onSelectMaisemanMuistiLayer:a.onSelectMaisemanMuistiLayer,onSelectMuinaisjaannosType:a.onSelectMuinaisjaannosType,onSelectMuinaisjaannosDating:a.onSelectMuinaisjaannosDating})),document.getElementById("ui"))},this.getPageVisibility=function(e){return a.visiblePage===e?n.Visible:a.pageClosingAnimationTimeoutID[e]?n.Closing:n.Hidden},this.showPage=function(e){a.visiblePage!==e&&(a.abortClosingPage(e),a.visiblePage=e,e===ue.Info&&a.eventListeners.fetchDataLatestUpdateDates(),a.renderUI())},this.hidePage=function(){a.visiblePage&&a.startClosingPage(a.visiblePage),a.visiblePage=void 0,a.renderUI()},this.startClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]=window.setTimeout((function(){a.pageClosingAnimationTimeoutID[e]=void 0,a.renderUI()}),500)},this.abortClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]&&(window.clearTimeout(a.pageClosingAnimationTimeoutID[e]),a.pageClosingAnimationTimeoutID[e]=void 0)},this.showLoadingAnimation=function(e){var t=a.loadingAnimationCounter;e?a.loadingAnimationCounter++:a.loadingAnimationCounter--,0===t&&1===a.loadingAnimationCounter&&(a.loadingAnimationTimeoutID=window.setTimeout((function(){a.loadingAnimationTimeoutID&&a.renderUI()}),300)),1===t&&0===a.loadingAnimationCounter&&(window.clearTimeout(a.loadingAnimationTimeoutID),a.loadingAnimationTimeoutID=void 0,a.renderUI())},this.featuresSelected=function(e,t,n){0===e.length&&0===n.length||(a.selectedFeatures=e,a.selectedModels=t,a.selectedMaisemanMuistiFeatures=n,a.visiblePage=ue.Details,a.renderUI())},this.featureSearchReady=function(e){a.searchResultFeatures=e,a.renderUI()},this.dataLatestUpdateDatesReady=function(e){a.dataLatestUpdateDates=e,a.renderUI()},this.updateSettings=function(e){a.settings=e,a.renderUI()},this.settings=e,this.eventListeners=t,this.renderUI()},Re={initialMapZoom:8,maanmittauslaitos:{selectedLayer:k.c.Taustakartta,url:{WMTSCapabilities:"https://avoin-karttakuva.maanmittauslaitos.fi/avoin/wmts/1.0.0/WMTSCapabilities.xml"}},museovirasto:{selectedLayers:Object.values(k.i),selectedMuinaisjaannosTypes:Object.values(k.h),selectedMuinaisjaannosDatings:Object.values(k.f),url:{export:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/export",identify:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/identify",find:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/find",updateDate:"https://dkfgv6jxivsxz.cloudfront.net/MV_inspire_atom.xml"}},ahvenanmaa:{selectedLayers:Object.values(k.a),url:{export:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/export",identify:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/identify",find:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/find",forminnenUpdateDate:"https://opendata.arcgis.com/api/v3/datasets?filter%5Bslug%5D=aland%3A%3Afornminnen",maritimtKulturarvUpdateDate:"https://opendata.arcgis.com/api/v3/datasets?filter%5Bslug%5D=aland%3A%3Amaritimt-kulturarv-vrak"}},models:{selectedLayers:Object.values(k.e),url:{geojson:"./3d/3d.json"}},maisemanMuisti:{selectedLayers:Object.values(k.d),url:{geojson:"./maisemanmuisti/maisemanmuisti.json"}}},Ue=function(){var e=this;this.determineStartLocation=function(){Object(H.c)()?e.setMapLocationFromURLHash():e.map.centerToCurrentPositions()},this.setMapLocationFromURLHash=function(){var t=Object(H.c)();t&&(e.map.setMapLocation(t),e.map.showSelectedLocationMarker(t))},this.updateSettings=function(t){e.settings=t,Object(H.d)(Re,e.settings)},this.settings=Object(H.b)(Re),this.map=new P(this.settings,{featuresSelected:function(t,a,n){e.ui.featuresSelected(t,a,n)},showLoadingAnimation:function(t){e.ui.showLoadingAnimation(t)},featureSearchReady:function(t){e.ui.featureSearchReady(t)},dataLatestUpdateDatesReady:function(t){e.ui.dataLatestUpdateDatesReady(t)}}),this.ui=new xe(this.settings,{searchFeatures:function(t){e.map.searchFeatures(t)},zoomIn:function(){e.map.zoomIn()},zoomOut:function(){e.map.zoomOut()},centerToCurrentPositions:function(){e.map.centerToCurrentPositions()},selectedMaanmittauslaitosLayerChanged:function(t){e.updateSettings(t),e.map.selectedMaanmittauslaitosLayerChanged(t)},selectedFeatureLayersChanged:function(t,a){e.updateSettings(t),e.map.selectedFeatureLayersChanged(t,a)},selectedMuinaisjaannosTypesChanged:function(t){e.updateSettings(t),e.map.selectedMuinaisjaannosTypesChanged(t)},selectedMuinaisjaannosDatingsChanged:function(t){e.updateSettings(t),e.map.selectedMuinaisjaannosDatingsChanged(t)},fetchDataLatestUpdateDates:function(){e.map.fetchDataLatestUpdateDates()}}),window.onhashchange=function(){e.setMapLocationFromURLHash()},this.determineStartLocation()};t.default=Ue;new Ue}});