(()=>{"use strict";var e={61810:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(23645),i=a.n(n)()((function(e){return e[1]}));i.push([e.id,"html,\nbody,\n#map {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n#map {\n  z-index: 10;\n  position: absolute;\n  left: 0px;\n  top: 0px;\n}\n\n#loading-animation {\n  z-index: 25;\n  position: absolute;\n  top: 15px;\n  right: 20px;\n}\n\n/* \n Spinner CSS from Bootstrap 4: https://github.com/twbs/bootstrap/blob/main/scss/_spinners.scss\n MIT License\n*/\n.spinner {\n  display: inline-block;\n  width: 2.2rem;\n  height: 2.2rem;\n  vertical-align: text-bottom;\n  border: 0.25em solid currentColor;\n  border-right-color: transparent;\n  border-radius: 50%;\n  -webkit-animation: spinner 0.75s linear infinite;\n  animation: spinner 0.75s linear infinite;\n}\n\n@keyframes spinner {\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n.map-button {\n  z-index: 15;\n  position: absolute;\n}\n\n#map-button-zoom-in {\n  top: 20px;\n  left: 20px;\n}\n\n#map-button-zoom-out {\n  top: 60px;\n  left: 20px;\n}\n\n#map-button-position {\n  top: 100px;\n  left: 20px;\n}\n\n#map-button-search {\n  top: 140px;\n  left: 20px;\n}\n\n#map-button-info {\n  top: 180px;\n  left: 20px;\n}\n\n#map-button-settings {\n  top: 220px;\n  left: 20px;\n}\n\n#map-button-fullscreen {\n  bottom: 10px;\n  right: 10px;\n}\n\n.page {\n  z-index: 20;\n  position: absolute;\n  top: 0px;\n  background-color: #fff;\n  height: 100%;\n  width: 100%;\n}\n\n.pageHeader {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n\n.pageHeaderText {\n  font-size: 20px;\n  font-weight: 500;\n}\n\n.pageContent {\n  height: 90%;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.page-right-visible {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: 0px;\n}\n\n.page-right-closing {\n  -webkit-transition: right 0.5s ease;\n  -moz-transition: right 0.5s ease;\n  -o-transition: right 0.5s ease;\n  transition: right 0.5s ease;\n  right: -100%;\n}\n\n.page-right-hidden {\n  right: -100%;\n  width: 0px;\n}\n\n@media (min-width: 768px) {\n  .page {\n  }\n  .page-right-hidden {\n  }\n}\n\n@media (min-width: 992px) {\n  .page {\n    width: 500px;\n  }\n  .page-right-closing {\n    right: -500px;\n  }\n}\n\n@media (min-width: 1200px) {\n  .page {\n    width: 600px;\n  }\n  .page-right-closing {\n    right: -600px;\n  }\n}\n\n@media (min-width: 1400px) {\n  .page {\n    width: 700px;\n  }\n  .page-right-closing {\n    right: -700px;\n  }\n}\n\n.sub-layer-select-checkbox-container {\n  margin-left: 20px;\n}\n\n.feature-collapse-panel-heading h6 {\n  font-size: 14px;\n  line-height: 1.3;\n  margin-top: 5px;\n  font-weight: 400;\n}\n\n.feature-icon {\n  margin-right: 5px;\n}\n\n.ol-scale-line {\n  background: rgba(255, 255, 255, 0.9);\n}\n\n.ol-scale-line-inner {\n  border: 2px solid black;\n  border-top: none;\n  color: black;\n  font-size: 13px;\n}\n\n.ol-full-screen {\n  top: initial;\n  bottom: 0.5em;\n}\n",""]);const r=i},32842:(e,t,a)=>{a(28594),a(13225);var n,i,r,s,l,u,o,c,m,p,k,d=a(70655),g=(a(12031),a(96280)),h=a(78533),f=a(98280),v=a(1908),y=a(18672),b=a(78426),E=a(25303),w=a(16892),L=a(62914),j=a(28101),M=a(12014);!function(e){e.FI="fi",e.SV="sv"}(i||(i={})),function(e){e.Maanmittauslaitos="Maanmittauslaitos",e.GTK="GTK",e.Museovirasto="Museovirasto",e.Ahvenanmaa="Ahvenanmaa",e.Models="Models",e.MaisemanMuisti="MaisemanMuisti"}(r||(r={})),function(e){e.Maastokartta="maastokartta",e.Taustakartta="taustakartta",e.Ortokuva="ortokuva"}(s||(s={})),(k=l||(l={})).Muinaisjaannokset_piste="Muinaisjaannokset_piste",k.Muinaisjaannokset_alue="Muinaisjaannokset_alue",k.Suojellut_rakennukset_piste="Suojellut_rakennukset_piste",k.Suojellut_rakennukset_alue="Suojellut_rakennukset_alue",k.RKY_alue="RKY_alue",k.RKY_piste="RKY_piste",k.RKY_viiva="RKY_viiva",k.Maailmanperinto_piste="Maailmanperinto_piste",k.Maailmanperinto_alue="Maailmanperinto_alue",(p=u||(u={})).Fornminnen="Fornminnen",p.MaritimtKulturarv="Maritimt kulturarv; Vrak",function(e){e.ModelLayer="ModelLayer"}(o||(o={})),function(e){e.MaisemanMuisti="MaisemanMuisti"}(c||(c={})),function(e){e.muinaisrannat="muinaisrannat"}(m||(m={}));var S,_,C=((n={})[l.Muinaisjaannokset_piste]=7,n[l.Muinaisjaannokset_alue]=8,n[l.Suojellut_rakennukset_piste]=2,n[l.Suojellut_rakennukset_alue]=3,n[l.RKY_alue]=4,n[l.RKY_piste]=5,n[l.RKY_viiva]=6,n[l.Maailmanperinto_piste]=9,n[l.Maailmanperinto_alue]=10,n),A=function(e){switch(e){case u.Fornminnen:return 1;case u.MaritimtKulturarv:return 5}},F=function(e){switch(e){case m.muinaisrannat:return 20}};!function(e){e["eiMääritelty"]="ei määritelty",e.alustenHylyt="alusten hylyt",e.asuinpaikat="asuinpaikat",e.hautapaikat="hautapaikat",e.kirkkorakenteet="kirkkorakenteet",e.kivirakenteet="kivirakenteet",e["kulkuväylät"]="kulkuväylät",e.kulttiJaTarinapaikat="kultti- ja tarinapaikat",e.luonnonmuodostumat="luonnonmuodostumat",e["löytöpaikat"]="löytöpaikat",e.maarakenteet="maarakenteet",e["muinaisjäännösryhmät"]="muinaisjäännösryhmät",e.puolustusvarustukset="puolustusvarustukset",e.puurakenteet="puurakenteet",e.raakaAineenHankintapaikat="raaka-aineen hankintapaikat",e.tapahtumapaikat="tapahtumapaikat",e.teollisuuskohteet="teollisuuskohteet",e.taideMuistomerkit="taide, muistomerkit",e["työJaValmistuspaikat"]="työ- ja valmistuspaikat"}(S||(S={})),function(e){e.moniperiodinen="moniperiodinen",e.esihistoriallinen="esihistoriallinen",e.kivikautinen="kivikautinen",e.varhaismetallikautinen="varhaismetallikautinen",e.pronssikautinen="pronssikautinen",e.rautakautinen="rautakautinen",e.rautakautinenJaTaiKeskiaikainen="rautakautinen ja/tai keskiaikainen",e.keskiaikainen="keskiaikainen",e.historiallinen="historiallinen",e.moderni="moderni",e.ajoittamaton="ajoittamaton",e["eiMääritelty"]="ei määritelty"}(_||(_={}));const T=function(e,t,a){var n=this;this.loadMMLWmtsCapabilitiesAndAddLayers=function(e){fetch(n.settings.maanmittauslaitos.url.WMTSCapabilities+"?api-key="+e.maanmittauslaitos.apiKey).then((function(e){return e.text()})).then((function(t){return n.addWmtsLayers(t,e)}))},this.addWmtsLayers=function(e,t){var a=(new j.Z).read(e);n.maastokarttaLayerSource=new M.Z((0,M.B)(a,{layer:s.Maastokartta})),n.taustakarttaLayerSource=new M.Z((0,M.B)(a,{layer:s.Taustakartta})),n.ortokuvaLayerSource=new M.Z((0,M.B)(a,{layer:s.Ortokuva})),[n.maastokarttaLayerSource,n.taustakarttaLayerSource,n.ortokuvaLayerSource].forEach((function(e){var a;e.setUrls((null===(a=e.getUrls())||void 0===a?void 0:a.map((function(e){return e+"api-key="+t.maanmittauslaitos.apiKey+"&"})))||[])}));var i=t.maanmittauslaitos.selectedLayer;n.mmlMaastokarttaLayer=new L.Z({source:n.maastokarttaLayerSource,visible:i===s.Maastokartta}),n.mmlTaustakarttaLayer=new L.Z({source:n.taustakarttaLayerSource,visible:i===s.Taustakartta}),n.mmlOrtokuvaLayer=new L.Z({source:n.ortokuvaLayerSource,visible:i===s.Ortokuva}),n.updateLoadingAnimationOnLayerSourceTileLoad(n.maastokarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.taustakarttaLayerSource),n.updateLoadingAnimationOnLayerSourceTileLoad(n.ortokuvaLayerSource),n.onLayersCreatedCallbackFn(n.mmlMaastokarttaLayer,n.mmlTaustakarttaLayer,n.mmlOrtokuvaLayer)},this.updateLoadingAnimationOnLayerSourceTileLoad=function(e){e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){if(n.mmlMaastokarttaLayer&&n.mmlTaustakarttaLayer&&n.mmlOrtokuvaLayer){var t=e.maanmittauslaitos.selectedLayer;n.mmlMaastokarttaLayer.setVisible(t===s.Maastokartta),n.mmlTaustakarttaLayer.setVisible(t===s.Taustakartta),n.mmlOrtokuvaLayer.setVisible(t===s.Ortokuva)}},this.settings=e,this.showLoadingAnimationFn=t,this.onLayersCreatedCallbackFn=a,this.loadMMLWmtsCapabilitiesAndAddLayers(e)};var N=a(41274),x=a(21915);const D=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new L.Z({source:n.source,extent:[65741.9087,6606901.2261,180921.4173,6747168.5691]}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.toLayerIds=function(e){return e.map(A).sort((function(e,t){return e-t}))},this.getSourceLayersParams=function(){return n.settings.ahvenanmaa.selectedLayers.length>0?"show:"+n.toLayerIds(n.settings.ahvenanmaa.selectedLayers).join(","):"hide:"+n.toLayerIds(Object.values(u)).join(",")},this.createSource=function(){var e={urls:[n.settings.ahvenanmaa.url.export],params:{layers:n.getSourceLayersParams()}},t=new N.Z(e);return t.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),t.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),t.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),t},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.identifyFeaturesAt=function(e,t,a){return(0,d.mG)(n,void 0,void 0,(function(){var n,i,r,s,l;return(0,d.Jh)(this,(function(u){switch(u.label){case 0:return(n=null===(l=this.layer)||void 0===l?void 0:l.getExtent())&&(0,x.b8)(n,e)?(i=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+this.toLayerIds(this.settings.ahvenanmaa.selectedLayers).join(","),f:"json",returnGeometry:"true"}),(r=new URL(this.settings.ahvenanmaa.url.identify)).search=String(i),[4,fetch(String(r))]):[2,Promise.resolve({results:[]})];case 1:return[4,u.sent().json()];case 2:return s=u.sent(),[2,this.addTypeAndDatingToResult(s)]}}))}))},this.findFeatures=function(e){return(0,d.mG)(n,void 0,void 0,(function(){var t,a,n;return(0,d.Jh)(this,(function(i){switch(i.label){case 0:return 0===this.settings.ahvenanmaa.selectedLayers.length?[2,{results:[]}]:(t=new URLSearchParams({searchText:e,contains:"true",searchFields:"Fornlämnings ID, Namn , Beskrivning, Topografi",layers:this.toLayerIds(this.settings.ahvenanmaa.selectedLayers).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),(a=new URL(this.settings.ahvenanmaa.url.find)).search=String(t),[4,fetch(String(a))]);case 1:return[4,i.sent().json()];case 2:return n=i.sent(),[2,this.addTypeAndDatingToResult(n)]}}))}))},this.addTypeAndDatingToResult=function(e){return(0,d.mG)(n,void 0,void 0,(function(){var t;return(0,d.Jh)(this,(function(a){switch(a.label){case 0:return[4,this.getTypeAndDatingData()];case 1:return t=a.sent(),[2,(0,d.pi)((0,d.pi)({},e),{results:e.results.map((function(e){if(e.layerName===u.Fornminnen){var a=t.get(e.attributes["Fornlämnings ID"]);if(a)return(0,d.pi)((0,d.pi)({},e),{attributes:(0,d.pi)((0,d.pi)({},e.attributes),{typeAndDating:a})})}return e}))})]}}))}))},this.getTypeAndDatingData=function(){return(0,d.mG)(n,void 0,void 0,(function(){var e;return(0,d.Jh)(this,(function(t){switch(t.label){case 0:if(this.typeAndDatingMap)return[2,this.typeAndDatingMap];e=new Map,t.label=1;case 1:return t.trys.push([1,4,,5]),[4,fetch(this.settings.ahvenanmaa.url.typeAndDating)];case 2:return[4,t.sent().json()];case 3:return t.sent().features.forEach((function(t){var a=t.properties.FornID,n=e.get(a);n?e.set(a,(0,d.pr)(n,[t.properties])):e.set(a,[t.properties])})),this.typeAndDatingMap=e,[2,e];case 4:return t.sent(),[2,e];case 5:return[2]}}))}))},this.getForminnenDataLatestUpdateDate=function(){return n.forminnenDataLatestUpdateDate?Promise.resolve(n.forminnenDataLatestUpdateDate):fetch(n.settings.ahvenanmaa.url.forminnenUpdateDate).then((function(e){return e.json()})).then(n.parseUpdatedDate).then((function(e){return n.forminnenDataLatestUpdateDate=e,e}))},this.getMaritimtKulturarvDataLatestUpdateDate=function(){return n.maritimtKulturarvDataLatestUpdateDate?Promise.resolve(n.maritimtKulturarvDataLatestUpdateDate):fetch(n.settings.ahvenanmaa.url.maritimtKulturarvUpdateDate).then((function(e){return e.json()})).then(n.parseUpdatedDate).then((function(e){return n.maritimtKulturarvDataLatestUpdateDate=e,e}))},this.parseUpdatedDate=function(e){var t,a,n=null==e?void 0:e.data,i=Array.isArray(n)&&n.length>0?null===(a=null===(t=n[0])||void 0===t?void 0:t.attributes)||void 0===a?void 0:a.modified:void 0;return i?Promise.resolve(new Date(i)):Promise.reject(new Error("Ahvenanmaan updated date not found"))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()};var P=function(e){return"kiinteä muinaisjäännös"===Z(e.attributes.laji)},I=function(e){return"muu kulttuuriperintökohde"===Z(e.attributes.laji)},O=function(e,t){return void 0===t&&(t=!1),"images/"+e+(t?"_3d":"")+".png"},K=function(e){switch(e){case l.Muinaisjaannokset_piste:return["images/muinaisjaannos_kohde.png","images/muu_kulttuuriperintokohde_kohde.png"];case l.Muinaisjaannokset_alue:return["images/muinaisjaannos_alue.png","images/muu-kulttuuriperintokohde-alue.png"];case l.RKY_alue:return["images/rky_alue.png"];case l.RKY_viiva:return["images/rky_viiva.png"];case l.RKY_piste:return["images/rky_piste.png"];case l.Maailmanperinto_alue:return["images/maailmanperinto_alue.png"];case l.Maailmanperinto_piste:return["images/maailmanperinto_piste.png"];case l.Suojellut_rakennukset_alue:return["images/rakennusperintorekisteri_alue.png"];case l.Suojellut_rakennukset_piste:return["images/rakennusperintorekisteri_rakennus.png"];case u.Fornminnen:return["images/ahvenanmaa_muinaisjaannos.png"];case u.MaritimtKulturarv:return["images/ahvenanmaa_hylky.png"];case o.ModelLayer:return["images/3d_malli_circle.png","images/3d_malli_square.png"];case c.MaisemanMuisti:return["images/maiseman-muisti.png"]}},R=function(e){switch(e.layerName){case l.Muinaisjaannokset_piste:case l.Muinaisjaannokset_alue:return e.attributes.mjtunnus;case l.RKY_alue:case l.RKY_viiva:case l.RKY_piste:return e.attributes.ID;case l.Maailmanperinto_alue:case l.Maailmanperinto_piste:return e.attributes.OBJECTID;case l.Suojellut_rakennukset_alue:case l.Suojellut_rakennukset_piste:return e.attributes.kohdeID;case u.Fornminnen:return e.attributes["Fornlämnings ID"];case u.MaritimtKulturarv:return e.attributes.FornID}},U=function(e,t){return t?t.filter((function(e){return e.properties.registryItem.type===l.Muinaisjaannokset_piste})).filter((function(t){return t.properties.registryItem.id===e.properties.id})):[]},Z=function(e){return e?"null"===(e=e.trim()).toLowerCase()?"":e.split(", ").map((function(e){return e.trim()})).filter((function(e){return!!e})).map((function(e){return e.replace(",","")})).filter((function(e){return!!e})).join(", "):""};const G=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new L.Z({source:n.source}),n.layer.setOpacity(.7),n.onLayerCreatedCallbackFn(n.layer)},this.createSource=function(){var e=new N.Z({urls:[n.settings.museovirasto.url.export],params:{layers:n.getSourceLayerSelectionSettings(),layerDefs:n.getSourceLayerDefinitionFilterParams()}});return e.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),e.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),e.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),e},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source))},this.getSourceLayerSelectionSettings=function(){if(Object.values(l).length!==n.settings.museovirasto.selectedLayers.length){var e=n.toLayerIds(n.settings.museovirasto.selectedLayers);return e.length>0?"show:"+e.join(","):"show:-1"}},this.getSourceLayerDefinitionFilterParams=function(){var e=[],t=n.settings.museovirasto.selectedMuinaisjaannosTypes;if(t.length>0&&t.length!=Object.values(S).length){var a=t.sort().map((function(e){return"tyyppi LIKE '%"+e+"%'"})).join(" OR ");e.push("("+a+")")}0===t.length&&e.push("(tyyppi LIKE 'NONE')");var i=n.settings.museovirasto.selectedMuinaisjaannosDatings;if(i.length>0&&i.length!=Object.values(_).length&&(a=i.sort().map((function(e){return"ajoitus LIKE '%"+e+"%'"})).join(" OR "),e.push("("+a+")")),0===i.length&&e.push("(ajoitus LIKE 'NONE')"),e.length>0)return C[l.Muinaisjaannokset_piste]+":"+e.join(" AND ")},this.toLayerIds=function(e){return e.map((function(e){return C[e]})).sort((function(e,t){return e-t}))},this.selectedFeatureLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.selectedMuinaisjaannosTypesChanged=function(e){n.settings=e,n.updateLayerSource()},this.selectedMuinaisjaannosDatingsChanged=function(e){n.settings=e,n.updateLayerSource()},this.identifyFeaturesAt=function(e,t,a){return(0,d.mG)(n,void 0,void 0,(function(){var n,i,r,s;return(0,d.Jh)(this,(function(l){switch(l.label){case 0:return n=this.settings.museovirasto.selectedLayers.length>0?this.toLayerIds(this.settings.museovirasto.selectedLayers):[-1],i=new URLSearchParams({geometry:e.join(","),geometryType:"esriGeometryPoint",tolerance:"10",imageDisplay:t.join(",")+",96",mapExtent:a.join(","),layers:"visible:"+n.join(","),f:"json",returnGeometry:"true"}),(r=new URL(this.settings.museovirasto.url.identify)).search=String(i),[4,fetch(String(r))];case 1:return[4,l.sent().json()];case 2:return s=l.sent(),[2,this.trimAnsSplitMultivalueFields(s)]}}))}))},this.findFeatures=function(e){return(0,d.mG)(n,void 0,void 0,(function(){var t,a,n,i,r,s;return(0,d.Jh)(this,(function(u){switch(u.label){case 0:return(t=this.settings.museovirasto.selectedLayers).includes(l.Muinaisjaannokset_alue)&&(t=t.filter((function(e){return e!==l.Muinaisjaannokset_alue}))),0===t.length?[2,{results:[]}]:(a="Kohdenimi, Nimi, KOHDENIMI",n="true",isNaN(parseInt(e))||(a="mjtunnus, kohdeID, ID",n="false"),i=new URLSearchParams({searchText:e,contains:n,searchFields:a,layers:this.toLayerIds(t).join(","),f:"json",returnGeometry:"true",returnZ:"false"}),(r=new URL(this.settings.museovirasto.url.find)).search=String(i),[4,fetch(String(r))]);case 1:return[4,u.sent().json()];case 2:return s=u.sent(),[2,this.trimAnsSplitMultivalueFields(s)]}}))}))},this.trimAnsSplitMultivalueFields=function(e){return(0,d.mG)(n,void 0,void 0,(function(){var t;return(0,d.Jh)(this,(function(a){return[2,(0,d.pi)((0,d.pi)({},e),{results:null===(t=e.results)||void 0===t?void 0:t.map((function(e){return e.layerName===l.Muinaisjaannokset_piste?(0,d.pi)((0,d.pi)({},e),{attributes:(0,d.pi)((0,d.pi)({},e.attributes),{tyyppiSplitted:Z(e.attributes.tyyppi).replace("taide, muistomerkit","taide-muistomerkit").split(", ").map((function(e){return"taide-muistomerkit"===e?"taide, muistomerkit":e})),ajoitusSplitted:Z(e.attributes.ajoitus).split(", "),alatyyppiSplitted:Z(e.attributes.alatyyppi).replace("rajamerkit, puu","rajamerkit-puu").split(", ").map((function(e){return"rajamerkit-puu"===e?"rajamerkit, puu":e}))})}):e}))})]}))}))},this.getDataLatestUpdateDate=function(){return n.dataLatestUpdateDate?Promise.resolve(n.dataLatestUpdateDate):fetch(n.settings.museovirasto.url.updateDate).then((function(e){return e.text()})).then((function(e){return(new DOMParser).parseFromString(e,"text/xml")})).then(n.parseSuunnitteluaineistoUpdatedDate)},this.parseSuunnitteluaineistoUpdatedDate=function(e){var t;return e.querySelectorAll("entry").forEach((function(e){var a,n;"http://paikkatieto.nba.fi/aineistot/suunnitteluaineisto"===(null===(a=e.querySelector("id"))||void 0===a?void 0:a.textContent)&&(t=null===(n=e.querySelector("updated"))||void 0===n?void 0:n.textContent)})),t?(n.dataLatestUpdateDate=new Date(t),Promise.resolve(n.dataLatestUpdateDate)):Promise.reject(new Error("Museovirasto updated date not found"))},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()};var B=a(91934),V=a(3871),$=a(98185),z=a(20767),Y=a(9371),H=a(31219),J=a(8732),W=a(23068),q=a(52043);const Q=function(){var e=this;this.addCurrentPositionMarker=function(t){if(e.currentPositionFeature)e.currentPositionFeature.setGeometry(new q.Z(t));else{var a=new $.Z({color:"rgba(0, 0, 255, 1.0)"}),n=new z.Z({color:"rgba(255, 255, 255, 1.0)",width:3});e.currentPositionFeature=new W.Z({geometry:new q.Z(t)}),e.currentPositionFeature.setStyle(new H.ZP({image:new Y.Z({fill:a,stroke:n,radius:7}),fill:a,stroke:n})),e.source.addFeature(e.currentPositionFeature)}},this.addSelectedLocationFeatureMarker=function(t){e.selectedLocationFeature?e.selectedLocationFeature.setGeometry(new q.Z(t)):(e.selectedLocationFeature=new W.Z({geometry:new q.Z(t)}),e.selectedLocationFeature.setStyle(new H.ZP({image:new J.Z({src:"images/map-pin.png",anchor:[.5,1]})})),e.source.addFeature(e.selectedLocationFeature))},this.getLayer=function(){return e.layer},this.source=new V.Z({}),this.layer=new B.Z({source:this.source})};var X=a(18663),ee=a(15821);const te=function(){var e=this;this.featuresForRegisterId=new Map,this.fetchGeoJson=function(t){return(0,d.mG)(e,void 0,void 0,(function(){return(0,d.Jh)(this,(function(e){switch(e.label){case 0:return[4,fetch(t.models.url.geojson)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},this.styleForFeature=function(t){var a;switch(null===(a=t.getGeometry())||void 0===a?void 0:a.getType()){case"Point":var n=t.getProperties();return n.registryItem.type===l.Muinaisjaannokset_piste?e.stylePointCircle:n.registryItem.type===l.Suojellut_rakennukset_piste?e.stylePointSquare:e.stylePointCircle;case"Polygon":return e.stylePolygon;default:return e.stylePointCircle}},this.createLayer=function(t){return(0,d.mG)(e,void 0,void 0,(function(){var e,a=this;return(0,d.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.fetchGeoJson(t)];case 1:return(e=n.sent()).features.forEach((function(e){var t=e.properties.registryItem.id.toString(),n=a.featuresForRegisterId.get(t);n?n.push(e):a.featuresForRegisterId.set(t,[e])})),this.source=new V.Z({features:(new ee.Z).readFeatures(e)}),this.layer=new B.Z({source:this.source,visible:t.models.selectedLayers.length>0,style:this.styleForFeature}),[2,this.layer]}}))}))},this.getFeaturesForFeatureRegisterId=function(t,a){return(e.featuresForRegisterId.get(t)||[]).filter((function(e){return e.properties.registryItem.type===a}))},this.addFeaturesForArgisFeature=function(t){return(0,d.pi)((0,d.pi)({},t),{models:e.getFeaturesForFeatureRegisterId(R(t),t.layerName)})},this.selectedFeatureLayersChanged=function(t){var a;null===(a=e.layer)||void 0===a||a.setVisible(t.models.selectedLayers.length>0)},this.getLayer=function(){return e.layer},this.getDataLatestUpdateDate=function(t){return(0,d.mG)(e,void 0,void 0,(function(){return(0,d.Jh)(this,(function(e){switch(e.label){case 0:return this.dataLatestUpdateDate?[2,Promise.resolve(this.dataLatestUpdateDate)]:[4,this.fetchGeoJson(t)];case 1:return[2,(a=e.sent().features,n=a.map((function(e){return new Date(e.properties.createdDate).getTime()})),n=Array.from(new Set(n)),new Date(Math.max.apply(null,n)))]}var a,n}))}))},this.stylePointCircle=new H.ZP({image:new Y.Z({stroke:new z.Z({color:"black",width:2}),radius:7})}),this.stylePointSquare=new H.ZP({image:new X.Z({stroke:new z.Z({color:"black",width:2}),points:4,radius:7,angle:Math.PI/4})}),this.stylePolygon=new H.ZP({stroke:new z.Z({color:"black",width:4}),fill:new $.Z({color:"rgba(255, 255, 255, 0.01)"})})},ae=function(){var e=this;this.featuresForRegisterId=new Map,this.fetchGeoJson=function(t){return(0,d.mG)(e,void 0,void 0,(function(){return(0,d.Jh)(this,(function(e){switch(e.label){case 0:return[4,fetch(t.maisemanMuisti.url.geojson)];case 1:return[4,e.sent().json()];case 2:return[2,e.sent()]}}))}))},this.createLayer=function(t){return(0,d.mG)(e,void 0,void 0,(function(){var e,a=this;return(0,d.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.fetchGeoJson(t)];case 1:return(e=n.sent()).features.forEach((function(e){var t=e.properties.id.toString(),n=a.featuresForRegisterId.get(t);n?n.push(e):a.featuresForRegisterId.set(t,[e])})),this.source=new V.Z({features:(new ee.Z).readFeatures(e)}),this.layer=new B.Z({source:this.source,style:this.style,visible:t.maisemanMuisti.selectedLayers.length>0}),[2,this.layer]}}))}))},this.getFeaturesForFeatureRegisterId=function(t){return e.featuresForRegisterId.get(t)||[]},this.addFeaturesForArgisFeature=function(t){return(0,d.pi)((0,d.pi)({},t),{maisemanMuisti:e.getFeaturesForFeatureRegisterId(R(t))})},this.selectedFeatureLayersChanged=function(t){var a;null===(a=e.layer)||void 0===a||a.setVisible(t.maisemanMuisti.selectedLayers.length>0)},this.getLayer=function(){return e.layer},this.style=new H.ZP({image:new X.Z({fill:new $.Z({color:"#f1615b"}),stroke:new z.Z({color:"black",width:1}),points:5,radius:15,radius2:8,angle:0})})},ne=function(e,t,a){var n=this;this.addLayer=function(){n.source=n.createSource(),n.layer=new L.Z({source:n.source,visible:n.settings.gtk.selectedLayers.length>0}),n.layer.setOpacity(n.settings.gtk.opacity),n.onLayerCreatedCallbackFn(n.layer)},this.toLayerIds=function(e){return e.map(F).sort((function(e,t){return e-t}))},this.getSourceLayersParams=function(){return n.settings.gtk.selectedLayers.length>0?"show:"+n.toLayerIds(n.settings.gtk.selectedLayers).join(","):"hide:"+n.toLayerIds(Object.values(m)).join(",")},this.createSource=function(){var e={urls:[n.settings.gtk.url.export],params:{layers:n.getSourceLayersParams()}},t=new N.Z(e);return t.on("tileloadstart",(function(e){n.showLoadingAnimationFn(!0)})),t.on("tileloadend",(function(e){n.showLoadingAnimationFn(!1)})),t.on("tileloaderror",(function(e){n.showLoadingAnimationFn(!1)})),t},this.updateLayerSource=function(){n.layer&&(n.source=n.createSource(),n.layer.setSource(n.source),n.layer.setVisible(n.settings.gtk.selectedLayers.length>0))},this.selectedGTKLayersChanged=function(e){n.settings=e,n.updateLayerSource()},this.opacityChanged=function(e){n.settings=e,n.layer&&n.layer.setOpacity(n.settings.gtk.opacity)},this.settings=e,this.showLoadingAnimationFn=t,this.onLayerCreatedCallbackFn=a,this.addLayer()},ie=function(e,t){var a=this;this.getFeaturesAtPixelAtGeoJsonLayer=function(e,t){return a.map.getFeaturesAtPixel(e,{layerFilter:function(e){return e===t},hitTolerance:10}).map((function(e){var t,a=null===(t=e.getGeometry())||void 0===t?void 0:t.getExtent();return{type:"Feature",geometry:{type:"Point",coordinates:[a[0],a[1]]},properties:(0,d.pi)({},e.getProperties())}}))},this.loadFeaturesOnClickedCoordinate=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.map.getSize();if(t){var n=a.ahvenanmaaTileLayer.identifyFeaturesAt(e.coordinate,t,a.map.getView().calculateExtent(t)),i=a.museovirastoTileLayer.identifyFeaturesAt(e.coordinate,t,a.map.getView().calculateExtent(t)),r=a.getFeaturesAtPixelAtGeoJsonLayer(e.pixel,a.modelsLayer.getLayer()),s=a.getFeaturesAtPixelAtGeoJsonLayer(e.pixel,a.maisemanMuistiLayer.getLayer());Promise.all([n,i]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results).map((function(e){return a.modelsLayer.addFeaturesForArgisFeature(e)})).map((function(e){return a.maisemanMuistiLayer.addFeaturesForArgisFeature(e)}));a.eventListeners.featuresSelected(i,r,s.filter((function(e){var t=e.properties.id.toString();return!i.some((function(e){return e.layerName===l.Muinaisjaannokset_piste&&e.attributes.mjtunnus===t}))})))}))}},this.initGeolocation=function(){a.geolocation=new w.Z({projection:a.view.getProjection(),tracking:!0,trackingOptions:{enableHighAccuracy:!0}}),a.geolocation.once("change:position",a.centerToCurrentPositions),a.geolocation.on("change:position",a.geolocationChanged)},this.geolocationChanged=function(){var e,t=null===(e=a.geolocation)||void 0===e?void 0:e.getPosition();t&&a.positionAndSelectedLocation.addCurrentPositionMarker(t)},this.zoom=function(e){var t=a.view.getZoom();t&&a.view.animate({zoom:t+e,duration:250})},this.selectedFeatureLayersChanged=function(e,t){switch(t){case r.GTK:a.gtkLayer.selectedGTKLayersChanged(e);break;case r.Museovirasto:a.museovirastoTileLayer.selectedFeatureLayersChanged(e);break;case r.Ahvenanmaa:a.ahvenanmaaTileLayer.selectedFeatureLayersChanged(e);break;case r.Models:a.modelsLayer.selectedFeatureLayersChanged(e);break;case r.MaisemanMuisti:a.maisemanMuistiLayer.selectedFeatureLayersChanged(e)}},this.selectedMuinaisjaannosTypesChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosTypesChanged(e)},this.selectedMuinaisjaannosDatingsChanged=function(e){a.museovirastoTileLayer.selectedMuinaisjaannosDatingsChanged(e)},this.searchFeatures=function(e){a.eventListeners.showLoadingAnimation(!0);var t=a.ahvenanmaaTileLayer.findFeatures(e),n=a.museovirastoTileLayer.findFeatures(e);Promise.all([t,n]).then((function(e){var t=e[0],n=e[1];a.eventListeners.showLoadingAnimation(!1);var i=t.results.concat(n.results).map((function(e){return a.modelsLayer.addFeaturesForArgisFeature(e)})).map((function(e){return a.maisemanMuistiLayer.addFeaturesForArgisFeature(e)}));a.eventListeners.featureSearchReady(i)}))},this.selectedMaanmittauslaitosLayerChanged=function(e){a.maanmittauslaitosTileLayer.selectedMaanmittauslaitosLayerChanged(e)},this.gtkLayerOpacityChanged=function(e){a.gtkLayer.opacityChanged(e)},this.setMapLocation=function(e){a.view.setCenter(e)},this.centerToCurrentPositions=function(){if(a.geolocation&&a.geolocation.getPosition()){var e=a.geolocation.getPosition();a.view.setCenter(e)}else a.initGeolocation()},this.showSelectedLocationMarker=function(e){a.positionAndSelectedLocation.addSelectedLocationFeatureMarker(e)},this.zoomIn=function(){a.zoom(1)},this.zoomOut=function(){a.zoom(-1)},this.fetchDataLatestUpdateDates=function(e){Promise.all([a.museovirastoTileLayer.getDataLatestUpdateDate(),a.ahvenanmaaTileLayer.getForminnenDataLatestUpdateDate(),a.ahvenanmaaTileLayer.getMaritimtKulturarvDataLatestUpdateDate(),a.modelsLayer.getDataLatestUpdateDate(e)]).then((function(e){var t=e[0],n=e[1],i=e[2],r=e[3];a.eventListeners.dataLatestUpdateDatesReady({museovirasto:t,ahvenanmaaForminnen:n,ahvenanmaaMaritimtKulturarv:i,models:r})})).catch((function(){return a.eventListeners.dataLatestUpdateDatesReady({museovirasto:null,ahvenanmaaForminnen:null,ahvenanmaaMaritimtKulturarv:null,models:null})}))},this.eventListeners=t,g.Z.defs("EPSG:3067","+proj=utm +zone=35 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),(0,v.z)(g.Z),(0,y.U2)("EPSG:3067").setExtent([50199.4814,6582464.0358,761274.6247,7799839.8902]),this.view=new f.ZP({center:[385249.63630000036,6672695.7579],projection:"EPSG:3067",zoom:e.initialMapZoom,enableRotation:!1});var n=new E.Z({units:"metric"});this.map=new h.Z({target:"map",view:this.view,controls:new b.Z([n])}),this.maanmittauslaitosTileLayer=new T(e,t.showLoadingAnimation,(function(e,t,n){a.map.getLayers().insertAt(0,e),a.map.getLayers().insertAt(1,t),a.map.getLayers().insertAt(2,n)})),this.gtkLayer=new ne(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(3,e)})),this.ahvenanmaaTileLayer=new D(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(4,e)})),this.museovirastoTileLayer=new G(e,t.showLoadingAnimation,(function(e){a.map.getLayers().insertAt(5,e)})),this.maisemanMuistiLayer=new ae,this.modelsLayer=new te,this.positionAndSelectedLocation=new Q,Promise.all([this.maisemanMuistiLayer.createLayer(e),this.modelsLayer.createLayer(e)]).then((function(e){var t=e[0],n=e[1];a.map.getLayers().insertAt(6,t),a.map.getLayers().insertAt(7,n),a.map.getLayers().insertAt(8,a.positionAndSelectedLocation.getLayer())})),this.map.on("singleclick",this.loadFeaturesOnClickedCoordinate)};a(14039);var re=a(93379),se=a.n(re),le=a(61810);se()(le.Z,{insert:"head",singleton:!1}),le.Z.locals;var ue=a(67294),oe=a(73935),ce=a(58796),me=a(68718),pe=a(13400);const ke=JSON.parse('{"common":{"button":{"close":"Stäng","zoomOut":"Zooma ut","zoomIn":"Zooma in","settings":"Inställningar","search":"Sök objekt","info":"Hjälp och anvisningar","positioning":"Visa position","fullscreen":"Fullskärmsläge"},"features":{"Alue":"Område","Viiva":"Linje (t.ex. väg)","Rakennettu alue":"Bebyggd miljö","Rakennus":"Byggnad","Kohde":"Objekt","3D-malli":"3D-modell","Valtakunnallisesti merkittävä muinaisjäännös":"Fast fornlämning av riksomfattande betydelse"},"organization":{"Museovirasto":"Museiverket","Ahvenamaan paikallishallinto":"Ålands landskapsregering"}},"info":{"title":"Information om webbsidan","dataUpdates":{"title":"Senast uppdaterad","Museoviraston aineistot":"Museiverkets material","loading":"Information hämtas...","error":"Informationen inte tillgänglig"},"symbols":"Teckenförklaring","siteInfo":{"title":"Information om webbsidan","registerInfo":"På webbsidan kan du visa följande registeruppgifter på karta","info1":"Alla objekt är öppet data och hämtas från respektive organisations karttjänst.","info2":"Klicka på objekt på kartan för mera information. Information inkluderar länk till organisationens webbsida. Från symbolen vid objektnamn (ICON) sparas länk till objektet.","3DModelsInfo":"Vissa objekt är försedda med 3D-modeller från <a href=\'./3d/\' target=\'_blank\'>en databas</a>, som sammanställer modeller från privata och offentliga aktörer (museer, Museiverket, Ålands landskapsregering) i <a href=\'https://sketchfab.com\' target=\'_blank\'>Sketchfab</a> -tjänsten.","positioningTitle":"Lokalisering","positioningInfo":"Kartvyn öppnar din position om du tillåter åtkomst till platsdata. Visa position genom att klicka på ICON.","searchTitle":"Sökning","searchInfo":"Objekt i Museiverkets register går att söka enligt namn i sökrutan (SEARCH_ICON). Genom att klicka på sökresultat visar kartvyn objektet med platsnotering PIN_ICON.","settingsTitle":"Inställningar","settingsInfo":"Byt kartlager mellan bakgrunskarta och terrängkarta på inställningar (ICON). Objekt kan från Museiverkets register kan döljas enligt typ och datering. Detta möjliggör sökningar till exempel på fornlämningar från järnålder.","feedbackTitle":"Respons","feedbackInfo":"Lämna respons om webbplatsen till adressen <a href=\'mailto:antti.kekki@gmail.com\'>antti.kekki@gmail.com</a>","developersTitle":"Utvecklare","developersInfo":"Kodning: Antti Kekki<br/>Översättningar: Jenni Lucenius och Mikko Helminen"},"licences":{"title":"Öppet data, licenser och källkod","museovirasto":"Museiverkets registerdata hämtas från <a href=\'https://www.museovirasto.fi/fi/palvelut-ja-ohjeet/tietojarjestelmat/kulttuuriympariston-tietojarjestelmat/kulttuuriympaeristoen-paikkatietoaineistot\'>öppet WMS-gränsnitt</a> (platsdata har publicerats med licensen <a href=\'https://creativecommons.org/licenses/by/4.0/\'>Creative Commons CC By 4.0</a>).","ahvenanmaa":"Ålands landskapsregerings register hämtas från <a href=\'https://www.kartor.ax/datasets\'>öppet WMS-gränsnitt</a> (platsdata har publicerats med licensen <a href=\'https://creativecommons.org/licenses/by/4.0/\'>Creative Commons CC By 4.0</a>).","maanmittauslaitos":"Bakgrundskarta, flygfoto och terrängskarta hämtas från Lantmäteriverkets <a href=\'https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17\'>öppet WMS-gränsnitt</a> (platsdata har publicerats med licensen <a href=\'https://creativecommons.org/licenses/by/4.0/\'>Creative Commons CC By 4.0</a>).","gtk":"Materialet över fornstränder hämtas från Geologiska forskningscentralens <a href=\'https://www.gtk.fi/palvelut/aineistot-ja-verkkopalvelut/rajapintapalvelut/maapera-karttatasot-wms-rajapinnassa/\'>öppet WMS-gränssnitt</a> (platsdata har publicerats med <a href=\'https://www.gtk.fi/sv/grundlicens/\'>grundlicens</a>, tillstånd för användning av materialet beviljades 15.1.2021).","maisemanmuisti":"Platsdata från boken Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset hämtas från <a href=\'./maisemanmuisti/\'>en databas</a> som sammanställer samtliga 205 objekt i boken. Upphovsrätten till boken tillhör Museiverket, som har godkänt att informationen används.","3DModels":"3D-modeller hämtas från öppen <a href=\'./3d/\'>databas</a>, som sammanställer modeller från privata och offentliga aktörer (museer, Museiverket, Ålands landskapsregering). Licensuppgifter över modellerna har sammanställts enligt respektive modell i databasen.","sourceCode":"Denna webbplats använder <a href=\'https://github.com/anttikekki/muinaismuistot\'>öppen källkod</a> av licensen <a href=\'https://github.com/anttikekki/muinaismuistot/blob/master/LICENSE\'>MIT</a>."}},"settings":{"title":"Inställningar","mml":{"title":"Lantmäteriverkets material","maastokartta":"Terrängkarta","taustakartta":"Bakgrundskarta","ortokuva":"Flygfoto","licence":"Bakgrundskarta (raster), terrängskarta (raster), ortofoto © Lantmäteriverket 2021"},"gtk":{"title":"Geologiska forskningscentralens material","transparency":"Transparens (%)","licence":"GTK Jordmån/Fornstränder © Geologiska forskningscentralen 2021"},"museovirasto":{"title":"Museiverkets registerdata","licence":"Material om kulturmiljön © Museiverket 2021"},"ahvenanmaa":{"title":"Ålands landskapsregerings registerdata","licence":"Fornminnen © Ålands landskapsregering 2021"},"other":{"title":"Andra källor"},"filters":{"title":"Fasta fornlämningar","info":"Avgränsningen går endast att tillämpa för punktobjekt i Museiverkets fornminnesregister (PISTE_ICONS), inte för areamarkeringar (ALUE_ICONS). Avgränsningen går inte att tillämpa för objekt i Ålands landskapsregerings register.","type":"Typ","dating":"Datering"}},"search":{"title":"Sök objekt","info":"Du kan söka med objektnamn (t.ex. Turun linna) eller objektets register-id (t.ex. 200284 eller Sa 14.1)","placeholder":"Sök med namn eller beskrivning","searchButton":"Sök","error":"Sökord behöver innehålla minst tre tecken"},"details":{"title":"Valda objekt","finnishHeritageAgencyMoreInfoLink":"Mera information om objektet hittar du på Museiverkets <a href=\'{{url}}\' target=\'_blank\'>{{ registerName }}</a>.","registerLink":{"fromMuinaisjaannos":"Fornlämningsregister","fromRKY":"Register över byggda kulturmiljöer av riksintresse (RKY) på rky.fi","fromMaailmanperinto":"Museiverkets hemsida","fromRakennusperintö":"Register över byggnadsarv"},"field":{"id":"Objekt-id","feature":"Objekt","name":"Namn","featureName":"Objektnamn","buildingName":"Byggnadens namn","municipality":"Kommun","region":"Landskap","village":"By","description":"Beskrivning","location":"Lägesinformation","type":"Typ","subType":"Undertyp","dating":"Datering","typeAndDating":"Typ och datering","mainCategory":"Huvudkategori","subCategory":"Undertyp","mainEra":"Tidsålder","period":"Period","featureCount":"Antal","precision":"Precision","legislation":"Lagstiftning","featureType":"Skyddsstatus","protectionGroup":"Skyddskategori"},"3d":{"title":"3D-modeller över objektet","infoHeading":"Information om 3D-modeller","infoText1":"Dessa 3D-modeller hämtas från <a href=\'./3d/\' target=\'_blank\'>en databas</a>, som sammanställer modeller från privata och offentliga aktörer (museer, Museiverket, Ålands landskapsregering) i <a href=\'https://sketchfab.com\' target=\'_blank\'>Sketchfab</a>-tjänsten.","infoText2":"Modellen öppnas genom att klicka pilen. Modellen öppnats som helsida genom att trycka bokstaven <kbd>f</kbd> på tangentbordet eller genom att klicka på symbolen nere till höger","controls":{"title":"Rotera modellen","rotateTitle":"Rotera","rotate":"håll ned vänster knapp och flytta på musen. På pekskärm svep fingret samtidigt som du trycker på skärmen.","zoomTitle":"Zooma in och ut","zoom":"rulla bläddringshjulet på musen. På pekskärm placera tummen och pekfingret på skärmen och dra sedan isär fingrarna för att zooma ut skärmen.","focusTitle":"Ändra position","focus":"håll ned höger knapp och flytta på musen. På pekskärm placera två fingrar på skärmen och dra sedan fingrarna i samma riktning."}}},"data":{"register":{"Muinaisjäännösrekisteri":"Fornlämningsregister","Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt":"Byggda kulturmiljöer av riksintresse (RKY)","Maailmanperintökohteet":"Världsarv","Rakennusperintörekisteri":"Register över byggnadsarv","Ahvenamaan muinaisjäännösrekisteri":"Fornminnesregister för Åland","Ahvenamaan merellinen kulttuuriperintörekisteri":"Register över maritimt kulturarv på Åland","3Dmodels":"3D-modeller (<a href=\'./3d/\' target=\'_blank\'>information</a>)","maisemanMuisti":"Boken Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset (<a href=\'./maisemanmuisti/\' target=\'_blank\'>information</a>)"},"featureType":{"Kiinteä muinaisjäännös":"Fast fornlämning","Muu kulttuuriperintökohde":"Övrigt kulturarvsobjekt","Kiinteä muinaisjäännös (alue)":"Fast fornlämning (område)","Muu kulttuuriperintökohde (alue)":"Övrigt kulturarvsobjekt (område)","Valtakunnallisesti merkittävä muinaisjäännös":"Fast fornlämning av riksomfattande betydelse","Rakennettu kulttuuriympäristö":"Bebyggd kulturmiljö","Maailmanperintökohde":"Världsarvs","Rakennusperintökohde":"Byggandsarv","Ahvenanmaan muinaisjäännösrekisterin kohde":"Fast fornlämning i fornminnesregister för Åland","Ahvenamaan merellisen kulttuuriperintörekisterin kohde":"Objekt i register över maritimt kulturarv på Åland"},"timespan":{"prehistoric":"8600 f.v.t. - 1200 e.v.t.","historic":"1200 e.v.t. -","stoneAge":"8600 – 1500 f.v.t.","earlyMetalAge":"1500 f.v.t. - 200 e.v.t.","bronzeAge":"1700 – 500 f.v.t.","ironAge":"500 f.v.t. - 1200 e.v.t.","middleAge":"1200 - 1570 e.v.t.","modern":"1800 e.v.t. -"},"gtk":{"layer":{"muinaisrannat":"Fornstränder (<a href=\'https://tupa.gtk.fi/paikkatieto/meta/ancient_shorelines.html\' target=\'_blank\'>information</a>)"},"feature":{"supra-akvaattinen":"Supraakvatiskt, dvs. yta som efter istiden blivit ovan havsytan","yoldia":"Yta som täckts av Yoldiahavet eller Ancylussjön (11 600 - 7 200 f.v.t.)","litorina":"Yta som täckts av Litorinahavet (8 500 – 4 000 f.v.t.)"}},"museovirasto":{"dating":{"ajoittamaton":"odaterad","ei määritelty":"ej definierad","esihistoriallinen":"förhistorisk","historiallinen":"historisk","keskiaikainen":"medeltida","kivikautinen":"stenålder","moderni":"modern","moniperiodinen":"mångperiodisk","pronssikautinen":"bronsålder","rautakautinen ja/tai keskiaikainen":"järnålder och/eller medeltida","rautakautinen":"järnålder","varhaismetallikautinen":"tidig metallålder"},"type":{"alusten hylyt":"fartygsvrak","asuinpaikat":"boplatser","ei määritelty":"ej definierad","hautapaikat":"gravplatser","kirkkorakenteet":"kyrkobyggnader","kivirakenteet":"stenkonstruktioner","kulkuväylät":"färdvägar","kultti- ja tarinapaikat":"kult- och berättelseplatser","luonnonmuodostumat":"naturformationer","löytöpaikat":"fyndplatser","maarakenteet":"markkonstruktioner","muinaisjäännösryhmät":"fornlämningsgrupper","puolustusvarustukset":"försvarsverk","puurakenteet":"träkonstruktioner","raaka-aineen hankintapaikat":"förvärvsplatser för råmaterial","tapahtumapaikat":"händelseplatser","teollisuuskohteet":"industriobjekt","taide, muistomerkit":"konst, minnesmärken","työ- ja valmistuspaikat":"arbets- och tillverkningsplatser"},"subtype":{"aallonmurtajat":"vågbrytare","aidat":"gärden","ammusvarastot":"ammunitionslager","asumuspainanteet":"bostadsgropar","ei määritelty":"ej definierad","eräsijat":"vildmarksvisten","haaksirikkopaikat":"skeppsbrottsplatser","hakkaukset":"inhuggningar","hangakset":"stängslen","hautakammiot":"gravkamrar","hautakummut":"gravhögar","hautaröykkiöt":"gravrösen","hautasaaret":"gravöar","hautausmaat":"gravgårdar","hiekanottokuopat":"sandtäktsgropar","hiilimiilut":"kolmilor","hirsivarustukset":"stockbefästningar","hospitaalit ja sairaalat":"hospital och sjukhus","hylyt (metalli)":"vrak (metall)","hylyt (puu)":"vrak (trä)","höyrysahat":"ångsågar","irtolöytöpaikat":"lösfyndsplatser","jatulintarhat":"stenlabyrinter","joukkohaudat":"massgravar","jätinkirkot":"jättekyrkor","kaivannot":"nedgrävningar","kaiverrukset":"inristningar","kaivokset":"gruvor","kaivot":"brunnar","kalastuspaikat":"fiskeplatser","kalkkiuunit":"kalkugnar","kalliomaalaukset":"hällmålningar","kalliopiirrokset":"hällristningar","kanavat":"kanaler","kapulatiet":"kavelvägar","karsikkopaikat":"minnesträd (fi. karsikkopaikat)","kartanot":"herrgårdar","kaskiröykkiöt":"svedjerösen","kaupungit":"städer","keittokuopat":"kokgropar","kellarit":"källare","kellotapulinpaikat":"klockstapelplaser","kentät (gieddi)":"samiska boplatser (gieddi)","keramiikkatehtaat":"keramikfabrik","kestikievarit":"gästgiverier","kesähaudat":"sommargravar","kiinnitysrenkaat":"förtöjningsringar","kirkkohaudat":"kyrkogravar","kirkkomaat":"gravgårdsgärden","kirkonpaikat":"kyrkoplatser","kirkonrauniot":"kyrkoruiner","kiukaat":"spisar","kiviaidat":"stengärden","kivilatomukset":"stensättningar","kivilinnat":"stenborgar","kivimuurit":"stenmurar","kivipöydät":"uppallade block","kivivallit":"stenvallar","kivivarustukset":"stenbefästningar","kodanpohjat":"kåtabottnar","kompassiruusut":"kompassrosor","kullanhuuhdonnan jäännökset":"lämningar av guldvaskning","kummelit":"kummel","kummut":"högar","kuninkaankartanot":"kungsgårdar","kuopat":"gropar","kuparinsulattamot":"kopparsmältverk","kuppikivet":"skålgropsstenar","kylänpaikat":"byplatser","käräjäpaikat":"tingsställen","käsittelypaikat":"hanteringsplatser","kätköt":"depåer","laiturit":"bryggor","laivalatomukset":"skeppssättningar","laivanrakennuspaikat":"skeppsvarv","lapinpadot":"fiskpator (Lappland)","lapinrauniot":"lapprösen","lasitehtaat":"glasbruk","latomukset":"läggningar","liesikiveykset":"stensatta härdar","liesilatomukset (árran)":"rektangulära härdar (árran)","linnakkeet":"fort","linnamalmit":"slottsmalmar","linnat":"borgar","linnavuoret":"borgberg","linnoitukset":"befästningar","linnustuspaikat":"fågeljaktsplaser","louhokset":"brott","luolat":"grottor","luostarinpaikat":"klosterplatser","luotsi- ja tulliasemat":"lots- och tullstationer","lähteet":"källor","maanmittauspisteet":"lantmätningspunkter","maavallit":"jordvallar","majakat":"fyrar","manufaktuurit":"manufakturer","markkinapaikat":"markandsplatser","masuunit":"masugnar","merimerkit":"sjömärken","merkkikivet":"märkesstenar","merkkipuut":"märkesträd","miekanhiontakivet":"svärdslipningsstenar","muinaislinnat":"fornborgar","muinaispellot":"fossila åkrar","muistomerkit":"minnesmärken","muistopaikat":"minnesplatser","mäkituvat":"backstugor","nauriskuopat":"rovgropar","optiset lennätinasemat":"optiska telegrafstationer","ortodoksikalmistot":"ortodoxa begravningsplatser","painanteet":"sänkor","painolastipaikat":"barlastplatser","pajat":"smedjor","palokuoppahaudat":"brandgropsgravar","panssariesteet":"stridsvagnshinder","paperitehtaat":"pappersbruk","pappilat":"prästgårdar","piilopirtit":"lönnpörten","piiskauspetäjät":"träd för piskning (fi. piiskauspetäjät)","pikiruukit":"beckbruk","pirunpellot":"klapperstensfält","pitkospuut":"spänger","polttokenttäkalmistot":"brandgravfält","polut":"stigar","poroaidat":"rengärden","portaat":"trappor","potaskauunit":"potaskaugnar","puistot":"parker","purnut":"förvaringsgropar (fi. purnut)","puutarhat":"trädgårdar","pyyntikuopat":"fångstgropar","pyyntitukikohdat":"basstationer för fångst","rajamerkit":"gränsmärken","rajamerkit, puu":"gränsmärken, trä","rakkakuopat":"klapperstensgropar","rangaistuspaikat":"avrättningsplatser","rantakivikot":"strandstenjordar","ratapohjat":"banvallar","raudanvalmistuspaikat":"järnframställningsplatser","rautaruukit":"järnbruk","ristikivet":"korsstenar","ruuhet":"ekor","ruumiskalmistot":"skelettgravfält","ruttohautausmaat":"pestgravgårdar","ryssänuunit":"ryssugnar","röykkiöt":"rösen","salpietarikeittimöt":"salpeterkokerier","satamat":"hamnar","savupiiput":"skorstenar","seidat":"sejtar (sieidi)","sillanpaikat":"broplatser","sillat":"broar","sirpalekivikasat":"skärvstenshögar","sotilasleirit":"soldatläger","sudenkuopat":"varggropar","suojahuoneet":"skyddsrum","taistelukaivannot":"skyttegravar","taistelupaikat":"stridsplatser","talonpohjat":"husgrunder","tarhakalmistot":"tarandgravfält","tarinapaikat":"sägenplatser","telakat":"varv","terva- ja tärpättitehtaat":"tjär- och terpentinfabriker","tervahaudat":"tjärdalar","terveyslähteet":"hälsokällor","tienpohjat":"vägbottnar","tiilenpolttouunit":"tegelbrännugnar","tiilitehtaat":"tegelbruk","tomtning-jäännökset":"tomtningar","tornit":"torn","torpat":"torp","tsasounanpaikat":"ortodoxa bönehusplatser","tulipesäkkeet":"eldvärn","tulisijat":"eldstäder","tupasijat":"stuglägen","tuulimyllyt":"väderkvarnar","tykkiasemat":"artilleriställningar","tykkitiet":"kanonvägar","tähystysasemat":"observationsställningar","uhrikivet":"offerstenar","uhrilehdot":"offerlundar","uhripuut":"offerträd","uittolaitteet":"flottningsanordningar","uunit":"ugnar","valkamat":"naturhamnar","vallihaudat":"vallgravar","vallit":"vallar","valonheitinasemat":"strålkastarställningar","veneenvetopaikat":"dragplaser för båtar","vesimyllyt":"vattenkvarnar","vesisahat":"vattensågar","viljelmät":"odlingar","viljelyröykkiöt":"odlingsrösen","virkatalot":"tjänstegårdar","virstanpylväät":"milstolpar","yhdyshaudat":"löpgravar","yksinäistalot":"enskilda gårdar"},"featureType":{"kiinteä muinaisjäännös":"fast fornlämning","muu kulttuuriperintökohde":"övrigt kulturarvsobjekt"}},"ahvenanmaa":{"type":{"Uppgifter saknas":"Uppgifter saknas","Agrara lämningar":"Agrara lämningar","Bebyggelselämningar":"Bebyggelselämningar","Befästningsanläggningar":"Befästningsanläggningar","Boplatser":"Boplatser","Gravar":"Gravar","Industriell-/produktionsplatser":"Industriell-/produktionsplatser","Jakt och fångst":"Jakt och fångst","Kommunikations-/maritima lämningar":"Kommunikations-/maritima lämningar","Kult, offer och folktro":"Kult, offer och folktro","Ristningar och minnesmärken":"Ristningar och minnesmärken","Övriga lämningar":"Övriga lämningar"},"subType":{"Uppgifter saknas":"Uppgifter saknas","artilleriställning":"artilleriställning","avrättningsplats":"avrättningsplats","befästning":"befästning","begravningsplats":"begravningsplats","bevakning/signalering":"bevakning/signalering","boplats":"boplats","brokista":"brokista","brott/täkt":"brott/täkt","brunn/kallkälla":"brunn/kallkälla","bytomt/gårdstomt":"bytomt/gårdstomt","depofynd":"depofynd","domarring":"domarring","flygstation":"flygstation","fornborg":"fornborg","fossil åker":"fossil åker","fältbefästning":"fältbefästning","fångstgrop":"fångstgrop","förtöjningsanordning":"förtöjningsanordning","förvaringsanläggning":"förvaringsanläggning","grav":"grav","gravhög":"gravhög","gravröse":"gravröse","gruvlämning":"gruvlämning","gränsmärke":"gränsmärke","hamnanläggning":"hamnanläggning","husgrund":"husgrund","hägnad":"hägnad","höggravfält":"höggravfält","industrilämning":"industrilämning","kastalgrund":"kastalgrund","kyrka/kapell":"kyrka/kapell","labyrint":"labyrint","minnesmärke":"minnesmärke","offerplats":"offerplats","ristning":"ristning","röjningsröse":"röjningsröse","rösegravfält":"rösegravfält","sjömärke":"sjömärke","skeppssättning":"skeppssättning","skärvstenshög":"skärvstenshög","slott":"slott","stenkompass":"stenkompass","stenugn":"stenugn","tomtning":"tomtning","traditionsplats":"traditionsplats","transport/förråd":"transport/förråd","treudd":"treudd","varv":"varv","väglämning":"väglämning"},"dating":{"Förhistorisk tid":"Förhistorisk tid","Historisk tid":"Historisk tid","Stenålder":"Stenålder","Bronsålder":"Bronsålder","Järnålder":"Järnålder","Medeltid":"Medeltid","Sentid":"Sentid","Uppgifter saknas":"Uppgifter saknas"},"subDating":{"1600-tal":"1600-tal","1700-tal":"1700-tal","1800-tal":"1800-tal","1900-tal":"1900-tal","Tidigneolitikum":"tidigneolitikum","Yngre järnålder":"yngre järnålder","yngre bronsålder":"yngre bronsålder","yngre järnålder":"yngre järnålder","Äldre järnålder":"äldre järnålder","äldre järnålder":"äldre järnålder"}}}}');var de,ge=function(e){var t=e.visible,a=e.isPageOpen;return ue.createElement("div",{id:"loading-animation",className:t?"":"hidden",style:a?{right:"100px"}:void 0},ue.createElement("div",{className:"spinner",role:"status"}))},he=a(26793),fe=function(e){var t=e.onClick,a=(0,he.$)().t;return ue.createElement("div",{id:"map-button-zoom-in",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary",title:a("common.button.zoomIn"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-plus","aria-hidden":"true"})))},ve=function(e){var t=e.onClick,a=(0,he.$)().t;return ue.createElement("div",{id:"map-button-zoom-out",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary",title:a("common.button.zoomOut"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-minus","aria-hidden":"true"})))},ye=function(e){var t=e.onClick,a=(0,he.$)().t;return ue.createElement("div",{id:"map-button-position",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary",title:a("common.button.positioning"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})))},be=function(e){var t=e.onClick,a=(0,he.$)().t;return ue.createElement("div",{id:"map-button-info",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary",title:a("common.button.info"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})))};!function(e){e.Visible="Visible",e.Closing="Closing",e.Hidden="Hidden"}(de||(de={}));var Ee,we=function(e){var t=e.lang,a=(0,he.$)().i18n,n=a.language===t;return ue.createElement("label",{className:"btn btn-default "+(n?"active":"")},ue.createElement("input",{type:"radio",name:"selectedLanguage",checked:n,onChange:function(){return a.changeLanguage(t)}}),ue.createElement("b",null,t.toUpperCase()))},Le=function(e){var t=e.title,a=e.visibility,n=e.hidePage,r=e.children,s=(0,he.$)().t,l="";switch(a){case de.Visible:l="page-right-visible";break;case de.Closing:l="page-right-closing";break;case de.Hidden:l="page-right-hidden"}return ue.createElement("div",{className:"container page "+l},a!==de.Hidden&&ue.createElement("div",{className:"row pageHeader"},ue.createElement("div",{className:"col-xs-2 col-sm-2 col-md-2"},ue.createElement("button",{className:"btn btn-primary btn-sm",onClick:n},ue.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"}),s("common.button.close"))),ue.createElement("div",{className:"col-xs-6 col-sm-7 col-md-7",style:{textAlign:"center"}},ue.createElement("span",{className:"pageHeaderText"},t)),ue.createElement("div",{className:"col-xs-4 col-sm-3 col-md-3",style:{textAlign:"right"}},ue.createElement("div",{className:"btn-group","data-toggle":"buttons"},ue.createElement(we,{lang:i.FI}),ue.createElement(we,{lang:i.SV})))),a!==de.Hidden&&ue.createElement("div",{className:"pageContent"},r))},je=a(17563),Me=function(){var e=window.location.hash.replace(";","&");return(0,je.parse)(e,{parseNumbers:!0,arrayFormat:"comma"})},Se=function(e){return"#"+(0,je.stringify)(e,{arrayFormat:"comma"})},_e=function(e){return Se((0,d.pi)((0,d.pi)({},Me()),{x:e[0],y:e[1]}))},Ce=function(){var e=Me(),t=parseFloat(String(e.x)),a=parseFloat(String(e.y));return isNaN(t)||isNaN(a)?null:[t,a]};!function(e){e.OpenDetails="openDetails",e.ClosePageAndPinOnMap="closePageAndPinOnMap"}(Ee||(Ee={}));var Ae=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.permanentLink,s=e.featureName,l=e.featureTypeIconURL,u=e.featureTypeName,o=e.children,c=function(e){a===Ee.OpenDetails&&(e.preventDefault(),i()),a===Ee.ClosePageAndPinOnMap&&t()};return ue.createElement("div",{className:"panel panel-default"},ue.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},ue.createElement("h4",{className:"panel-title"},ue.createElement("a",{role:"button",href:r,onClick:c},s),ue.createElement("a",{role:"button",href:"",className:"pull-right",style:{marginLeft:"10px"},onClick:function(e){e.preventDefault(),i()}},ue.createElement("span",{className:"glyphicon glyphicon-chevron-"+(n?"up":"down"),"aria-hidden":"true"})),ue.createElement("a",{className:"pull-right",href:r,onClick:function(){t()}},ue.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"}))),ue.createElement("h6",{className:"panel-title"},ue.createElement("a",{role:"button",href:r,onClick:c},ue.createElement("img",{className:"feature-icon",src:l}),ue.createElement("span",null,u)))),ue.createElement("div",{className:"panel-collapse collapse "+(n?"in":""),role:"tabpanel"},ue.createElement("div",{className:"panel-body"},o)))},Fe=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=e.children,o=(0,he.$)(),c=o.t,m=o.i18n,p=ue.useMemo((function(){var e=function(e){switch(e.geometryType){case"esriGeometryPolygon":return e.geometry.rings[0][0];case"esriGeometryPoint":return[e.geometry.x,e.geometry.y];case"esriGeometryPolyline":return e.geometry.paths[0][0]}}(r);return e&&_e(e)}),[m.language,r]),k=ue.useMemo((function(){return function(e,t){var a,n;switch(t.layerName){case l.Muinaisjaannokset_piste:case l.Muinaisjaannokset_alue:case l.RKY_alue:case l.RKY_piste:case l.RKY_viiva:case l.Suojellut_rakennukset_piste:case l.Suojellut_rakennukset_alue:return Z(t.attributes.kohdenimi);case l.Maailmanperinto_piste:case l.Maailmanperinto_alue:return Z(t.attributes.Nimi);case u.Fornminnen:return Z(t.attributes["Fornlämnings ID"])+" "+[Z(t.attributes.Namn),null!==(n=null===(a=t.attributes.typeAndDating)||void 0===a?void 0:a.map((function(t){var a=t.Und_typ;return e("data.ahvenanmaa.subType."+a,null!=a?a:"")})).filter((function(e){return!!e})).join(", "))&&void 0!==n?n:""].filter((function(e){return!!e})).join(", ");case u.MaritimtKulturarv:return Z(t.attributes.FornID)+" "+Z(t.attributes.Namn)}}(c,r)}),[m.language,r]),d=ue.useMemo((function(){return function(e){var t=e.models.length>0;switch(e.layerName){case l.Muinaisjaannokset_piste:if(P(e))return e.maisemanMuisti.length>0?O("maiseman-muisti",t):O("muinaisjaannos_kohde",t);if(I(e))return O("muu_kulttuuriperintokohde_kohde",t);break;case l.Muinaisjaannokset_alue:if(P(e))return O("muinaisjaannos_alue",t);if(I(e))return O("muu-kulttuuriperintokohde-alue",t);break;case l.RKY_alue:return O("rky_alue",t);case l.RKY_viiva:return O("rky_viiva",t);case l.RKY_piste:return O("rky_piste",t);case l.Maailmanperinto_alue:return O("maailmanperinto_alue",t);case l.Maailmanperinto_piste:return O("maailmanperinto_piste",t);case l.Suojellut_rakennukset_alue:return O("rakennusperintorekisteri_alue",t);case l.Suojellut_rakennukset_piste:return O("rakennusperintorekisteri_rakennus",t);case u.Fornminnen:return O("ahvenanmaa_muinaisjaannos",t);case u.MaritimtKulturarv:return O("ahvenanmaa_hylky",t);default:return}}(r)}),[r]),g=ue.useMemo((function(){var e=function(e){switch(e.layerName){case l.Muinaisjaannokset_piste:case l.Muinaisjaannokset_alue:case l.Suojellut_rakennukset_alue:case l.Suojellut_rakennukset_piste:return e.attributes.kunta;case u.Fornminnen:case u.MaritimtKulturarv:return e.attributes.Kommun;default:return}}(r);return function(e,t){switch(t.layerName){case l.Muinaisjaannokset_piste:return[P(t)?e("data.featureType.Kiinteä muinaisjäännös"):void 0,I(t)?e("data.featureType.Muu kulttuuriperintökohde"):void 0,t.attributes.tyyppiSplitted[0]?e("data.museovirasto.type."+t.attributes.tyyppiSplitted[0],t.attributes.tyyppiSplitted[0]):void 0,t.maisemanMuisti.length>0?e("data.featureType.Valtakunnallisesti merkittävä muinaisjäännös"):void 0].filter((function(e){return!!e})).join(", ");case l.Muinaisjaannokset_alue:if(P(t))return e("data.featureType.Kiinteä muinaisjäännös (alue)");if(I(t))return e("data.featureType.Muu kulttuuriperintökohde (alue)");break;case l.RKY_alue:case l.RKY_piste:case l.RKY_viiva:return e("data.featureType.Rakennettu kulttuuriympäristö");case l.Maailmanperinto_piste:case l.Maailmanperinto_alue:return e("data.featureType.Maailmanperintökohde");case l.Suojellut_rakennukset_piste:case l.Suojellut_rakennukset_alue:return e("data.featureType.Rakennusperintökohde");case u.Fornminnen:return e("data.featureType.Ahvenanmaan muinaisjäännösrekisterin kohde");case u.MaritimtKulturarv:return e("data.featureType.Ahvenamaan merellisen kulttuuriperintörekisterin kohde");default:return}}(c,r)+(a===Ee.ClosePageAndPinOnMap&&e?", "+e:"")}),[m.language,a,r]);return ue.createElement(Ae,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,permanentLink:p,featureName:k,featureTypeIconURL:d,featureTypeName:g},s)},Te=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=e.has3dModels,l=e.children,u=(0,he.$)().t,o=ue.useMemo((function(){var e=function(e){switch(e.geometry.type){case"Point":return e.geometry.coordinates;case"Polygon":return e.geometry.coordinates[0][0]}}(r);return e&&_e(e)}),[r]),c=r.properties.name+", "+r.properties.registerName,m=ue.useMemo((function(){return O("maiseman-muisti",s)}),[s]),p=u("data.featureType.Kiinteä muinaisjäännös")+", "+u("data.featureType.Valtakunnallisesti merkittävä muinaisjäännös");return ue.createElement(Ae,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,permanentLink:o,featureName:c,featureTypeIconURL:m,featureTypeName:p},l)},Ne=function(e){var t=e.label,a=e.value,n=e.children,i=Z(a);return n||i?ue.createElement("div",{className:"form-group"},ue.createElement("label",null,t),n||ue.createElement("p",null,i)):null},xe=function(e){var t=e.dating,a=function(e,t){switch(t){case"esihistoriallinen":return e("data.timespan.prehistoric");case"kivikautinen":return e("data.timespan.stoneAge");case"varhaismetallikautinen":return e("data.timespan.earlyMetalAge");case"pronssikautinen":return e("data.timespan.bronzeAge");case"rautakautinen":return e("data.timespan.ironAge");case"keskiaikainen":return e("data.timespan.middleAge");case"historiallinen":return e("data.timespan.historic");case"moderni":return e("data.timespan.modern");case"moniperiodinen":case"ajoittamaton":case"ei määritelty":default:return""}}((0,he.$)().t,t);return a?ue.createElement("span",{className:"label label-default"},a):null},De=a(99189),Pe=function(e){var t=e.url,a=e.registerName;return ue.createElement("p",{className:"well"},ue.createElement(De.c,{i18nKey:"details.finnishHeritageAgencyMoreInfoLink",values:{url:t,registerName:a},components:{a:ue.createElement("a",null)}}))},Ie=function(e){var t=e.feature,a=(0,he.$)(),n=a.t,r=function(e,t){switch(e.layerName){case l.Muinaisjaannokset_piste:case l.Muinaisjaannokset_alue:var a="https://www.kyppi.fi/palveluikkuna/mjreki/read/asp/r_kohde_det.aspx?KOHDE_ID="+e.attributes.mjtunnus;return t===i.SV&&(a=a.replace("r_kohde_det.aspx","rsv_kohde_det.aspx")),a;case l.Suojellut_rakennukset_alue:case l.Suojellut_rakennukset_piste:return"https://"+e.attributes.url;case l.RKY_alue:case l.RKY_viiva:case l.RKY_piste:return a=e.attributes.url,t===i.SV&&(a=a.replace("www.rky.fi","www.kulturmiljo.fi").replace("r_kohde_det.aspx","rsv_kohde_det.aspx")),a;case l.Maailmanperinto_alue:case l.Maailmanperinto_piste:return function(e,t){var a=e.attributes.URL,n=a.indexOf("#"),r="";return-1!==n&&(r=a.substring(n)),a.startsWith("http://www.nba.fi/fi/ajankohtaista/kansainvalinen_toiminta/maailmanperintokohteet_suomessa")&&(a="https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa"+r),t===i.SV&&(a="https://www.museovirasto.fi/sv/om-oss/internationell-verksamhet/varldsarvet-i-finland"+r),a}(e,t)}}(t,a.i18n.language),s=function(e,t){switch(t.layerName){case l.Muinaisjaannokset_piste:case l.Muinaisjaannokset_alue:return e("details.registerLink.fromMuinaisjaannos");case l.RKY_alue:case l.RKY_viiva:case l.RKY_piste:return e("details.registerLink.fromRKY");case l.Maailmanperinto_alue:case l.Maailmanperinto_piste:return e("details.registerLink.fromMaailmanperinto");case l.Suojellut_rakennukset_alue:case l.Suojellut_rakennukset_piste:return e("details.registerLink.fromRakennusperintö");default:return""}}(n,t);return r?ue.createElement(Pe,{url:r,registerName:s}):null},Oe=function(){var e=(0,he.$)().t,t=ue.useState(!1),a=t[0],n=t[1];return ue.createElement("div",{className:"panel panel-default"},ue.createElement("div",{className:"panel-heading feature-collapse-panel-heading",role:"tab"},ue.createElement("a",{role:"button",href:"",onClick:function(e){e.preventDefault(),n(!a)}},ue.createElement("span",{className:"glyphicon glyphicon-info-sign","aria-hidden":"true"})," ",e("details.3d.infoHeading"))),ue.createElement("div",{className:"panel-collapse collapse "+(a?"in":""),role:"tabpanel"},ue.createElement("div",{className:"panel-body"},ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"details.3d.infoText1",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"details.3d.infoText2",components:{kbd:ue.createElement("kbd",null)}})," ",ue.createElement("img",{src:"images/sketchfab-fullscreen.png"})),ue.createElement("p",null,e("details.3d.controls.title"),":"),ue.createElement("ul",null,ue.createElement("li",null,ue.createElement("b",null,e("details.3d.controls.rotateTitle"),":")," ",e("details.3d.controls.rotate")),ue.createElement("li",null,ue.createElement("b",null,e("details.3d.controls.zoomTitle"),":")," ",e("details.3d.controls.zoom")),ue.createElement("li",null,ue.createElement("b",null,e("details.3d.controls.zoomTitle"),":")," ",e("details.3d.controls.zoom"))))))},Ke=function(e){var t=e.models,a=void 0===t?[]:t,n=(0,he.$)().t;return 0===a.length?null:ue.createElement(ue.Fragment,null,ue.createElement("br",null),ue.createElement("h4",null,n("details.3d.title")),ue.createElement(Oe,null),a.map((function(e){var t=e.properties.model,a=t.name,n=t.url;return ue.createElement("div",{className:"form-group",key:n},ue.createElement("label",null,a),ue.createElement("iframe",{title:a,width:"100%",height:"400",src:n+"/embed",allow:"fullscreen",allowFullScreen:!0}))})))},Re=function(e){var t=e.feature;return ue.createElement("div",{className:"form-group"},ue.createElement("label",null,ue.createElement(De.c,{i18nKey:"data.register.maisemanMuisti",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement("img",{className:"feature-icon",src:"images/maiseman-muisti.png"}),ue.createElement("span",null,t.properties.name)))};function Ue(e,t){return 0===e.length?null:1===e.length?ue.createElement("p",null,t(e[0])):ue.createElement("ul",null,e.map((function(e){return ue.createElement("li",{key:e},t(e))})))}var Ze,Ge=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t,l=r.attributes,u=l.kohdenimi,o=l.kunta,c=l.ajoitusSplitted,m=l.tyyppiSplitted,p=l.alatyyppiSplitted,k=l.laji;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.featureName"),value:u}),ue.createElement(Ne,{label:s("details.field.municipality"),value:o}),ue.createElement(Ne,{label:s("details.field.dating")},Ue(c,(function(e){return ue.createElement(ue.Fragment,null,ue.createElement("span",null,s("data.museovirasto.dating."+e,e))," ",ue.createElement(xe,{dating:e}))}))),ue.createElement(Ne,{label:s("details.field.type")},Ue(m,(function(e){var t=function(e){switch(e){case S.alustenHylyt:case S["kulkuväylät"]:return"http://akp.nba.fi/wiki;luokka;liikenne_ja_tiedonkulku";case S.asuinpaikat:return"http://akp.nba.fi/wiki;luokka;asuminen_ja_oleskelu";case S.hautapaikat:return"http://akp.nba.fi/wiki;luokka;hautaaminen";case S.kirkkorakenteet:case S.kulttiJaTarinapaikat:return"http://akp.nba.fi/wiki;luokka;uskonnon_harjoittaminen";case S.puolustusvarustukset:return"http://akp.nba.fi/wiki;luokka;puolustus_ja_sodank%C3%A4ynti";case S.raakaAineenHankintapaikat:case S["työJaValmistuspaikat"]:return"http://akp.nba.fi/wiki;luokka;elinkeinot";case S.tapahtumapaikat:case S.taideMuistomerkit:return"http://akp.nba.fi/muut";case S.teollisuuskohteet:return"http://akp.nba.fi/wiki;luokka;teollisuus";case S.kivirakenteet:case S.luonnonmuodostumat:case S["löytöpaikat"]:case S.puurakenteet:case S.maarakenteet:case S["muinaisjäännösryhmät"]:case S["eiMääritelty"]:default:return}}(e),a=s("data.museovirasto.type."+e,e);return t?ue.createElement("a",{href:t,target:"_blank"},a):ue.createElement(ue.Fragment,null,a)}))),ue.createElement(Ne,{label:s("details.field.subType")},Ue(p,(function(e){var t=function(e){switch(e){case"aallonmurtajat":return"http://akp.nba.fi/wiki;satama";case"aidat":case"ammusvarastot":return;case"asumuspainanteet":return"http://akp.nba.fi/wiki;asumuspainanne";case"ei määritelty":return;case"eräsijat":return"http://akp.nba.fi/wiki;er%C3%A4sija";case"haaksirikkopaikat":return"http://akp.nba.fi/wiki;hylky";case"hakkaukset":return"http://akp.nba.fi/wiki;kalliohakkaus";case"hangakset":return"http://akp.nba.fi/wiki;pyyntikuoppa";case"hautakammiot":return;case"hautakummut":return"http://akp.nba.fi/wiki;hautakumpu";case"hautaröykkiöt":return"http://akp.nba.fi/wiki;hautar%C3%B6ykki%C3%B6";case"hautasaaret":return"http://akp.nba.fi/wiki;hautasaari";case"hautausmaat":return"http://akp.nba.fi/wiki;hautausmaa";case"hiekanottokuopat":return;case"hiilimiilut":return"http://akp.nba.fi/wiki;hiilimiilu";case"hirsivarustukset":case"hospitaalit ja sairaalat":return;case"hylyt (metalli)":case"hylyt (puu)":return"http://akp.nba.fi/wiki;hylky";case"höyrysahat":return"http://akp.nba.fi/wiki;h%C3%B6yrysaha";case"irtolöytöpaikat":return;case"jatulintarhat":return"http://akp.nba.fi/wiki;jatulintarha";case"joukkohaudat":return;case"jätinkirkot":return"http://akp.nba.fi/wiki;j%C3%A4tinkirkko";case"kaivannot":return;case"kaiverrukset":return"http://akp.nba.fi/wiki;kalliohakkaus";case"kaivokset":return"http://akp.nba.fi/wiki;kaivos";case"kaivot":return"http://akp.nba.fi/wiki;kaivo";case"kalastuspaikat":return"http://akp.nba.fi/wiki;kalastuspaikka";case"kalkkiuunit":return"http://akp.nba.fi/wiki;kalkkiuuni";case"kalliomaalaukset":return"http://akp.nba.fi/wiki;kalliomaalaus";case"kalliopiirrokset":return"http://akp.nba.fi/wiki;kalliohakkaus";case"kanavat":return"http://akp.nba.fi/wiki;kanava";case"kapulatiet":return"http://akp.nba.fi/wiki;tie";case"karsikkopaikat":return"http://akp.nba.fi/wiki;karsikko";case"kartanot":return"http://akp.nba.fi/wiki;kartano";case"kaskiröykkiöt":return"http://akp.nba.fi/wiki;viljelyr%C3%B6ykki%C3%B6";case"kaupungit":return"http://akp.nba.fi/wiki;kaupunki";case"keittokuopat":return;case"kellarit":return"http://akp.nba.fi/wiki;kellari";case"kellotapulinpaikat":return"http://akp.nba.fi/wiki;kirkko";case"kentät (gieddi)":return"http://akp.nba.fi/wiki;kentt%C3%A4";case"keramiikkatehtaat":return;case"kestikievarit":return"http://akp.nba.fi/wiki;tie";case"kesähaudat":return"http://akp.nba.fi/wiki;hautasaari";case"kiinnitysrenkaat":return"http://akp.nba.fi/wiki;satama";case"kirkkohaudat":return"http://akp.nba.fi/wiki;kirkkohauta";case"kirkkomaat":return"http://akp.nba.fi/wiki;kirkkomaa";case"kirkonpaikat":case"kirkonrauniot":return"http://akp.nba.fi/wiki;kirkko";case"kiukaat":return"http://akp.nba.fi/wiki;kiuas";case"kiviaidat":return"http://akp.nba.fi/wiki;kiviaita";case"kivilatomukset":return"http://akp.nba.fi/wiki;hautalatomus";case"kivilinnat":return"http://akp.nba.fi/wiki;keskiaikainen-linna";case"kivimuurit":case"kivipöydät":case"kivivallit":case"kivivarustukset":return;case"kodanpohjat":return"http://akp.nba.fi/wiki;kotasija";case"kompassiruusut":return"http://akp.nba.fi/wiki;kivikompassi";case"kullanhuuhdonnan jäännökset":return"http://akp.nba.fi/wiki;kullanhuuhdontapaikka";case"kummelit":return"http://akp.nba.fi/wiki;merimerkki";case"kummut":return;case"kuninkaankartanot":return"http://akp.nba.fi/wiki;kuninkaankartano";case"kuopat":case"kuparinsulattamot":return;case"kuppikivet":return"http://akp.nba.fi/wiki;kuppikivi";case"kylänpaikat":return"http://akp.nba.fi/wiki;kyl%C3%A4npaikka";case"käräjäpaikat":return"http://akp.nba.fi/wiki;k%C3%A4r%C3%A4j%C3%A4ympyr%C3%A4";case"käsittelypaikat":case"kätköt":return;case"laiturit":return"http://akp.nba.fi/wiki;satama";case"laivalatomukset":return"http://akp.nba.fi/wiki;laivalatomus";case"laivanrakennuspaikat":return"http://akp.nba.fi/wiki;laivanrakennuspaikka";case"lapinpadot":return"http://akp.nba.fi/wiki;kalastusrakenne";case"lapinrauniot":return"http://akp.nba.fi/wiki;lapinraunio";case"lasitehtaat":return"http://akp.nba.fi/wiki;lasitehdas";case"latomukset":return;case"liesikiveykset":return"http://akp.nba.fi/wiki;tulisija";case"liesilatomukset (árran)":return"http://akp.nba.fi/wiki;liesilatomus";case"linnakkeet":return"http://akp.nba.fi/wiki;linnake-1500-ja-1600-luku";case"linnamalmit":case"linnat":return"http://akp.nba.fi/wiki;keskiaikainen-linna";case"linnavuoret":return"http://akp.nba.fi/wiki;muinaislinna";case"linnoitukset":return"http://akp.nba.fi/wiki;bastionilinnoitus";case"linnustuspaikat":return;case"louhokset":return"http://akp.nba.fi/wiki;louhos";case"luolat":return"http://akp.nba.fi/wiki;louhittu-luola";case"luostarinpaikat":return"http://akp.nba.fi/wiki;luostari";case"luotsi- ja tulliasemat":return;case"lähteet":return"http://akp.nba.fi/wiki;uhril%C3%A4hde";case"maanmittauspisteet":return"http://akp.nba.fi/wiki;kalliohakkaus";case"maavallit":return;case"majakat":return"http://akp.nba.fi/wiki;merimerkki";case"manufaktuurit":return"http://akp.nba.fi/wiki;rautaruukki";case"markkinapaikat":return"http://akp.nba.fi/wiki;markkinapaikka";case"masuunit":return"http://akp.nba.fi/wiki;masuuni";case"merimerkit":return"http://akp.nba.fi/wiki;merimerkki";case"merkkikivet":case"merkkipuut":return"http://akp.nba.fi/wiki;karsikko";case"miekanhiontakivet":return"http://akp.nba.fi/wiki;miekanhiontakivi";case"muinaislinnat":return"http://akp.nba.fi/wiki;muinaislinna";case"muinaispellot":return"http://akp.nba.fi/wiki;muinaispelto";case"muistomerkit":return"http://akp.nba.fi/wiki;muistomerkki";case"muistopaikat":return"http://akp.nba.fi/wiki;karsikko";case"mäkituvat":return"http://akp.nba.fi/wiki;m%C3%A4kitupa";case"nauriskuopat":return"http://akp.nba.fi/wiki;nauriskuoppa";case"optiset lennätinasemat":return"http://akp.nba.fi/wiki;optinen-lenn%C3%A4tinasema";case"ortodoksikalmistot":return"http://akp.nba.fi/wiki;kyl%C3%A4kalmisto";case"painanteet":return;case"painolastipaikat":return"http://akp.nba.fi/wiki;satama";case"pajat":return"http://akp.nba.fi/wiki;paja";case"palokuoppahaudat":return"http://akp.nba.fi/wiki;palokuoppahauta";case"panssariesteet":return"http://akp.nba.fi/wiki;panssarieste";case"paperitehtaat":return"http://akp.nba.fi/wiki;paperitehdas";case"pappilat":return"http://akp.nba.fi/wiki;pappila";case"piilopirtit":return"http://akp.nba.fi/wiki;piilopirtti";case"piiskauspetäjät":return"http://akp.nba.fi/wiki;rangaistuspaikka";case"pikiruukit":return"http://akp.nba.fi/wiki;pikiruukki";case"pirunpellot":return;case"pitkospuut":return"http://akp.nba.fi/wiki;tie";case"polttokenttäkalmistot":return"http://akp.nba.fi/wiki;polttokentt%C3%A4kalmisto";case"polut":return"http://akp.nba.fi/wiki;polku";case"poroaidat":return"http://akp.nba.fi/wiki;poroerotuspaikka";case"portaat":case"potaskauunit":return;case"puistot":return"http://akp.nba.fi/wiki;puutarha";case"purnut":return"http://akp.nba.fi/wiki;purnu";case"puutarhat":return"http://akp.nba.fi/wiki;puutarha";case"pyyntikuopat":return"http://akp.nba.fi/wiki;pyyntikuoppa";case"pyyntitukikohdat":return"http://akp.nba.fi/wiki;tomtning";case"rajamerkit":return"http://akp.nba.fi/wiki;rajamerkki";case"rajamerkit, puu":return;case"rakkakuopat":return"http://akp.nba.fi/wiki;rakkakuoppa";case"rangaistuspaikat":return"http://akp.nba.fi/wiki;rangaistuspaikka";case"rantakivikot":return;case"ratapohjat":return"http://akp.nba.fi/wiki;rautatie";case"raudanvalmistuspaikat":return"http://akp.nba.fi/wiki;paja";case"rautaruukit":return"http://akp.nba.fi/wiki;rautaruukki";case"ristikivet":return"http://akp.nba.fi/wiki;karsikko";case"ruuhet":return"http://akp.nba.fi/wiki;hylky";case"ruumiskalmistot":case"ruttohautausmaat":return"http://akp.nba.fi/wiki;ruumishauta";case"ryssänuunit":return"http://akp.nba.fi/wiki;kiviuuni";case"röykkiöt":return"http://akp.nba.fi/wiki;hautar%C3%B6ykki%C3%B6";case"salpietarikeittimöt":return"http://akp.nba.fi/wiki;salpietarikeittim%C3%B6";case"satamat":return"http://akp.nba.fi/wiki;satama";case"savenottokuopat":case"savupiiput":return;case"seidat":return"http://akp.nba.fi/wiki;seita";case"sillanpaikat":case"sillat":return"http://akp.nba.fi/wiki;silta";case"sirpalekivikasat":return;case"sotilasleirit":return"http://akp.nba.fi/wiki;sotilasleiri";case"sudenkuopat":return;case"suojahuoneet":return"http://akp.nba.fi/wiki;suojahuone";case"taistelukaivannot":return"http://akp.nba.fi/wiki;taisteluhauta";case"taistelupaikat":return"http://akp.nba.fi/wiki;taistelupaikka";case"talonpohjat":return"http://akp.nba.fi/wiki;talonpohja";case"tarhakalmistot":return"http://akp.nba.fi/wiki;tarha";case"tarinapaikat":return"http://akp.nba.fi/wiki;tarinapaikka";case"telakat":return"http://akp.nba.fi/wiki;laivanrakennuspaikka";case"terva- ja tärpättitehtaat":return;case"tervahaudat":return"http://akp.nba.fi/wiki;tervahauta";case"terveyslähteet":return;case"tienpohjat":return"http://akp.nba.fi/wiki;tie";case"tiilenpolttouunit":return"http://akp.nba.fi/wiki;tiilenpolttouuni";case"tiilitehtaat":return"http://akp.nba.fi/wiki;tiilitehdas";case"tomtning-jäännökset":return"http://akp.nba.fi/wiki;tomtning";case"tornit":return;case"torpat":return"http://akp.nba.fi/wiki;torppa";case"tsasounanpaikat":return"http://akp.nba.fi/wiki;kirkko";case"tulipesäkkeet":return;case"tulisijat":return"http://akp.nba.fi/wiki;tulisija";case"tupasijat":return"http://akp.nba.fi/wiki;tupasija";case"tuulimyllyt":return"http://akp.nba.fi/wiki;tuulimylly";case"tykkiasemat":return"http://akp.nba.fi/wiki;tykkiasema";case"tykkitiet":return"http://akp.nba.fi/wiki;tie";case"tähystysasemat":return"http://akp.nba.fi/wiki;t%C3%A4hystysasema";case"uhrikivet":return"http://akp.nba.fi/wiki;uhrikivi";case"uhrilehdot":return"http://akp.nba.fi/wiki;tarinapaikka";case"uhripuut":return"http://akp.nba.fi/wiki;uhripuu";case"uittolaitteet":return;case"uunit":return"http://akp.nba.fi/wiki;uuni";case"valkamat":return"http://akp.nba.fi/wiki;satama";case"vallihaudat":return"http://akp.nba.fi/wiki;vallihauta";case"vallit":return;case"valonheitinasemat":return"http://akp.nba.fi/wiki;valonheitinasema";case"veneenvetopaikat":return"http://akp.nba.fi/wiki;kanava";case"vesimyllyt":return"http://akp.nba.fi/wiki;vesimylly";case"vesisahat":return"http://akp.nba.fi/wiki;vesisaha";case"viljelmät":return;case"viljelyröykkiöt":return"http://akp.nba.fi/wiki;viljelyr%C3%B6ykki%C3%B6";case"virkatalot":return;case"virstanpylväät":return"http://akp.nba.fi/wiki;tie";case"yhdyshaudat":return"http://akp.nba.fi/wiki;yhdyshauta";case"yksinäistalot":default:return}}(e),a=s("data.museovirasto.subtype."+e,e);return t?ue.createElement("a",{href:t,target:"_blank"},a):ue.createElement(ue.Fragment,null,a)}))),ue.createElement(Ne,{label:s("details.field.featureType"),value:s("data.museovirasto.featureType."+k,k)}),r.maisemanMuisti.length>0&&ue.createElement(Re,{feature:r.maisemanMuisti[0]}),ue.createElement(Ie,{feature:r}),n&&ue.createElement(Ke,{models:r.models})))},Be=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t,l=r.attributes,u=l.kohdenimi,o=l.kunta,c=l.laji;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.name"),value:u}),ue.createElement(Ne,{label:s("details.field.municipality"),value:o}),ue.createElement(Ne,{label:s("details.field.featureType"),value:s("data.museovirasto.featureType."+c,c)}),ue.createElement(Ie,{feature:r})))},Ve=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.featureName"),value:r.attributes.kohdenimi}),r.layerName===l.RKY_alue&&ue.createElement(Ne,{label:s("details.field.name"),value:r.attributes.nimi}),ue.createElement(Ie,{feature:r}),n&&ue.createElement(Ke,{models:r.models})))},$e=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.name"),value:r.attributes.Nimi}),ue.createElement(Ie,{feature:r})))},ze=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.featureName"),value:r.attributes.kohdenimi}),r.layerName==l.Suojellut_rakennukset_piste&&ue.createElement(Ne,{label:s("details.field.buildingName"),value:r.attributes.rakennusnimi}),ue.createElement(Ne,{label:s("details.field.municipality"),value:r.attributes.kunta}),ue.createElement(Ne,{label:s("details.field.protectionGroup"),value:r.attributes.suojeluryhmä}),ue.createElement(Ie,{feature:r}),n&&ue.createElement(Ke,{models:r.models})))},Ye=function(e){var t,a=e.feature,n=(0,he.$)(),r=n.t,s=n.i18n,l=(null===(t=a.attributes.typeAndDating)||void 0===t?void 0:t.map((function(e){var t=e.Typ,a=e.Und_typ,n=e.Typ_1,l=e.Undertyp,u=e.Antal,o=function(e,t){switch(t){case 0:return e("data.ahvenanmaa.type.Uppgifter saknas");case 1:return e("data.ahvenanmaa.type.Agrara lämningar");case 2:return e("data.ahvenanmaa.type.Bebyggelselämningar");case 3:return e("data.ahvenanmaa.type.Befästningsanläggningar");case 4:return e("data.ahvenanmaa.type.Boplatser");case 5:return e("data.ahvenanmaa.type.Gravar");case 6:return e("data.ahvenanmaa.type.Industriell-/produktionsplatser");case 7:return e("data.ahvenanmaa.type.Jakt och fångst");case 8:return e("data.ahvenanmaa.type.Kommunikations-/maritima lämningar");case 9:return e("data.ahvenanmaa.type.Kult, offer och folktro");case 10:return e("data.ahvenanmaa.type.Ristningar och minnesmärken");case 11:return e("data.ahvenanmaa.type.Övriga lämningar");default:return}}(r,t),c=function(e){switch(e){case"Uppgifter saknas":case"Tiedot puuttuvat":return;case"Agrara lämningar":case"Maanviljelyjäännökset":return"http://akp.nba.fi/wiki;luokka;elinkeinot";case"Bebyggelselämningar":case"Asutusjäännökset":return"http://akp.nba.fi/wiki;luokka;asuminen_ja_oleskelu";case"Befästningsanläggningar":case"Puolustusvarustukset":return"http://akp.nba.fi/wiki;luokka;puolustus_ja_sodank%C3%A4ynti";case"Boplatser":case"Asuinpaikat":return"http://akp.nba.fi/wiki;luokka;asuminen_ja_oleskelu";case"Gravar":case"Hautapaikat":return"http://akp.nba.fi/wiki;luokka;hautaaminen";case"Industriell-/produktionsplatser":case"Teollisuus- ja valmistuspaikat":return"http://akp.nba.fi/wiki;luokka;teollisuus";case"Jakt och fångst":case"Metsästys- ja pyyntijäännökset":return"http://akp.nba.fi/wiki;luokka;elinkeinot";case"Kommunikations-/maritima lämningar":case"Liikenne ja merellinen kulttuuriperintö":return"http://akp.nba.fi/wiki;luokka;liikenne_ja_tiedonkulku";case"Kult, offer och folktro":case"Kultti-, uhri- ja tarinapaikat":return"http://akp.nba.fi/wiki;luokka;uskonnon_harjoittaminen";case"Ristningar och minnesmärken":case"Hakkaukset ja muistomerkit":return"http://akp.nba.fi/muut";case"Övriga lämningar":case"Muut jäännökset":default:return}}(o),m=r("data.ahvenanmaa.subType."+a,null!=a?a:""),p=function(e){switch(e){case"Uppgifter saknas":return;case"artilleriställning":return"http://akp.nba.fi/wiki;tykkiasema";case"avrättningsplats":return"http://akp.nba.fi/wiki;rangaistuspaikka";case"befästning":return"http://akp.nba.fi/wiki;kestolinnoite";case"begravningsplats":return"http://akp.nba.fi/wiki;hautausmaa";case"bevakning/signalering":return"http://akp.nba.fi/wiki;t%C3%A4hystysasema";case"boplats":return"http://akp.nba.fi/wiki;kivikautinen-asuinpaikka";case"brokista":return"http://akp.nba.fi/wiki;hirsiarkku";case"brott/täkt":return"http://akp.nba.fi/wiki;louhos";case"brunn/kallkälla":return"http://akp.nba.fi/wiki;kaivo";case"bytomt/gårdstomt":return"http://akp.nba.fi/wiki;kyl%C3%A4npaikka";case"depofynd":return;case"domarring":return"http://akp.nba.fi/wiki;k%C3%A4r%C3%A4j%C3%A4ympyr%C3%A4";case"flygstation":return"http://akp.nba.fi/wiki;lentokentt%C3%A4";case"fornborg":return"http://akp.nba.fi/wiki;muinaislinna";case"fossil åker":return"http://akp.nba.fi/wiki;muinaispelto";case"fältbefästning":return"http://akp.nba.fi/wiki;kentt%C3%A4linnoitteet";case"fångstgrop":return"http://akp.nba.fi/wiki;pyyntikuoppa";case"förtöjningsanordning":return"http://akp.nba.fi/wiki;satama";case"förvaringsanläggning":return"http://akp.nba.fi/wiki;rakkakuoppa";case"grav":return"http://akp.nba.fi/wiki;ruumishauta";case"gravhög":return"http://akp.nba.fi/wiki;hautakumpu";case"gravröse":return"http://akp.nba.fi/wiki;hautar%C3%B6ykki%C3%B6";case"gruvlämning":return"http://akp.nba.fi/wiki;kaivos";case"gränsmärke":return"http://akp.nba.fi/wiki;rajamerkki";case"hamnanläggning":return"http://akp.nba.fi/wiki;satama";case"husgrund":return"http://akp.nba.fi/wiki;talonpohja";case"hägnad":return"http://akp.nba.fi/wiki;kiviaita";case"höggravfält":return"http://akp.nba.fi/wiki;hautakumpu";case"industrilämning":return"http://akp.nba.fi/wiki;luokka;teollisuus";case"kastalgrund":return"http://akp.nba.fi/wiki;keskiaikainen-linna";case"kyrka/kapell":return"http://akp.nba.fi/wiki;kirkko";case"labyrint":return"http://akp.nba.fi/wiki;jatulintarha";case"minnesmärke":return"http://akp.nba.fi/wiki;muistomerkki";case"offerplats":return"http://akp.nba.fi/wiki;uhrikivi";case"ristning":return"http://akp.nba.fi/wiki;kalliohakkaus";case"röjningsröse":return"http://akp.nba.fi/wiki;viljelyr%C3%B6ykki%C3%B6";case"rösegravfält":return"http://akp.nba.fi/wiki;hautar%C3%B6ykki%C3%B6";case"sjömärke":return"http://akp.nba.fi/wiki;merimerkki";case"skeppssättning":return"http://akp.nba.fi/wiki;laivalatomus";case"skärvstenshög":return"http://akp.nba.fi/wiki;pronssikautinen-asuinpaikka";case"slott":return"http://akp.nba.fi/wiki;keskiaikainen-linna";case"stenkompass":return"http://akp.nba.fi/wiki;kivikompassi";case"stenugn":return"http://akp.nba.fi/wiki;kiviuuni";case"tomtning":return"http://akp.nba.fi/wiki;tomtning";case"traditionsplats":return"http://akp.nba.fi/wiki;tarinapaikka";case"transport/förråd":return"http://akp.nba.fi/wiki;kestolinnoite";case"treudd":return;case"varv":return"http://akp.nba.fi/wiki;laivanrakennuspaikka";case"väglämning":return"http://akp.nba.fi/wiki;tie";default:return}}(a),k=function(e,t){switch(t){case 0:return e("data.ahvenanmaa.dating.Förhistorisk tid");case 1:return e("data.ahvenanmaa.dating.Historisk tid");case 2:return e("data.ahvenanmaa.dating.Stenålder");case 3:return e("data.ahvenanmaa.dating.Bronsålder");case 4:return e("data.ahvenanmaa.dating.Järnålder");case 5:return e("data.ahvenanmaa.dating.Medeltid");case 6:return e("data.ahvenanmaa.dating.Sentid");case 99:return e("data.ahvenanmaa.dating.Uppgifter saknas");default:return}}(r,n);return[[r("details.field.mainCategory"),c&&s.language===i.FI?ue.createElement("a",{href:c,target:"_blank"},o):o],[r("details.field.subCategory"),p&&s.language===i.FI?ue.createElement("a",{href:p,target:"_blank"},m):m],[r("details.field.mainEra"),k],[r("details.field.period"),r("data.ahvenanmaa.subDating."+l,null!=l?l:"")],[r("details.field.featureCount"),u]].filter((function(e){return!!e[1]})).map((function(e,t){return ue.createElement("li",{key:t},ue.createElement("b",{style:{fontWeight:500}},e[0],":")," ",e[1])}))})))||[];return ue.createElement(Ne,{label:r("details.field.typeAndDating")},l.map((function(e,t,a){var n=ue.createElement("ul",{key:t},e);return a.length>1?ue.createElement(ue.Fragment,{key:t},ue.createElement("label",{style:{marginLeft:"15px",display:"block",fontWeight:500}},r("details.field.feature")+" "+(t+1)),n):n})))},He=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.id"),value:r.attributes["Fornlämnings ID"]}),ue.createElement(Ne,{label:s("details.field.name"),value:r.attributes.Namn}),ue.createElement(Ne,{label:s("details.field.municipality"),value:r.attributes.Kommun}),ue.createElement(Ne,{label:s("details.field.village"),value:r.attributes.By}),ue.createElement(Ye,{feature:r}),ue.createElement(Ne,{label:s("details.field.description"),value:r.attributes.Beskrivning}),ue.createElement(Ne,{label:s("details.field.location"),value:r.attributes.Topografi}),n&&ue.createElement(Ke,{models:r.models})))},Je=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=(0,he.$)().t;return ue.createElement(Fe,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:s("details.field.id"),value:r.attributes.FornID}),ue.createElement(Ne,{label:s("details.field.name"),value:r.attributes.Namn}),ue.createElement(Ne,{label:s("details.field.municipality"),value:r.attributes.Kommun}),ue.createElement(Ne,{label:s("details.field.village"),value:r.attributes.By}),ue.createElement(Ne,{label:s("details.field.description"),value:r.attributes.Beskrivning}),ue.createElement(Ne,{label:s("details.field.precision"),value:r.attributes.Precision}),ue.createElement(Ne,{label:s("details.field.legislation"),value:r.attributes.Lagrum}),n&&ue.createElement(Ke,{models:r.models})))},We=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.isOpen,i=e.onToggleOpen,r=e.feature,s=e.models,l=void 0===s?[]:s,u=(0,he.$)().t;return ue.createElement(Te,{hidePage:t,titleClickAction:a,isOpen:n,onToggleOpen:i,feature:r},ue.createElement("form",null,ue.createElement(Ne,{label:u("details.field.featureName"),value:r.properties.registerName}),ue.createElement(Ne,{label:u("details.field.municipality"),value:r.properties.municipality}),ue.createElement(Ne,{label:u("details.field.region"),value:r.properties.region}),ue.createElement(Ne,{label:u("details.field.dating")},ue.createElement("p",null,ue.createElement("span",null,Z(r.properties.dating))," ",ue.createElement(xe,{dating:r.properties.dating}))),ue.createElement(Ne,{label:u("details.field.type"),value:r.properties.type}),ue.createElement(Ne,{label:u("details.field.subType"),value:r.properties.subtype}),ue.createElement(Re,{feature:r}),ue.createElement(Pe,{url:"https://www.kyppi.fi/to.aspx?id=112."+r.properties.id,registerName:"Muinaisjäännösrekisteristä"}),n&&ue.createElement(Ke,{models:l})))},qe=function(e){var t=e.hidePage,a=e.titleClickAction,n=e.features,i=void 0===n?[]:n,r=e.models,s=void 0===r?[]:r,o=e.maisemanMuistiFeatures,c=void 0===o?[]:o,m=ue.useState(""),p=m[0],k=m[1],g=ue.useCallback((function(e){return k(p===e?"":e)}),[p]);return ue.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"},i.map((function(e){var n=e.layerName+"-"+R(e),i={key:n,hidePage:t,titleClickAction:a,isOpen:p===n,onToggleOpen:function(){return g(n)}};switch(e.layerName){case l.Muinaisjaannokset_piste:return ue.createElement(Ge,(0,d.pi)({feature:e},i));case l.Muinaisjaannokset_alue:return ue.createElement(Be,(0,d.pi)({feature:e},i));case l.RKY_alue:case l.RKY_viiva:case l.RKY_piste:return ue.createElement(Ve,(0,d.pi)({feature:e},i));case l.Maailmanperinto_alue:case l.Maailmanperinto_piste:return ue.createElement($e,(0,d.pi)({feature:e},i));case l.Suojellut_rakennukset_alue:case l.Suojellut_rakennukset_piste:return ue.createElement(ze,(0,d.pi)({feature:e},i));case u.Fornminnen:return ue.createElement(He,(0,d.pi)({feature:e},i));case u.MaritimtKulturarv:return ue.createElement(Je,(0,d.pi)({feature:e},i))}})),c.map((function(e){var n="maisemanMuisti-"+e.properties.id.toString();return ue.createElement(We,{key:n,hidePage:t,titleClickAction:a,isOpen:p===n,onToggleOpen:function(){return g(n)},feature:e,models:U(e,s)})})))},Qe=function(e){var t=e.visibility,a=e.hidePage,n=e.features,i=void 0===n?[]:n,r=e.models,s=void 0===r?[]:r,l=e.maisemanMuistiFeatures,u=void 0===l?[]:l,o=(0,he.$)().t;return ue.createElement(Le,{title:o("details.title"),visibility:t,hidePage:a},ue.createElement(qe,{hidePage:a,titleClickAction:Ee.OpenDetails,features:i,models:s,maisemanMuistiFeatures:u}))},Xe=function(e){var t=e.hidePage,a=e.features;return a?ue.createElement(ue.Fragment,null,ue.createElement("h5",{id:"search-result-header"},ue.createElement("span",null,"Hakutulokset"),ue.createElement("small",null," (",a.length," kpl)")),ue.createElement(qe,{hidePage:t,titleClickAction:Ee.ClosePageAndPinOnMap,features:a,models:[],maisemanMuistiFeatures:[]})):null},et=function(){var e=(0,he.$)().t;return ue.createElement("div",{className:"alert alert-danger",role:"alert"},e("search.error"))},tt=function(e){var t=e.visibility,a=e.hidePage,n=e.searchFeatures,i=e.searchResultFeatures,r=(0,he.$)().t,s=ue.useState(""),l=s[0],u=s[1],o=ue.useState(!1),c=o[0],m=o[1],p=ue.useRef(null);return ue.useEffect((function(){t===de.Visible&&setTimeout((function(){var e;return null===(e=p.current)||void 0===e?void 0:e.focus()}),500)}),[t]),ue.createElement(Le,{title:r("search.title"),visibility:t,hidePage:a},ue.createElement("form",{className:c?"has-error":void 0,onSubmit:function(e){e.stopPropagation(),e.preventDefault(),l.trim().length<3?m(!0):(m(!1),n(l))}},c&&ue.createElement(et,null),ue.createElement("span",{id:"helpBlock",className:"help-block"},r("search.info")),ue.createElement("div",{className:"input-group"},ue.createElement("input",{type:"text",ref:p,className:"form-control",placeholder:r("search.placeholder"),value:l,"aria-describedby":"helpBlock",onChange:function(e){return u(e.target.value)}}),ue.createElement("span",{className:"input-group-btn"},ue.createElement("button",{className:"btn btn-default",type:"submit"},r("search.searchButton"))))),ue.createElement(Xe,{features:i,hidePage:a}))},at=a(38817),nt=function(e){var t=e.title,a=e.children;return ue.createElement("div",{className:"panel panel-default"},ue.createElement("div",{className:"panel-heading"},t),ue.createElement("div",{className:"panel-body"},a))},it=function(){var e=(0,he.$)().t;return ue.createElement(nt,{title:e("info.siteInfo.title")},ue.createElement("p",null,e("info.siteInfo.registerInfo"),":"),ue.createElement("h5",null,e("common.organization.Museovirasto")),ue.createElement("ul",null,ue.createElement("li",null,ue.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/mjreki/read/asp/r_default.aspx",target:"_blank"},e("data.register.Muinaisjäännösrekisteri"))),ue.createElement("li",null,ue.createElement("a",{href:"https://www.kyppi.fi/palveluikkuna/rapea/read/asp/r_default.aspx",target:"_blank"},e("data.register.Rakennusperintörekisteri"))),ue.createElement("li",null,ue.createElement("a",{href:"https://www.museovirasto.fi/fi/tietoa-meista/kansainvalinen-toiminta/maailmanperintokohteet-suomessa",target:"_blank"},e("data.register.Maailmanperintökohteet"))),ue.createElement("li",null,ue.createElement("a",{href:"http://www.rky.fi/",target:"_blank"},e("data.register.Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt")))),ue.createElement("h5",null,e("common.organization.Ahvenamaan paikallishallinto")),ue.createElement("ul",null,ue.createElement("li",null,ue.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret",target:"_blank"},e("data.register.Ahvenamaan muinaisjäännösrekisteri"))),ue.createElement("li",null,ue.createElement("a",{href:"https://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/marinarkeologi",target:"_blank"},e("data.register.Ahvenamaan merellinen kulttuuriperintörekisteri")))),ue.createElement("p",null,e("info.siteInfo.info1")),ue.createElement("p",null,(0,at.Z)({pattern:/ICON/gm,decorator:function(e){return ue.createElement("span",{className:"glyphicon glyphicon-link","aria-hidden":"true"})},input:e("info.siteInfo.info2")})),ue.createElement("h5",null,ue.createElement(De.c,{i18nKey:"data.register.3Dmodels",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.siteInfo.3DModelsInfo",components:{a:ue.createElement("a",null)}})),ue.createElement("h5",null,e("info.siteInfo.positioningTitle")),ue.createElement("p",null,(0,at.Z)({pattern:/ICON/gm,decorator:function(e){return ue.createElement("span",{className:"glyphicon glyphicon-screenshot","aria-hidden":"true"})},input:e("info.siteInfo.positioningInfo")})),ue.createElement("h5",null,e("info.siteInfo.searchTitle")),ue.createElement("p",null,(0,at.Z)({pattern:/SEARCH_ICON|ALUE_ICONS/gm,decorator:function(e){return"SEARCH_ICON"===e?ue.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"}):"PIN_ICON"===e?ue.createElement("img",{src:"images/map-pin-small.png"}):""},input:e("info.siteInfo.searchInfo")})),ue.createElement("h5",null,e("info.siteInfo.settingsTitle")),ue.createElement("p",null,(0,at.Z)({pattern:/ICON/gm,decorator:function(e){return ue.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"})},input:e("info.siteInfo.settingsInfo")})),ue.createElement("h5",null,e("info.siteInfo.feedbackTitle")),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.siteInfo.feedbackInfo",components:{a:ue.createElement("a",null)}})),ue.createElement("h5",null,e("info.siteInfo.developersTitle")),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.siteInfo.developersInfo",components:{br:ue.createElement("br",null)}})))},rt=function(){var e=(0,he.$)().t;return ue.createElement(nt,{title:e("info.symbols")},ue.createElement("div",null,ue.createElement("div",null,ue.createElement("h5",null,e("data.register.Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt")),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/rky_piste.png"}),ue.createElement("span",null,e("common.features.Kohde"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/rky_viiva.png"}),ue.createElement("span",null,e("common.features.Viiva"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/rky_alue.png"}),ue.createElement("span",null,e("common.features.Alue")))),ue.createElement("div",null,ue.createElement("h5",null,e("data.register.Maailmanperintökohteet")),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_piste.png"}),ue.createElement("span",null,e("common.features.Kohde"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/maailmanperinto_alue.png"}),ue.createElement("span",null,e("common.features.Alue")))),ue.createElement("div",null,ue.createElement("h5",null,e("data.register.Rakennusperintörekisteri")),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_rakennus.png"}),ue.createElement("span",null,e("common.features.Rakennus"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/rakennusperintorekisteri_alue.png"}),ue.createElement("span",null,e("common.features.Alue")))),ue.createElement("h5",null,e("data.register.Muinaisjäännösrekisteri")),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_kohde.png"}),ue.createElement("span",null,e("data.featureType.Kiinteä muinaisjäännös"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muinaisjaannos_alue.png"}),ue.createElement("span",null,e("data.featureType.Kiinteä muinaisjäännös (alue)"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muu_kulttuuriperintokohde_kohde.png"}),ue.createElement("span",null,e("data.featureType.Muu kulttuuriperintökohde"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muu-kulttuuriperintokohde-alue.png"}),ue.createElement("span",null,e("data.featureType.Muu kulttuuriperintökohde (alue)")))),ue.createElement("div",null,ue.createElement("h5",null,e("data.register.Ahvenamaan muinaisjäännösrekisteri")),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_muinaisjaannos.png"}),ue.createElement("span",null,e("common.features.Kohde")))),ue.createElement("div",null,ue.createElement("h5",null,e("data.register.Ahvenamaan merellinen kulttuuriperintörekisteri")),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/ahvenanmaa_hylky.png"}),ue.createElement("span",null,e("common.features.Kohde")))),ue.createElement("div",null,ue.createElement("h5",null,ue.createElement(De.c,{i18nKey:"data.register.3Dmodels",components:{a:ue.createElement("a",null)}})),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/3d_malli_circle.png"}),ue.createElement("img",{className:"feature-icon",src:"images/3d_malli_square.png"}),ue.createElement("span",null,e("common.features.3D-malli")))),ue.createElement("div",null,ue.createElement("h5",null,ue.createElement(De.c,{i18nKey:"data.register.maisemanMuisti",components:{a:ue.createElement("a",null)}})),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/maiseman-muisti.png"}),ue.createElement("span",null,e("common.features.Valtakunnallisesti merkittävä muinaisjäännös")))))},st=function(){var e=(0,he.$)().t;return ue.createElement(nt,{title:e("info.licences.title")},ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.museovirasto",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.ahvenanmaa",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.maanmittauslaitos",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.gtk",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.maisemanmuisti",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.3DModels",components:{a:ue.createElement("a",null)}})),ue.createElement("p",null,ue.createElement(De.c,{i18nKey:"info.licences.sourceCode",components:{a:ue.createElement("a",null)}})))},lt=function(){return ue.createElement(nt,{title:"Versiohistoria"},ue.createElement("h5",null,"Helmikuu 2021"),ue.createElement("p",null,"Lisätty"," ",ue.createElement("a",{href:"https://www.gtk.fi/",target:"_blank"},"Geologian tutkimuskeskuksen")," ",ue.createElement("a",{href:"https://tupa.gtk.fi/paikkatieto/meta/ancient_shorelines.html",target:"_blank"},"Muinaisrannat"),"-aineisto karttatasona."),ue.createElement("br",null),ue.createElement("h5",null,"Tammikuu 2021"),ue.createElement("p",null,"Lisätty käännökset ruotsin kielelle (kiitos Jenni Lucenius ja Mikko Helminen!)."),ue.createElement("p",null,"Hakutuloksissa saa nyt kohteen tarkemmat tiedot auki suoraan."),ue.createElement("p",null,"Kiinteiden muinaisjäännösten tyyppi ja alatyyppi ovat nyt linkkejä"," ",ue.createElement("a",{href:"http://akp.nba.fi",target:"_blank"},"Arkeologisen kulttuuriperinnön opas")," ","-sivustolle."),ue.createElement("p",null,"Kokoruudun tila."),ue.createElement("br",null),ue.createElement("h5",null,"Joulukuu 2020"),ue.createElement("p",null,"Lisätty Ahvenanmaan muinaisjäännösrekisterin kohteisiin tyyppi, ajoitus ja alakohteiden lukumäärä."),ue.createElement("p",null,"Haku toimii nyt myös Ahvenanmaan muinaisjäännösrekisterin kohteen tunnuksella (esim. Sa 14.1)."),ue.createElement("br",null),ue.createElement("h5",null,"Marraskuu 2020"),ue.createElement("p",null,"Lisätty"," ",ue.createElement("a",{href:"./maisemanmuisti/",target:"_blank"},"Maiseman muisti - Valtakunnallisesti merkittävät muinaisjäännökset")," ","-kirjan paikkatietoaineisto kartalle"," ",ue.createElement("img",{src:"images/maiseman-muisti.png"})," korostuksella."),ue.createElement("p",null,"Karttatasojen näkyvyyksien asetukset päivitetään nyt selaimen osoitepalkkiin jolloin sivun lataaminen uudelleen palauttaa samat asetukset."),ue.createElement("p",null,"Hakukenttä hyväksyy nyt myös kohteen tunnuksen Museoviraston rekistereissä."),ue.createElement("br",null),ue.createElement("h5",null,"Toukokuu 2020"),ue.createElement("p",null,"Päivitetty Museoviraston"," ",ue.createElement("a",{href:"http://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer",target:"_blank"},"paikkatietoaineiston")," ","WMS-karttatasojen nimet koska niistä poistuivat ääkköset."),ue.createElement("br",null),ue.createElement("h5",null,"Huhtikuu 2020"),ue.createElement("p",null,"Lisätty 3D-mallien"," ",ue.createElement("a",{href:"./3d/",target:"_blank"},"tietokanta")," ","ja karttaan ",ue.createElement("img",{src:"images/3d_malli_circle.png"}),ue.createElement("img",{src:"images/3d_malli_square.png"})," korostus kohteille, joille löytyy 3D-malleja."),ue.createElement("br",null),ue.createElement("h5",null,"Helmikuu 2020"),ue.createElement("p",null,'Lisätty kartta-aineistojen viimeisin päivitysaika näkyviin "Lisätietoja sivustosta" -sivulle.'),ue.createElement("p",null,"Paikannus päivittää nyt automaattisesti omaa sijaintia kartalla."),ue.createElement("br",null),ue.createElement("h5",null,"Elokuu 2019"),ue.createElement("p",null,"Siirrytty käyttämään Ahvenanmaan maakuntahallinnon uutta"," ",ue.createElement("a",{href:"https://www.kartor.ax/datasets/fornminnen"},"kartor.ax")," ","karttapalvelua. Samalla kohteiden haku alkoi toimimaan myös Ahvenanmaan kohteille."),ue.createElement("p",null,"Kartalle klikattujen kohteiden listassa näkyy nyt otsikossa kohteen nimi. Listassa voi nyt myös olla monta saman tyyppistä kohdetta."),ue.createElement("br",null),ue.createElement("h5",null,"Heinäkuu 2019"),ue.createElement("p",null,"Korjattu Museoviraston muinaisjäännösrekisterin pisteiden filtteröinti ajoituksen ja tyypin perusteella."),ue.createElement("br",null),ue.createElement("h5",null,"Joulukuu 2018"),ue.createElement("p",null,"Siirrytty käyttämään Maanmittauslaitoksen uutta"," ",ue.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/kartta-ja-paikkatietojen-rajapintapalvelut-17"},"karttapalvelua"),", jonka myötä taustakartan ulkonäkö muuttui selkeämmäksi ja"," ",ue.createElement("a",{href:"https://www.maanmittauslaitos.fi/kartat-ja-paikkatieto/asiantuntevalle-kayttajalle/tuotekuvaukset/ortokuva"},"Ortokuvat")," ","saatiin käyttöön."),ue.createElement("p",null,"Siirrytty käyttämään Museoviraston uutta"," ",ue.createElement("a",{href:"https://www.avoindata.fi/data/fi/dataset/museoviraston-kulttuuriymparistoaineistot-suojellut-kohteet-wms-palvelu"},"karttapalvelua"),', jonka myötä saatiin käyttöön ruskeat "Muu kulttuuriperintökohde" -pisteet kartalle.'),ue.createElement("br",null),ue.createElement("h5",null,"Marraskuu 2017"),ue.createElement("p",null,"Lisätty kartalle Ahvenanmaan maakuntahallinnon"," ",ue.createElement("a",{href:"http://www.regeringen.ax/kulturarv/arkeologi-fornlamningar/fornlamningsregistret"},"muinaijäännösten rekisteri"),"."),ue.createElement("br",null),ue.createElement("h5",null,"Lokakuu 2015"),ue.createElement("p",null,"Ensimmäinen versio julkaistu."))},ut=function(e){var t=e.date,a=(0,he.$)().t;return void 0===t?ue.createElement("p",null,a("info.dataUpdates.loading")):null===t?ue.createElement("p",null,a("info.dataUpdates.error")):ue.createElement("p",null,t.toLocaleDateString("fi"))},ot=function(e){var t=e.dataLatestUpdateDates,a=(0,he.$)().t;return ue.createElement(nt,{title:a("info.dataUpdates.title")},ue.createElement("h5",null,a("info.dataUpdates.Museoviraston aineistot")),ue.createElement(ut,{date:null==t?void 0:t.museovirasto}),ue.createElement("h5",null,a("data.register.Ahvenamaan muinaisjäännösrekisteri")),ue.createElement(ut,{date:null==t?void 0:t.ahvenanmaaForminnen}),ue.createElement("h5",null,a("data.register.Ahvenamaan merellinen kulttuuriperintörekisteri")),ue.createElement(ut,{date:null==t?void 0:t.ahvenanmaaMaritimtKulturarv}),ue.createElement("h5",null,ue.createElement(De.c,{i18nKey:"data.register.3Dmodels",components:{a:ue.createElement("a",null)}})),ue.createElement(ut,{date:null==t?void 0:t.models}))},ct=function(e){var t=e.visibility,a=e.hidePage,n=e.dataLatestUpdateDates,i=(0,he.$)().t;return ue.createElement(Le,{title:i("info.title"),visibility:t,hidePage:a},ue.createElement(ot,{dataLatestUpdateDates:n}),ue.createElement(it,null),ue.createElement(rt,null),ue.createElement(st,null),ue.createElement(lt,null))},mt=function(e){var t=e.onClick,a=(0,he.$)().t;return ue.createElement("div",{id:"map-button-search",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary",title:a("common.button.search"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-search","aria-hidden":"true"})))},pt=function(e){var t=e.layer,a=e.selectedLayer,n=e.onSelectLayer,i=(0,he.$)().t,r=t===a;return ue.createElement("label",{className:"btn btn-default "+(r?"active":"")},ue.createElement("input",{type:"radio",name:"selectedMapLayer",checked:r,onChange:function(){return n(t)}}),i("settings.mml."+t))},kt=function(e){var t=e.selectedLayer,a=e.onSelectLayer,n=(0,he.$)().t;return ue.createElement(nt,{title:n("settings.mml.title")},ue.createElement("form",null,ue.createElement("div",{className:"form-group"},ue.createElement("div",{className:"btn-group","data-toggle":"buttons"},Object.values(s).map((function(e){return ue.createElement(pt,{key:e,layer:e,selectedLayer:t,onSelectLayer:a})})))),ue.createElement("small",{className:"pull-right"},n("settings.mml.licence"))))},dt=function(e){var t=e.label,a=e.layer,n=e.selectedLayers,i=e.onSelectLayer,r=n.includes(a);return ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return i(a)},checked:r}),K(a).map((function(e,t){return ue.createElement("img",{className:"feature-icon",key:t,src:e})})),ue.createElement("span",null,t)))},gt=function(e){var t=e.selectedModelLayers,a=e.selectedMaisemanMuistiLayers,n=e.onSelectModelLayer,i=e.onSelectMaisemanMuistiLayer,r=(0,he.$)().t;return ue.createElement(nt,{title:r("settings.other.title")},ue.createElement("form",null,ue.createElement("h5",null,ue.createElement(De.c,{i18nKey:"data.register.3Dmodels",components:{a:ue.createElement("a",null)}})),ue.createElement(dt,{label:r("common.features.3D-malli"),layer:o.ModelLayer,selectedLayers:t,onSelectLayer:n}),ue.createElement("h5",null,ue.createElement(De.c,{i18nKey:"data.register.maisemanMuisti",components:{a:ue.createElement("a",null)}})),ue.createElement(dt,{label:r("common.features.Valtakunnallisesti merkittävä muinaisjäännös"),layer:c.MaisemanMuisti,selectedLayers:a,onSelectLayer:i})))},ht=function(e){var t=e.selectedMuinaisjaannosTypes,a=e.onSelectTypes,n=(0,he.$)().t,i=ue.useMemo((function(){return Object.values(S)}),[]),r=Object.values(i).every((function(e){return t.includes(e)}));return ue.createElement("h5",null,ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return a(r?[]:i)},checked:r})," ",n("settings.filters.type")))},ft=function(e){var t=e.type,a=e.selectedMuinaisjaannosTypes,n=e.onSelectType,i=(0,he.$)().t,r=a.includes(t);return ue.createElement("div",{className:"checkbox"},ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:r}),i("data.museovirasto.type."+t)))},vt=function(e){var t=e.selectedMuinaisjaannosDatings,a=e.onSelectDatings,n=(0,he.$)().t,i=ue.useMemo((function(){return Object.values(_)}),[]),r=Object.values(i).every((function(e){return t.includes(e)}));return ue.createElement("h5",null,ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return a(r?[]:i)},checked:r})," ",n("settings.filters.dating")))},yt=function(e){var t=e.dating,a=e.selectedMuinaisjaannosDatings,n=e.onSelectDating,i=(0,he.$)().t,r=a.includes(t);return ue.createElement("div",{className:"checkbox"},ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return n(t)},checked:r})," ",i("data.museovirasto.dating."+t)))},bt=function(e){var t=e.selectedMuinaisjaannosTypes,a=e.selectedMuinaisjaannosDatings,n=e.onSelectMuinaisjaannosType,i=e.onSelectMuinaisjaannosDating,r=(0,he.$)(),s=r.t,l=r.i18n,u=ue.useMemo((function(){return(0,at.Z)({pattern:/PISTE_ICONS|ALUE_ICONS/gm,decorator:function(e){return"PISTE_ICONS"===e?ue.createElement(ue.Fragment,null,ue.createElement("img",{src:"images/muinaisjaannos_kohde.png"}),ue.createElement("img",{src:"images/muu_kulttuuriperintokohde_kohde.png"})):"ALUE_ICONS"===e?ue.createElement(ue.Fragment,null,ue.createElement("img",{src:"images/muinaisjaannos_alue.png"}),ue.createElement("img",{src:"images/muu-kulttuuriperintokohde-alue.png"})):""},input:s("settings.filters.info")})}),[l.language]),o=ue.useMemo((function(){return Object.values(S).map((function(e){return ue.createElement(ft,{key:e,type:e,selectedMuinaisjaannosTypes:t,onSelectType:n})}))}),[t,l.language]),c=ue.useMemo((function(){return Object.values(_).map((function(e){return ue.createElement(yt,{key:e,dating:e,selectedMuinaisjaannosDatings:a,onSelectDating:i})}))}),[a,l.language]);return ue.createElement(nt,{title:s("settings.filters.title")},ue.createElement("form",null,ue.createElement("div",{className:"well well-sm"},u),ue.createElement(ht,{selectedMuinaisjaannosTypes:t,onSelectTypes:n}),o,ue.createElement("br",null),ue.createElement(vt,{selectedMuinaisjaannosDatings:a,onSelectDatings:i}),c))},Et=function(e){var t=e.selectedLayers,a=e.opacity,n=e.onSelectLayer,i=e.onOpacityChange,r=(0,he.$)().t,s=Number(100*(1-a)).toFixed(0);return ue.createElement(nt,{title:r("settings.gtk.title")},ue.createElement("form",null,ue.createElement("h5",null,ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return n(m.muinaisrannat)},checked:t.includes(m.muinaisrannat)})," ",ue.createElement(De.c,{i18nKey:"data.gtk.layer."+m.muinaisrannat,components:{a:ue.createElement("a",null)}}))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muinaisrannat_supra_akvaattinen.png"}),ue.createElement("span",null,r("data.gtk.feature.supra-akvaattinen"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muinaisrannat_yoldia.png"}),ue.createElement("span",null,r("data.gtk.feature.yoldia"))),ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("img",{className:"feature-icon",src:"images/muinaisrannat_litorina.png"}),ue.createElement("span",null,r("data.gtk.feature.litorina"))),ue.createElement("div",{className:"form-group"},ue.createElement("label",{htmlFor:"gtkTransparency",style:{fontWeight:500}},r("settings.gtk.transparency")),ue.createElement("input",{id:"gtkTransparency",className:"form-control",style:{width:"auto"},type:"number",min:"0",max:"100",step:"5",onChange:function(e){var t=Number(e.target.value);t>100&&(t=100);var a=Number((1-t/100).toFixed(2));i(a)},value:s})),ue.createElement("small",{className:"pull-right"},r("settings.gtk.licence"))))},wt=function(e){var t=e.label,a=e.layer,n=e.selectedLayers,i=e.onSelectLayer,r=n.includes(a);return ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return i(a)},checked:r}),K(a).map((function(e,t){return ue.createElement("img",{className:"feature-icon",key:t,src:e})})),ue.createElement("span",null,t)))},Lt=function(e){var t=e.selectedMuseovirastoLayers,a=e.onSelectMuseovirastoLayer,n=(0,he.$)(),i=n.t,r=n.i18n,s=ue.useMemo((function(){return ue.createElement("form",null,ue.createElement("h5",null,i("data.register.Valtakunnallisesti merkittävät rakennetut kulttuuriympäristöt")),ue.createElement(wt,{label:i("common.features.Alue"),layer:l.RKY_alue,selectedLayers:t,onSelectLayer:a}),ue.createElement(wt,{label:i("common.features.Viiva"),layer:l.RKY_viiva,selectedLayers:t,onSelectLayer:a}),ue.createElement(wt,{label:i("common.features.Rakennus"),layer:l.RKY_piste,selectedLayers:t,onSelectLayer:a}),ue.createElement("h5",null,i("data.register.Maailmanperintökohteet")),ue.createElement(wt,{label:i("common.features.Alue"),layer:l.Maailmanperinto_alue,selectedLayers:t,onSelectLayer:a}),ue.createElement(wt,{label:i("common.features.Kohde"),layer:l.Maailmanperinto_piste,selectedLayers:t,onSelectLayer:a}),ue.createElement("h5",null,i("data.register.Rakennusperintörekisteri")),ue.createElement(wt,{label:i("common.features.Rakennettu alue"),layer:l.Suojellut_rakennukset_alue,selectedLayers:t,onSelectLayer:a}),ue.createElement(wt,{label:i("common.features.Rakennus"),layer:l.Suojellut_rakennukset_piste,selectedLayers:t,onSelectLayer:a}),ue.createElement("h5",null,i("data.register.Muinaisjäännösrekisteri")),ue.createElement(wt,{label:i("common.features.Alue"),layer:l.Muinaisjaannokset_alue,selectedLayers:t,onSelectLayer:a}),ue.createElement(wt,{label:i("common.features.Kohde"),layer:l.Muinaisjaannokset_piste,selectedLayers:t,onSelectLayer:a}))}),[t,r.language]);return ue.createElement(nt,{title:i("settings.museovirasto.title")},s,ue.createElement("small",{className:"pull-right"},i("settings.museovirasto.licence")))},jt=function(e){var t=e.label,a=e.layer,n=e.selectedLayers,i=e.onSelectLayer,r=n.includes(a);return ue.createElement("div",{className:"checkbox sub-layer-select-checkbox-container"},ue.createElement("label",null,ue.createElement("input",{type:"checkbox",onChange:function(){return i(a)},checked:r}),K(a).map((function(e,t){return ue.createElement("img",{className:"feature-icon",key:t,src:e})})),ue.createElement("span",null,t)))},Mt=function(e){var t=e.selectedAhvenanmaaLayers,a=e.onSelectAhvenanmaaLayer,n=(0,he.$)().t;return ue.createElement(nt,{title:n("settings.ahvenanmaa.title")},ue.createElement("form",null,ue.createElement("h5",null,n("data.register.Ahvenamaan muinaisjäännösrekisteri")),ue.createElement(jt,{label:n("common.features.Kohde"),layer:u.Fornminnen,selectedLayers:t,onSelectLayer:a}),ue.createElement("h5",null,n("data.register.Ahvenamaan merellinen kulttuuriperintörekisteri")),ue.createElement(jt,{label:n("common.features.Kohde"),layer:u.MaritimtKulturarv,selectedLayers:t,onSelectLayer:a})),ue.createElement("small",{className:"pull-right"},n("settings.ahvenanmaa.licence")))},St=function(e){var t=e.visibility,a=e.hidePage,n=e.settings,i=e.onSelectMaanmittauslaitosLayer,r=e.onSelectGtkLayer,s=e.onGtkLayerOpacityChange,l=e.onSelectMuseovirastoLayer,u=e.onSelectAhvenanmaaLayer,o=e.onSelectModelLayer,c=e.onSelectMaisemanMuistiLayer,m=e.onSelectMuinaisjaannosType,p=e.onSelectMuinaisjaannosDating,k=(0,he.$)().t;return ue.createElement(Le,{title:k("settings.title"),visibility:t,hidePage:a},ue.createElement(kt,{selectedLayer:n.maanmittauslaitos.selectedLayer,onSelectLayer:i}),ue.createElement(Et,{selectedLayers:n.gtk.selectedLayers,opacity:n.gtk.opacity,onSelectLayer:r,onOpacityChange:s}),ue.createElement(Lt,{selectedMuseovirastoLayers:n.museovirasto.selectedLayers,onSelectMuseovirastoLayer:l}),ue.createElement(Mt,{selectedAhvenanmaaLayers:n.ahvenanmaa.selectedLayers,onSelectAhvenanmaaLayer:u}),ue.createElement(gt,{selectedModelLayers:n.models.selectedLayers,selectedMaisemanMuistiLayers:n.maisemanMuisti.selectedLayers,onSelectModelLayer:o,onSelectMaisemanMuistiLayer:c}),ue.createElement(bt,{selectedMuinaisjaannosTypes:n.museovirasto.selectedMuinaisjaannosTypes,selectedMuinaisjaannosDatings:n.museovirasto.selectedMuinaisjaannosDatings,onSelectMuinaisjaannosType:m,onSelectMuinaisjaannosDating:p}))},_t=function(e){var t=e.onClick,a=(0,he.$)().t;return ue.createElement("div",{id:"map-button-settings",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary",title:a("common.button.settings"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-cog","aria-hidden":"true"})))},Ct={initialMapZoom:8,language:function(){var e,t=null===(e=navigator.language)||void 0===e?void 0:e.substr(0,2);return Object.values(i).some((function(e){return e===t}))?t:i.FI}(),maanmittauslaitos:{selectedLayer:s.Taustakartta,url:{WMTSCapabilities:"https://avoin-karttakuva.maanmittauslaitos.fi/avoin/wmts/1.0.0/WMTSCapabilities.xml"},apiKey:"0593cc3c-e12f-489c-b8d6-c9a6965b4bfe"},museovirasto:{selectedLayers:Object.values(l),selectedMuinaisjaannosTypes:Object.values(S),selectedMuinaisjaannosDatings:Object.values(_),url:{export:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/export",identify:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/identify",find:"https://kartta.nba.fi/arcgis/rest/services/WMS/MV_KulttuuriymparistoSuojellut/MapServer/find",updateDate:"https://dkfgv6jxivsxz.cloudfront.net/MV_inspire_atom.xml"}},ahvenanmaa:{selectedLayers:Object.values(u),url:{export:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/export",identify:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/identify",find:"https://kartor.regeringen.ax/arcgis/rest/services/Kulturarv/Fornminnen/MapServer/find",typeAndDating:"https://opendata.arcgis.com/datasets/4fa828b46a0740b18960cf3e91d35431_2.geojson",forminnenUpdateDate:"https://opendata.arcgis.com/api/v3/datasets?filter%5Bslug%5D=aland%3A%3Afornminnen",maritimtKulturarvUpdateDate:"https://opendata.arcgis.com/api/v3/datasets?filter%5Bslug%5D=aland%3A%3Amaritimt-kulturarv-vrak"}},models:{selectedLayers:Object.values(o),url:{geojson:"./3d/3d.json"}},maisemanMuisti:{selectedLayers:Object.values(c),url:{geojson:"./maisemanmuisti/maisemanmuisti.json"}},gtk:{selectedLayers:[],url:{export:"https://gtkdata.gtk.fi/arcgis/rest/services/Rajapinnat/GTK_Maapera_WMS/MapServer/export"},opacity:.7}},At=function(e,t){return(0,d.pi)((0,d.pi)({},e),{language:t})},Ft=function(e,t){return(0,d.pi)((0,d.pi)({},e),{maanmittauslaitos:(0,d.pi)((0,d.pi)({},e.maanmittauslaitos),{selectedLayer:t})})},Tt=function(e,t){return(0,d.pi)((0,d.pi)({},e),{gtk:(0,d.pi)((0,d.pi)({},e.gtk),{selectedLayers:t})})},Nt=function(e,t){return(0,d.pi)((0,d.pi)({},e),{gtk:(0,d.pi)((0,d.pi)({},e.gtk),{opacity:t})})},xt=function(e,t){return(0,d.pi)((0,d.pi)({},e),{museovirasto:(0,d.pi)((0,d.pi)({},e.museovirasto),{selectedLayers:t})})},Dt=function(e,t){return(0,d.pi)((0,d.pi)({},e),{ahvenanmaa:(0,d.pi)((0,d.pi)({},e.ahvenanmaa),{selectedLayers:t})})},Pt=function(e,t){return(0,d.pi)((0,d.pi)({},e),{models:(0,d.pi)((0,d.pi)({},e.models),{selectedLayers:t})})},It=function(e,t){return(0,d.pi)((0,d.pi)({},e),{maisemanMuisti:(0,d.pi)((0,d.pi)({},e.maisemanMuisti),{selectedLayers:t})})},Ot=function(e,t){return(0,d.pi)((0,d.pi)({},e),{museovirasto:(0,d.pi)((0,d.pi)({},e.museovirasto),{selectedMuinaisjaannosTypes:t})})},Kt=function(e,t){return(0,d.pi)((0,d.pi)({},e),{museovirasto:(0,d.pi)((0,d.pi)({},e.museovirasto),{selectedMuinaisjaannosDatings:t})})},Rt="none",Ut=function(e,t){return Object.values(e).some((function(e){return e===t}))},Zt=function(e,t,a,n){return a===Rt?n(e,[]):Ut(t,a)?n(e,[a]):Array.isArray(a)&&function(e,t){return t.every((function(t){return Ut(e,t)}))}(t,a)?n(e,a):e},Gt=function(e,t,a,n){var i,r;return 0===t.length&&0===a.length||t.length>0&&t.every((function(e){return a.includes(e)}))?(0,d.pi)((0,d.pi)({},e),{old:(0,d.pi)((0,d.pi)({},e.old),(i={},i[n]=void 0,i))}):(0,d.pi)((0,d.pi)({},e),{next:(0,d.pi)((0,d.pi)({},e.next),(r={},r[n]=a.length>0?a:[Rt],r))})},Bt=function(e,t,a,n){var i,r;return t===a?(0,d.pi)((0,d.pi)({},e),{old:(0,d.pi)((0,d.pi)({},e.old),(i={},i[n]=void 0,i))}):(0,d.pi)((0,d.pi)({},e),{next:(0,d.pi)((0,d.pi)({},e.next),(r={},r[n]=a,r))})},Vt=function(e){var t=e.onClick,a=e.fullscreenPossible,n=(0,he.$)().t;return a?ue.createElement("div",{id:"map-button-fullscreen",className:"map-button"},ue.createElement("button",{type:"button",className:"btn btn-primary btn-sm",title:n("common.button.fullscreen"),onClick:t},ue.createElement("span",{className:"glyphicon glyphicon-fullscreen","aria-hidden":"true"}))):null};!function(e){e.Search="searchPage",e.Info="infoPage",e.Settings="settingsPage",e.Details="detailsPage"}(Ze||(Ze={}));var $t=function(e,t){return t.includes(e)?t.filter((function(t){return t!==e})):(0,d.pr)(t,[e])};ce.Z.use(me.Db).init({resources:{fi:{translation:pe},sv:{translation:ke}},lng:i.FI,supportedLngs:Object.values(i),fallbackLng:i.FI,defaultNS:"translation",interpolation:{escapeValue:!1}});const zt=function(e,t){var a=this;this.pageClosingAnimationTimeoutID={},this.loadingAnimationCounter=0,this.onSearchFeatures=function(e){a.eventListeners.searchFeatures(e),a.searchResultFeatures=void 0,a.renderUI()},this.onSelectMaanmittauslaitosLayer=function(e){a.settings=Ft(a.settings,e),a.eventListeners.selectedMaanmittauslaitosLayerChanged(a.settings),a.renderUI()},this.onSelectGTKLayer=function(e){a.settings=Tt(a.settings,$t(e,a.settings.gtk.selectedLayers)),a.eventListeners.selectedGtkLayerChanged(a.settings,r.GTK),a.renderUI()},this.onGtkLayerOpacityChange=function(e){a.settings=Nt(a.settings,e),a.eventListeners.onGtkLayerOpacityChange(a.settings),a.renderUI()},this.onSelectMuseovirastoLayer=function(e){a.settings=xt(a.settings,$t(e,a.settings.museovirasto.selectedLayers)),a.eventListeners.selectedFeatureLayersChanged(a.settings,r.Museovirasto),a.renderUI()},this.onSelectAhvenanmaaLayer=function(e){a.settings=Dt(a.settings,$t(e,a.settings.ahvenanmaa.selectedLayers)),a.eventListeners.selectedFeatureLayersChanged(a.settings,r.Ahvenanmaa),a.renderUI()},this.onSelectModelLayer=function(e){a.settings=Pt(a.settings,$t(e,a.settings.models.selectedLayers)),a.eventListeners.selectedFeatureLayersChanged(a.settings,r.Models),a.renderUI()},this.onSelectMaisemanMuistiLayer=function(e){a.settings=It(a.settings,$t(e,a.settings.maisemanMuisti.selectedLayers)),a.eventListeners.selectedFeatureLayersChanged(a.settings,r.MaisemanMuisti),a.renderUI()},this.onSelectMuinaisjaannosType=function(e){Array.isArray(e)?a.settings=Ot(a.settings,e):a.settings=Ot(a.settings,$t(e,a.settings.museovirasto.selectedMuinaisjaannosTypes)),a.eventListeners.selectedMuinaisjaannosTypesChanged(a.settings),a.renderUI()},this.onSelectMuinaisjaannosDating=function(e){Array.isArray(e)?a.settings=Kt(a.settings,e):a.settings=Kt(a.settings,$t(e,a.settings.museovirasto.selectedMuinaisjaannosDatings)),a.eventListeners.selectedMuinaisjaannosDatingsChanged(a.settings),a.renderUI()},this.toggleFullscreen=function(){document.fullscreenElement?document.fullscreenElement&&document.exitFullscreen():document.body.requestFullscreen()},this.renderUI=function(){var e=a.loadingAnimationCounter>0,t=a.eventListeners,n=t.zoomIn,i=t.zoomOut,r=t.centerToCurrentPositions;oe.render(ue.createElement(ue.Fragment,null,ue.createElement(ge,{visible:e,isPageOpen:!!a.visiblePage}),ue.createElement(fe,{onClick:n}),ue.createElement(ve,{onClick:i}),ue.createElement(ye,{onClick:r}),ue.createElement(mt,{onClick:function(){return a.showPage(Ze.Search)}}),ue.createElement(be,{onClick:function(){return a.showPage(Ze.Info)}}),ue.createElement(_t,{onClick:function(){return a.showPage(Ze.Settings)}}),ue.createElement(Vt,{onClick:a.toggleFullscreen,fullscreenPossible:document.fullscreenEnabled}),ue.createElement(Qe,{visibility:a.getPageVisibility(Ze.Details),hidePage:a.hidePage,features:a.selectedFeatures,models:a.selectedModels,maisemanMuistiFeatures:a.selectedMaisemanMuistiFeatures}),ue.createElement(tt,{visibility:a.getPageVisibility(Ze.Search),hidePage:a.hidePage,searchFeatures:a.onSearchFeatures,searchResultFeatures:a.searchResultFeatures}),ue.createElement(ct,{visibility:a.getPageVisibility(Ze.Info),hidePage:a.hidePage,dataLatestUpdateDates:a.dataLatestUpdateDates}),ue.createElement(St,{visibility:a.getPageVisibility(Ze.Settings),hidePage:a.hidePage,settings:a.settings,onSelectMaanmittauslaitosLayer:a.onSelectMaanmittauslaitosLayer,onSelectGtkLayer:a.onSelectGTKLayer,onGtkLayerOpacityChange:a.onGtkLayerOpacityChange,onSelectMuseovirastoLayer:a.onSelectMuseovirastoLayer,onSelectAhvenanmaaLayer:a.onSelectAhvenanmaaLayer,onSelectModelLayer:a.onSelectModelLayer,onSelectMaisemanMuistiLayer:a.onSelectMaisemanMuistiLayer,onSelectMuinaisjaannosType:a.onSelectMuinaisjaannosType,onSelectMuinaisjaannosDating:a.onSelectMuinaisjaannosDating})),document.getElementById("ui"))},this.getPageVisibility=function(e){return a.visiblePage===e?de.Visible:a.pageClosingAnimationTimeoutID[e]?de.Closing:de.Hidden},this.showPage=function(e){a.visiblePage!==e&&(a.abortClosingPage(e),a.visiblePage=e,e===Ze.Info&&a.eventListeners.fetchDataLatestUpdateDates(),a.renderUI())},this.hidePage=function(){a.visiblePage&&a.startClosingPage(a.visiblePage),a.visiblePage=void 0,a.renderUI()},this.startClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]=window.setTimeout((function(){a.pageClosingAnimationTimeoutID[e]=void 0,a.renderUI()}),500)},this.abortClosingPage=function(e){a.pageClosingAnimationTimeoutID[e]&&(window.clearTimeout(a.pageClosingAnimationTimeoutID[e]),a.pageClosingAnimationTimeoutID[e]=void 0)},this.showLoadingAnimation=function(e){var t=a.loadingAnimationCounter;e?a.loadingAnimationCounter++:a.loadingAnimationCounter--,0===t&&1===a.loadingAnimationCounter&&(a.loadingAnimationTimeoutID=window.setTimeout((function(){a.loadingAnimationTimeoutID&&a.renderUI()}),300)),1===t&&0===a.loadingAnimationCounter&&(window.clearTimeout(a.loadingAnimationTimeoutID),a.loadingAnimationTimeoutID=void 0,a.renderUI())},this.featuresSelected=function(e,t,n){0===e.length&&0===n.length||(a.selectedFeatures=e,a.selectedModels=t,a.selectedMaisemanMuistiFeatures=n,a.visiblePage=Ze.Details,a.renderUI())},this.featureSearchReady=function(e){a.searchResultFeatures=e,a.renderUI()},this.dataLatestUpdateDatesReady=function(e){a.dataLatestUpdateDates=e,a.renderUI()},this.settings=e,this.eventListeners=t,ce.Z.changeLanguage(this.settings.language),ce.Z.on("languageChanged",(function(e){a.settings=At(a.settings,e),a.eventListeners.selectedLanguageChanged(a.settings)})),this.renderUI()};new function(){var e=this;this.determineStartLocation=function(){Ce()?e.setMapLocationFromURLHash():e.map.centerToCurrentPositions()},this.setMapLocationFromURLHash=function(){var t=Ce();t&&(e.map.setMapLocation(t),e.map.showSelectedLocationMarker(t))},this.updateSettings=function(t){e.settings=t,function(e,t){var a={next:{},old:Me()};a=Bt(a,e.language,t.language,"lang"),a=Bt(a,e.maanmittauslaitos.selectedLayer,t.maanmittauslaitos.selectedLayer,"mmlLayer"),a=Gt(a,e.gtk.selectedLayers,t.gtk.selectedLayers,"gtkLayer"),a=Bt(a,e.gtk.opacity,t.gtk.opacity,"gtkOpacity"),a=Gt(a,e.museovirasto.selectedLayers,t.museovirasto.selectedLayers,"museovirastoLayer"),a=Gt(a,e.museovirasto.selectedMuinaisjaannosTypes,t.museovirasto.selectedMuinaisjaannosTypes,"muinaisjaannosTypes"),a=Gt(a,e.museovirasto.selectedMuinaisjaannosDatings,t.museovirasto.selectedMuinaisjaannosDatings,"muinaisjaannosDatings"),a=Gt(a,e.ahvenanmaa.selectedLayers,t.ahvenanmaa.selectedLayers,"ahvenanmaaLayer"),a=Gt(a,e.models.selectedLayers,t.models.selectedLayers,"modelsLayer"),a=Gt(a,e.maisemanMuisti.selectedLayers,t.maisemanMuisti.selectedLayers,"maisemanMuistiLayer"),window.location.hash=Se((0,d.pi)((0,d.pi)({},a.old),a.next))}(Ct,e.settings)},this.settings=function(e){var t=e,a=Me(),n=a.zoom,r=a.lang,p=a.mmlLayer,k=a.gtkLayer,g=a.gtkOpacity,h=a.museovirastoLayer,f=a.muinaisjaannosTypes,v=a.muinaisjaannosDatings,y=a.ahvenanmaaLayer,b=a.modelsLayer,E=a.maisemanMuistiLayer;return void 0!==n&&(t=(0,d.pi)((0,d.pi)({},t),{initialMapZoom:n})),void 0!==r&&Ut(i,r)&&(t=At(t,r)),p&&Ut(s,p)&&(t=Ft(t,p)),k&&(t=Zt(t,m,k,Tt)),void 0!==g&&(t=Nt(t,g)),h&&(t=Zt(t,l,h,xt)),f&&(t=Zt(t,S,f,Ot)),v&&(t=Zt(t,_,v,Kt)),y&&(t=Zt(t,u,y,Dt)),b&&(t=Zt(t,o,b,Pt)),E&&(t=Zt(t,c,E,It)),t}(Ct),this.map=new ie(this.settings,{featuresSelected:function(t,a,n){e.ui.featuresSelected(t,a,n)},showLoadingAnimation:function(t){e.ui.showLoadingAnimation(t)},featureSearchReady:function(t){e.ui.featureSearchReady(t)},dataLatestUpdateDatesReady:function(t){e.ui.dataLatestUpdateDatesReady(t)}}),this.ui=new zt(this.settings,{searchFeatures:function(t){e.map.searchFeatures(t)},zoomIn:function(){e.map.zoomIn()},zoomOut:function(){e.map.zoomOut()},centerToCurrentPositions:function(){e.map.centerToCurrentPositions()},selectedMaanmittauslaitosLayerChanged:function(t){e.updateSettings(t),e.map.selectedMaanmittauslaitosLayerChanged(t)},selectedGtkLayerChanged:function(t,a){e.updateSettings(t),e.map.selectedFeatureLayersChanged(t,a)},onGtkLayerOpacityChange:function(t){e.updateSettings(t),e.map.gtkLayerOpacityChanged(t)},selectedFeatureLayersChanged:function(t,a){e.updateSettings(t),e.map.selectedFeatureLayersChanged(t,a)},selectedMuinaisjaannosTypesChanged:function(t){e.updateSettings(t),e.map.selectedMuinaisjaannosTypesChanged(t)},selectedMuinaisjaannosDatingsChanged:function(t){e.updateSettings(t),e.map.selectedMuinaisjaannosDatingsChanged(t)},selectedLanguageChanged:function(t){e.updateSettings(t)},fetchDataLatestUpdateDates:function(){e.map.fetchDataLatestUpdateDates(e.settings)}}),window.onhashchange=function(){e.setMapLocationFromURLHash()},this.determineStartLocation()}}},t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.exports}a.m=e,a.x=e=>{},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={143:0},t=[[32842,551,894,670,400]],n=e=>{},i=(i,r)=>{for(var s,l,[u,o,c,m]=r,p=0,k=[];p<u.length;p++)l=u[p],a.o(e,l)&&e[l]&&k.push(e[l][0]),e[l]=0;for(s in o)a.o(o,s)&&(a.m[s]=o[s]);for(c&&c(a),i&&i(r);k.length;)k.shift()();return m&&t.push.apply(t,m),n()},r=self.webpackChunkmuinaismuistot=self.webpackChunkmuinaismuistot||[];function s(){for(var n,i=0;i<t.length;i++){for(var r=t[i],s=!0,l=1;l<r.length;l++){var u=r[l];0!==e[u]&&(s=!1)}s&&(t.splice(i--,1),n=a(a.s=r[0]))}return 0===t.length&&(a.x(),a.x=e=>{}),n}r.forEach(i.bind(null,0)),r.push=i.bind(null,r.push.bind(r));var l=a.x;a.x=()=>(a.x=l||(e=>{}),(n=s)())})(),a.x()})();